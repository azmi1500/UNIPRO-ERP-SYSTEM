<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNIPROSG - HRMS</title>
    <link rel="icon" href="unipro-logo-white.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">


    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #0B6C65;
            --secondary: #64748b;
            --success: #10b981;
            --warning: #FCB814;
            --danger: #ef4444;
            --dark: #404040;
            --light: #ECFDFE;
            --sidebar-bg: #0B6C65;
            --sidebar-text: #cbd5e1;
            --sidebar-hover: #FCB814;
        }

        body {
            background-color: var(--light);
            color: var(--dark);
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: 260px;
            background: var(--sidebar-bg);
            color: var(--sidebar-text);
            height: 100vh;
            position: fixed;
            overflow-y: auto;
            transition: all 0.3s;
        }

        .logo {
            padding: 20px 15px;
            border-bottom: 1px solid #0a5c56;
            text-align: center;
        }

        .logo h1 {
            color: white;
            font-size: 24px;
            font-weight: 700;
        }

        .logo h2 {
            color: var(--sidebar-text);
            font-size: 14px;
            font-weight: 400;
            margin-top: 5px;
        }

        .nav-menu {
            padding: 15px 0;
        }

        .nav-menu ul {
            list-style: none;
        }

        .nav-menu li {
            padding: 12px 20px;
            transition: all 0.3s;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .nav-menu li:hover {
            background: var(--sidebar-hover);
        }

        .nav-menu li.active {
            background: var(--warning);
            color: var(--dark);
        }

        .nav-menu li.active .arrow {
            color: var(--dark);
        }

        .nav-menu li i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        .nav-menu li .arrow {
            font-size: 12px;
            transition: transform 0.3s;
        }

        .nav-menu li.active .arrow {
            transform: rotate(90deg);
        }

        .dropdown-menu.show {
            max-height: 500px;
            overflow-y: auto;
        }

        .dropdown-menu li {

            padding-right: 20px;
            font-size: 14px;
            border-left: 3px solid transparent;
            min-height: 44px;
            display: flex;
            align-items: center;
        }

        .dropdown-menu li:hover {
            border-left: 3px solid var(--warning);
            background: #0a5c56;
        }

        .dropdown-menu li.active {
            background: var(--warning);
            color: var(--dark);
            font-weight: 600;
            border-left: 3px solid var(--warning);
        }

        .nested-dropdown {
            background: #063732;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .nested-dropdown.show {
            max-height: 600px;
            overflow-y: auto;
        }

        .nested-dropdown li {
            padding-left: 70px;
            font-size: 13px;
            min-height: 40px;
            display: flex;
            align-items: center;
        }

        .nested-dropdown li:hover {
            border-left: 3px solid var(--warning);
            background: #0a5c56;
        }

        .nested-dropdown li.active {
            background: var(--warning);
            color: var(--dark);
            font-weight: 600;
            border-left: 3px solid var(--warning);
        }

        .important-item {
            font-weight: 600;
            color: white;
        }

        .dropdown-menu::-webkit-scrollbar,
        .nested-dropdown::-webkit-scrollbar {
            width: 6px;
        }

        .dropdown-menu::-webkit-scrollbar-track,
        .nested-dropdown::-webkit-scrollbar-track {
            background: #0a5c56;
        }

        .dropdown-menu::-webkit-scrollbar-thumb,
        .nested-dropdown::-webkit-scrollbar-thumb {
            background: var(--warning);
            border-radius: 3px;
        }

        .dropdown-menu::-webkit-scrollbar-thumb:hover,
        .nested-dropdown::-webkit-scrollbar-thumb:hover {
            background: #e6a413;
        }

        .company-section {
            padding: 20px 15px;
            border-top: 1px solid #0a5c56;
            margin-top: 20px;
        }

        .company-section h3 {
            font-size: 14px;
            color: #0B6C65;
            margin-bottom: 10px;
        }

        .company-name {
            background: #084c47;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            font-weight: 500;
        }

        .main-content {
            flex: 1;
            margin-left: 260px;
            padding: 20px;
        }

        .header {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 30px;
            position: relative;
            background: #0B6C65;
            /* Dark Green */
            padding: 25px 20px;
            border-radius: 12px;
            border: 3px solid #ECFDFE;
            /* Light Green Border */
            box-shadow: 0 8px 25px rgba(248, 248, 248, 0.4);
        }

        .header h1 {
            color: var(--light);
            font-size: 28px;
            text-align: center;
            margin: 0;
        }

        .user-info {
            position: absolute;
            right: 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 18px;
        }

        .person-icon {
            font-size: 20px;
        }

        .window-dropdown {
            position: relative;
        }

        .window-options {
            position: absolute;
            top: 45px;
            right: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            min-width: 150px;
            padding: 10px 0;
            z-index: 1000;
            display: none;
        }

        .window-options.show {
            display: block;
        }

        .window-option {
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s;
            color: var(--dark);
            font-weight: 500;
        }

        .window-option:hover {
            background: var(--warning);
            color: var(--dark);
        }

        .content-area {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            min-height: 400px;
            border-left: 4px solid var(--primary);
        }

        .page-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e2e8f0;
        }

        .card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid var(--primary);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--dark);
        }

        .notifications,
        .window-icon {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: #f1f5f9;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--dark);
            cursor: pointer;
            transition: all 0.3s;
        }

        .notifications:hover,
        .window-icon:hover {
            background: var(--warning);
            color: var(--dark);
        }

        .user-name {
            font-weight: 500;
            color: var(--dark);
        }

        .welcome-message {
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-message h2 {
            color: var(--dark);
            font-size: 32px;
            margin-bottom: 15px;
        }

        .welcome-message p {
            color: var(--secondary);
            font-size: 18px;
            margin-bottom: 30px;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .feature-card {
            background: var(--light);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid var(--primary);
        }

        .feature-card i {
            font-size: 36px;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .feature-card h3 {
            color: var(--dark);
            margin-bottom: 10px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .stat-card {
            background: var(--light);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid var(--primary);
        }

        .stat-card i {
            font-size: 36px;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .stat-card h3 {
            color: var(--dark);
            margin-bottom: 10px;
        }

        .stat-number {
            font-size: 32px;
            font-weight: bold;
            color: var(--primary);
        }

        @media (max-width: 992px) {
            .sidebar {
                width: 70px;
            }

            .sidebar .logo h1,
            .sidebar .logo h2,
            .sidebar .nav-text,
            .sidebar .company-section h3,
            .sidebar .company-name {
                display: none;
            }

            .sidebar .nav-menu li {
                justify-content: center;
            }

            .sidebar .nav-menu li i {
                margin-right: 0;
                font-size: 20px;
            }

            .main-content {
                margin-left: 70px;
            }

            .nested-dropdown li {
                padding-left: 30px;
            }
        }

        .customer-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .customer-table th {
            background: #f8fafc;
            padding: 12px;
            text-align: left;
            border-bottom: 2px solid #e2e8f0;
            font-weight: 600;
            color: var(--dark);
        }

        .customer-table td {
            padding: 12px;
            border-bottom: 1px solid #e2e8f0;
        }

        .customer-table tr:hover {
            background: #f8fafc;
        }

        .action-buttons {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            font-weight: 500;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-secondary {
            background: var(--secondary);
            color: white;
        }

        .form-select:focus,
        input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .btn-outline:hover {
            background: #f8fafc;
            border-color: var(--primary);
            color: var(--primary);
        }

        .btn-primary:hover {
            background: var(--warning);
            color: var(--dark);
        }

        .stats-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border-left: 4px solid var(--primary);
        }

        .stat-number {
            font-size: 42px;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 16px;
            color: var(--dark);
            margin-bottom: 12px;
            font-weight: 500;
        }

        .more-info {
            color: var(--primary);
            font-size: 14px;
            cursor: pointer;
        }

        .more-info:hover {
            text-decoration: underline;
        }

        .dashboard-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }

        .section-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .section-card h3 {
            color: var(--dark);
            margin-bottom: 20px;
            font-size: 18px;
            border-bottom: 2px solid var(--light);
            padding-bottom: 10px;
        }

        .summary-menu {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .menu-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            background: var(--light);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .menu-item:hover {
            background: var(--primary);
            color: white;
        }

        .menu-item i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .view-all {
            color: var(--primary);
            text-decoration: none;
            font-size: 14px;
        }

        .view-all:hover {
            text-decoration: underline;
        }

        .notifications-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .dropdown-menu {
            background: #1e2a5a;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            scrollbar-width: thin;
            scrollbar-color: var(--warning) #1e2a5a;
        }

        .dropdown-menu.show {
            max-height: 200px;
            /* Adjust based on your needs */
            overflow-y: auto;
        }

        .dropdown-menu::-webkit-scrollbar {
            width: 6px;
        }

        .dropdown-menu::-webkit-scrollbar-track {
            background: #1e2a5a;
            border-radius: 3px;
        }

        .dropdown-menu::-webkit-scrollbar-thumb {
            background: var(--warning);
            border-radius: 3px;
        }

        .dropdown-menu::-webkit-scrollbar-thumb:hover {
            background: #e6a413;
        }

        .dropdown-menu {
            scrollbar-width: thin;
            scrollbar-color: var(--warning) #1e2a5a;
        }

        .dropdown-menu.show {
            max-height: 250px;
            /* Increased height for more items */
            overflow-y: auto;
        }

        .menu-item-dot {
            display: flex;
            align-items: center;
            padding: 8px 15px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .menu-item-dot:hover {
            background: var(--primary);
            color: white;
        }

        .dot-icon {
            width: 6px;
            height: 6px;
            background: var(--sidebar-text);
            border-radius: 50%;
            margin-right: 12px;
            margin-left: 5px;
        }

        .menu-item-dot:hover .dot-icon {
            background: white;
        }

        .menu-item-text {
            font-size: 14px;
            font-weight: 500;
        }

        .notification-item {
            display: flex;
            align-items: center;
            padding: 12px;
            background: var(--light);
            border-radius: 8px;
        }

        .notification-icon {
            background: var(--primary);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
        }

        .notification-title {
            font-weight: 500;
            color: var(--dark);
        }

        .notification-time {
            font-size: 12px;
            color: var(--secondary);
        }

        .dashboard-footer {
            text-align: center;
            padding: 20px;
            color: var(--secondary);
            font-size: 14px;
            border-top: 1px solid #e2e8f0;
        }

        .admin-status {
            margin-top: 8px;
        }

        .admin-name {
            color: white;
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 4px;
        }

        .online-status {
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--sidebar-text);
            font-size: 12px;
            gap: 6px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: #10b981;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }

            100% {
                opacity: 1;
            }
        }

        .nav-menu li:hover {
            background: var(--sidebar-hover);
            color: var(--dark);
            border-left: 3px solid var(--warning);
        }

        .nav-menu li.active {
            background: var(--warning);
            color: var(--dark);
            border-left: 3px solid var(--warning);
            font-weight: 600;
        }

        .nav-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 20px;
            transition: all 0.3s;
            cursor: pointer;
            border-left: 3px solid transparent;
        }

        .nav-item:hover {
            background: var(--sidebar-hover);
            color: var(--dark);
            border-left: 3px solid var(--warning);
        }

        .nav-item.active {
            background: var(--warning);
            color: var(--dark);
            border-left: 3px solid var(--warning);
            font-weight: 600;
        }

        .nav-item i {
            margin-right: 12px;
            width: 20px;
            text-align: center;
            font-size: 16px;
        }

        .nav-text {
            flex: 1;
            font-size: 14px;
            font-weight: 500;
        }

        .nested-dropdown {
            background: #1a2352;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .nested-dropdown.show {
            max-height: 200px;
            overflow-y: auto;
        }

        .nested-item {
            display: flex;
            align-items: center;
            padding: 8px 15px 8px 60px;
            /* More indentation */
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 3px solid transparent;
        }

        .nested-item:hover {
            background: #1e3a8a;
            border-left: 3px solid var(--warning);
        }

        .nested-dot {
            width: 4px;
            height: 4px;
            background: var(--sidebar-text);
            border-radius: 50%;
            margin-right: 10px;
        }

        .nested-item:hover .nested-dot {
            background: white;
        }

        .arrow {
            font-size: 10px;
            color: var(--sidebar-text);
            transition: transform 0.3s;
            margin-left: 10px;
        }

        .dropdown-toggle.active .arrow {
            transform: rotate(90deg);
            color: var(--dark);
        }

        .dropdown-menu.show {
            max-height: 200px;
        }

        .dropdown-menu li:hover {
            border-left: 3px solid var(--warning);
            background: #1e3a8a;
            color: white;
        }
    </style>
</head>

<body>
    <div class="sidebar">
        <div class="logo">
            <h1>UNIPROSG PVT LTD</h1>
            <div class="admin-status">
                <div class="admin-name">admin</div>
                <div class="online-status">
                    <div class="status-dot"></div>
                    Online
                </div>
            </div>
        </div>
        <div class="nav-menu">
            <ul>
                <li class="nav-item" data-page="home">
                    <div>
                        <i class="fas fa-home"></i>
                        <span class="nav-text">Dashboard</span>
                    </div>
                </li>
                <li class="nav-item" data-page="customer">
                    <i class="fas fa-users"></i>
                    <span class="nav-text" data-page="customers">Customers</span>
                </li>
                <li class="nav-item dropdown-toggle" data-toggle="projects">
                    <i class="fas fa-project-diagram"></i>
                    <span class="nav-text">Projects</span>
                    <span class="arrow">â–¶</span>
                </li>
                <ul class="dropdown-menu" id="projects-dropdown">
                    <li class="dropdown-item" data-page="project-management">Projects</li>
                    <li class="dropdown-item" data-page="project-tasks">Project Tasks</li>
                </ul>
                <li class="nav-item" data-page="employees">
                    <i class="fas fa-user-tie"></i>
                    <span class="nav-text">Employees</span>
                </li>
                <li class="nav-item dropdown-toggle" data-toggle="transactions">
                    <i class="fas fa-exchange-alt"></i>
                    <span class="nav-text">Transactions</span>
                    <span class="arrow">â–¶</span>
                </li>
                <ul class="dropdown-menu" id="transactions-dropdown">
                    <li class="dropdown-item dropdown-toggle nested" data-toggle="transactions-employee-attendance">
                        <div class="dot-icon"></div>
                        <div>
                            <span class="menu-item-text">Employee Attendance</span>
                        </div>
                        <span class="arrow">â–¶</span>
                    </li>
                    <ul class="nested-dropdown" id="transactions-employee-attendance-dropdown">
                        <li class="dropdown-item" data-page="monthly-attendance">Monthly Attendance</li>
                        <li class="dropdown-item" data-page="daily-attendance">Daily Attendance</li>
                        <li class="dropdown-item" data-page="daily-clock-in-out">Daily Clock-In-Out</li>
                        <li class="dropdown-item" data-page="invalid-clock-in-out">Invalid Clock In Out</li>
                        <li class="dropdown-item" data-page="hr-clock-in-out">HR Clock In Out</li>
                    </ul>
                    <li class="dropdown-item" data-page="leave-management">
                        <div class="dot-icon"></div>
                        <span class="menu-item-text">Leave Management</span>
                    </li>
                    <li class="dropdown-item" data-page="leave-carry-forward">
                        <div class="dot-icon"></div>
                        <span class="menu-item-text">Leave Carry Forward</span>
                    </li>
                    <li class="dropdown-item" data-page="loan-management">
                        <div class="dot-icon"></div>
                        <span class="menu-item-text">Loan Management</span>
                    </li>
                    <li class="dropdown-item" data-page="earnings-deductions">
                        <div class="dot-icon"></div>
                        <span class="menu-item-text">Earnings & Deductions</span>
                    </li>
                    <li class="dropdown-item" data-page="claim-management">
                        <div class="dot-icon"></div>
                        <span class="menu-item-text">Claim Management</span>
                    </li>
                    <li class="dropdown-item" data-page="commission">
                        <div class="dot-icon"></div>
                        <span class="menu-item-text">Commission</span>
                    </li>
                    <li class="dropdown-item" data-page="pay-generation">
                        <div class="dot-icon"></div>
                        <span class="menu-item-text">Pay Generation</span>
                    </li>
                </ul>
                <li class="nav-item dropdown-toggle" data-toggle="3rd">
                    <i class="fas fa-building"></i>
                    <span class="nav-text">3RD Party</span>
                    <span class="arrow">â–¶</span>
                </li>
                <ul class="dropdown-menu" id="3rd-dropdown">
                    <li class="dropdown-item" data-page="CPF-file-generation">
                        <div class="dot-icon"></div>
                        <span class="menu-item-text">CPF File Generation</span>
                    </li>
                    <li class="dropdown-item" data-page="HR-may-bank-file-generate">
                        <div class="dot-icon"></div>
                        <span class="menu-item-text">May Bank File 2U</span>
                    </li>
                    <li class="dropdown-item" data-page="IRAS-submission">
                        <div class="dot-icon"></div>
                        <span class="menu-item-text">IRAS File Generation</span>
                    </li>
                    <li class="dropdown-item" data-page="IRAS">
                        <div class="dot-icon"></div>
                        <span class="menu-item-text">IRAS submission</span>
                    </li>
                    <li class="dropdown-item" data-page="IRAS-file-upload">
                        <div class="dot-icon"></div>
                        <span class="menu-item-text">IRAS File Upload</span>
                    </li>
                </ul>
                <li class="nav-item dropdown-toggle" data-toggle="reports">
                    <i class="fas fa-chart-bar"></i>
                    <span class="nav-text">Reports</span>
                    <span class="arrow">â–¶</span>
                </li>
                <ul class="dropdown-menu" id="reports-dropdown">
                    <li class="dropdown-item dropdown-toggle nested" data-toggle="reports-employee-reports">
                        <div>
                            <span>Employee Reports</span>
                        </div>
                        <span class="arrow">â–¶</span>
                    </li>
                    <ul class="nested-dropdown" id="reports-employee-reports-dropdown">
                        <li class="dropdown-item" data-page="employee-information-list">Employee Information List</li>
                        <li class="dropdown-item" data-page="employee-details">Employee Details</li>
                        <li class="dropdown-item" data-page="emergency-contact">Emergency Contact</li>
                        <li class="dropdown-item" data-page="expiry-info">Expiry Info</li>
                    </ul>
                    <li class="dropdown-item dropdown-toggle nested" data-toggle="reports-leave-reports">
                        <div>
                            <span>Leave Reports</span>
                        </div>
                        <span class="arrow">â–¶</span>
                    </li>
                    <ul class="nested-dropdown" id="reports-leave-reports-dropdown">
                        <li class="dropdown-item" data-page="leave-summary-(as on)-report">Leave Summary</li>
                        <li class="dropdown-item" data-page="leave-details-(as on)-report">Leave Details</li>
                    </ul>
                    <li class="dropdown-item dropdown-toggle nested" data-toggle="reports-salary-reports">
                        <div>
                            <span>Salary Reports</span>
                        </div>
                        <span class="arrow">â–¶</span>
                    </li>
                    <ul class="nested-dropdown" id="reports-salary-reports-dropdown">
                        <li class="dropdown-item" data-page="salary-summary-report">Salary Summary</li>
                        <li class="dropdown-item" data-page="salary-details-report">Salary Details</li>
                        <li class="dropdown-item" data-page="year-to-date-report">Year To Date</li>
                        <li class="dropdown-item" data-page="CPF-summary-report">CPF Summary</li>
                        <li class="dropdown-item" data-page="loan-summary-report">Loan Summary</li>
                        <li class="dropdown-item" data-page="loan-details-report">Loan Details</li>
                        <li class="dropdown-item" data-page="general-ledger-report">General Ledger</li>
                    </ul>
                </ul>
                <li class="nav-item " data-page="notifications">
                    <i class="fas fa-bell"></i>
                    <span class="nav-text">Notifications</span>
                </li>
                <li class="nav-item dropdown-toggle" data-toggle="mastertable">
                    <i class="fas fa-table"></i>
                    <span class="nav-text">Master Table</span>
                    <span class="arrow">â–¶</span>
                </li>
                <ul class="dropdown-menu" id="mastertable-dropdown">
                    <li class="dropdown-item" data-page="locations">Locations</li>
                    <li class="dropdown-item" data-page="departments">Departments</li>
                    <li class="dropdown-item" data-page="employee-types">Employee Types</li>
                    <li class="dropdown-item" data-page="earnings-types">Earnings Types</li>
                    <li class="dropdown-item" data-page="leave-types">Leave Types</li>
                    <li class="dropdown-item" data-page="leave-planner">Leave Planner</li>
                    <li class="dropdown-item" data-page="loan-types">Loan Types</li>
                    <li class="dropdown-item" data-page="public-holidays">Public Holidays</li>
                    <li class="dropdown-item" data-page="claims-types">Claims Types</li>
                    <li class="dropdown-item" data-page="ot-types">OT Types</li>
                    <li class="dropdown-item" data-page="accounts-settings-bank">Bank</li>
                    <li class="dropdown-item" data-page="accounts-settings-paymode">Paymode</li>
                    <li class="dropdown-item" data-page="accounts-settings-account-division">Account Division</li>
                    <li class="dropdown-item" data-page="accounts-settings-chart-of-accounts">Chart of Accounts</li>
                </ul>
                <li class="nav-item dropdown-toggle" data-toggle="appraisal">
                    <i class="fas fa-star"></i>
                    <span class="nav-text">Appraisal</span>
                    <span class="arrow">â–¶</span>
                </li>
                <ul class="dropdown-menu" id="appraisal-dropdown">
                    <li class="dropdown-item dropdown-toggle nested" data-toggle="appraisal-settings">
                        <div class="dot-icon"></div>
                        <div>
                            <span class="menu-item-text">Settings</span>
                        </div>
                        <span class="arrow">â–¶</span>
                    </li>
                    <ul class="nested-dropdown" id="appraisal-settings-dropdown">
                        <li class="dropdown-item" data-page="question-groups">Question Group</li>
                        <li class="dropdown-item" data-page="questionnaires">Questionnaires</li>
                        <li class="dropdown-item" data-page="rating-definitions">Rating Definitions</li>
                        <li class="dropdown-item" data-page="appraisal-templates">Appraisal Templates</li>
                        <li class="dropdown-item" data-page="appraisal">Appraisal</li>
                    </ul>
                    <li class="dropdown-item" data-page="appraisal-process">Appraisal Process</li>
                </ul>
        </div>
    </div>
    <div class="main-content">
        <div class="header">
            <h1 id="page-heading">UNIPROSG HRMS</h1>
            <div class="user-info">
                <div class="notifications">
                    <i class="fas fa-bell"></i>
                </div>
                <div class="window-dropdown">
                    <div class="window-icon" id="window-button">
                        <i class="fas fa-window-maximize"></i>
                    </div>
                    <div class="window-options" id="window-options">
                        <div class="window-option" data-app="hrms">HRMS</div>
                        <div class="window-option" data-app="erp">ERP</div>
                    </div>
                </div>
                <div class="user-avatar person-icon">
                    <i class="fas fa-user"></i>
                </div>
            </div>
        </div>
        <div class="content-area">
            <div class="page-title" id="content-title"></div>
            <div id="page-content">
                <div class="welcome-message">
                </div>
            </div>
        </div>
        <script>
            async function saveCustomerNow() {
                console.log('=== SIMPLE CUSTOMER SAVE ===');

                try {
                    // ========== 1. GET CUSTOMER NAME ==========
                    const nameField = document.querySelector('input[name="customer_name"]');

                    if (!nameField) {
                        alert('âŒ Customer name field not found! Check HTML.');
                        console.error('No input with name="customer_name" found');
                        return;
                    }

                    const customerName = nameField.value.trim();

                    if (!customerName) {
                        alert('âŒ Customer Name is required! Please enter customer name.');
                        nameField.focus();
                        nameField.style.border = '2px solid red';
                        return;
                    }

                    console.log('Customer name:', customerName);

                    // ========== 2. GET ALL FORM VALUES ==========
                    const getFormValue = (fieldName) => {
                        const element = document.querySelector(`[name="${fieldName}"]`);
                        if (!element) {
                            console.log(`Field not found: ${fieldName}`);
                            return '';
                        }

                        if (element.type === 'checkbox') {
                            return element.checked;
                        } else if (element.type === 'select-one') {
                            return element.value;
                        } else {
                            return element.value.trim();
                        }
                    };

                    // ========== 3. PREPARE CUSTOMER DATA ==========
                    const customerData = {
                        // Basic Information
                        customer_code: getFormValue('customer_code') || 'CUST' + Date.now().toString().slice(-6),
                        customer_name: customerName,
                        alias: getFormValue('alias'),
                        company_reg_no: getFormValue('company_reg_no'),
                        gst_reg: getFormValue('gst_reg'),
                        gst_type: getFormValue('gst_type') || 'Exclusive',
                        is_active: getFormValue('is_active') !== false, // default true
                        currency: getFormValue('currency') || 'SGD',
                        credit_limit: parseFloat(getFormValue('credit_limit')) || 0.00,
                        is_hq_customer: getFormValue('is_hq_customer') || false,
                        is_blocked: getFormValue('is_blocked') || false,

                        // Credit Terms
                        credit_terms: getFormValue('credit_terms') || '30 Days',
                        tolerance: getFormValue('tolerance') || '7 Days',
                        bank: getFormValue('bank') || 'MB-MAY BANK',
                        bank_name: getFormValue('bank_name'),
                        bank_account_no: getFormValue('bank_account_no'),
                        website: getFormValue('website'),

                        // Settings
                        rate_type: getFormValue('rate_type'),
                        ar_account: getFormValue('ar_account'),
                        hq_reference: getFormValue('hq_reference'),
                        salesman_id: parseInt(getFormValue('salesman_id')) || 1,
                        schedule_day: getFormValue('schedule_day') || 'Monday',

                        // Address
                        address_line1: getFormValue('address_line1'),
                        address_line2: getFormValue('address_line2'),
                        address_line3: getFormValue('address_line3'),
                        city: getFormValue('city') || 'Singapore',
                        postal_code: getFormValue('postal_code'),
                        country: getFormValue('country') || 'Singapore',
                        delivery_address: getFormValue('delivery_address'),
                        delivery_country: getFormValue('delivery_country'),

                        // Contact Details
                        contact_person1: getFormValue('contact_person1'),
                        phone1: getFormValue('phone1'),
                        email: getFormValue('email'),
                        office_phone: getFormValue('office_phone'),
                        fax_number: getFormValue('fax_number'),
                        contact_no: getFormValue('contact_no'),

                        // Remarks
                        customer_remarks: getFormValue('customer_remarks'),
                        customer_note: getFormValue('customer_note')
                    };

                    console.log('ðŸ“¦ Customer data:', customerData);

                    // ========== 4. SEND TO SERVER ==========
                    const saveBtn = document.querySelector('button[onclick="saveCustomerNow()"]');
                    if (saveBtn) {
                        saveBtn.innerHTML = 'â³ Saving...';
                        saveBtn.disabled = true;
                    }

                    const response = await fetch('/api/customers', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(customerData)
                    });

                    const result = await response.json();
                    console.log('Server response:', result);

                    // ========== 5. HANDLE RESPONSE ==========
                    if (response.ok && result.success) {
                        alert(`âœ… Customer saved successfully!\n\nCustomer ID: ${result.customer_id}\nCustomer Code: ${result.customer_code}`);

                        // Reset form
                        document.querySelectorAll('input, textarea, select').forEach(element => {
                            if (element.type !== 'checkbox') {
                                element.value = '';
                            } else {
                                element.checked = false;
                            }
                        });

                        // Reset name field
                        document.querySelector('input[name="customer_name"]').value = '';

                    } else {
                        const errorMsg = result.error || 'Failed to save customer';
                        alert(`âŒ Error: ${errorMsg}`);
                    }

                } catch (error) {
                    console.error('Save error:', error);
                    alert('âš ï¸ Error saving customer: ' + error.message);

                } finally {
                    // Reset button
                    const saveBtn = document.querySelector('button[onclick="saveCustomerNow()"]');
                    if (saveBtn) {
                        saveBtn.innerHTML = 'Save & Close';
                        saveBtn.disabled = false;
                    }
                }
            }


            function showNotification(message, type = 'success') {
                const notification = document.createElement('div');
                notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 12px 20px;
        background: ${type === 'success' ? '#10b981' : '#ef4444'};
        color: white;
        border-radius: 6px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 10000;
        font-weight: 500;
    `;
                notification.textContent = message;
                document.body.appendChild(notification);
                setTimeout(() => {
                    notification.remove();
                }, 3000);
            }
            document.addEventListener('DOMContentLoaded', function () {
                let activeMainDropdown = null;
                let activeNestedDropdown = null;

                // Main dropdown toggle functionality
                const mainDropdownToggles = document.querySelectorAll('.nav-item.dropdown-toggle');
                mainDropdownToggles.forEach(toggle => {
                    toggle.addEventListener('click', function (e) {
                        e.stopPropagation();
                        const targetId = this.getAttribute('data-toggle');
                        const dropdown = document.getElementById(`${targetId}-dropdown`);

                        // Close other open dropdowns
                        if (activeMainDropdown && activeMainDropdown !== dropdown) {
                            activeMainDropdown.classList.remove('show');
                            document.querySelectorAll('.nav-item.dropdown-toggle.active').forEach(item => {
                                if (item !== this) item.classList.remove('active');
                            });
                        }

                        // Toggle current dropdown
                        if (dropdown) {
                            this.classList.toggle('active');
                            dropdown.classList.toggle('show');

                            if (dropdown.classList.contains('show')) {
                                activeMainDropdown = dropdown;
                            } else {
                                activeMainDropdown = null;
                            }
                        }
                    });
                });

                // Window button functionality
                const windowButton = document.getElementById('window-button');
                const windowOptions = document.getElementById('window-options');

                windowButton.addEventListener('click', function (e) {
                    e.stopPropagation();
                    windowOptions.classList.toggle('show');
                });

                // Close window dropdown when clicking outside
                document.addEventListener('click', function () {
                    windowOptions.classList.remove('show');
                });

                // Window options click functionality
                document.querySelectorAll('.window-option').forEach(option => {
                    option.addEventListener('click', function () {
                        const app = this.getAttribute('data-app');
                        alert(`Opening ${app.toUpperCase()} application...`);
                        windowOptions.classList.remove('show');
                    });
                    option.addEventListener('click', function () {
                        const app = this.getAttribute('data-app');

                        if (app === 'erp') {
                            // ðŸ”¥ IMPORTANT: ERP-à®²à¯ à®ªà¯‹à®•à¯à®®à¯à®ªà¯‹à®¤à¯ home page-à® set à®ªà®£à¯à®£à¯à®™à¯à®•à®³à¯
                            localStorage.setItem('erpCurrentPage', 'home'); // ERP-à®•à¯à®•à¯ à®¤à®©à®¿ key
                            localStorage.removeItem('hrmsCurrentPage'); // HRMS current page-à® clear à®ªà®£à¯à®£à¯à®™à¯à®•à®³à¯
                            window.location.href = 'adp.html'; // ERP file name
                        } else if (app === 'hrms') {
                            // à®µà¯‡à®±à¯ app-à®•à¯à®•à¯ à®ªà¯‹à®•à¯à®®à¯à®ªà¯‹à®¤à¯
                            window.location.href = 'erp.html';
                        }
                    });
                });
                const optionsButtons = document.querySelectorAll('.options-btn');
                optionsButtons.forEach(button => {
                    button.addEventListener('click', function (e) {
                        e.stopPropagation();
                        const dropdown = this.nextElementSibling;
                        const isVisible = dropdown.style.display === 'block';

                        document.querySelectorAll('.dropdown-menu-options').forEach(d => {
                            d.style.display = 'none';
                        });

                        dropdown.style.display = isVisible ? 'none' : 'block';
                    });
                });

                document.addEventListener('click', function () {
                    document.querySelectorAll('.dropdown-menu-options').forEach(d => {
                        d.style.display = 'none';
                    });
                });

                const selectAll = document.getElementById('select-all');
                const rowCheckboxes = document.querySelectorAll('.row-checkbox');

                if (selectAll) {
                    selectAll.addEventListener('change', function () {
                        rowCheckboxes.forEach(checkbox => {
                            checkbox.checked = this.checked;
                        });
                    });
                }

                const dropdownItems = document.querySelectorAll('.dropdown-item');
                dropdownItems.forEach(item => {
                    item.addEventListener('mouseenter', function () {
                        this.style.background = '#f8fafc';
                    });

                    item.addEventListener('mouseleave', function () {
                        this.style.background = 'none';
                    });
                });

                const nestedDropdownToggles = document.querySelectorAll('.dropdown-item.dropdown-toggle.nested');
                nestedDropdownToggles.forEach(toggle => {
                    const newToggle = toggle.cloneNode(true);
                    toggle.parentNode.replaceChild(newToggle, toggle);

                    newToggle.addEventListener('click', function (e) {
                        e.preventDefault();
                        e.stopPropagation();
                        const targetId = this.getAttribute('data-toggle');
                        const nestedDropdown = document.getElementById(`${targetId}-dropdown`);

                        if (!nestedDropdown) return;

                        // Close other nested dropdowns
                        if (activeNestedDropdown && activeNestedDropdown !== nestedDropdown) {
                            activeNestedDropdown.classList.remove('show');
                            const otherToggle = document.querySelector(`[data-toggle="${activeNestedDropdown.id.replace('-dropdown', '')}"]`);
                            if (otherToggle) otherToggle.classList.remove('active');
                        }

                        // Toggle current nested dropdown
                        const isShowing = nestedDropdown.classList.contains('show');
                        if (isShowing) {
                            nestedDropdown.classList.remove('show');
                            this.classList.remove('active');
                            activeNestedDropdown = null;
                        } else {
                            nestedDropdown.classList.add('show');
                            this.classList.add('active');
                            activeNestedDropdown = nestedDropdown;
                        }
                    });
                });

                // Navigation functionality - FIXED COMPANY NAME
                const navItems = document.querySelectorAll('.nav-item, .dropdown-item');
                const pageHeading = document.getElementById('page-heading');
                const contentTitle = document.getElementById('content-title');
                const pageContent = document.getElementById('page-content');

                navItems.forEach(item => {
                    item.addEventListener('click', function (e) {
                        // Skip if it's a dropdown toggle
                        if (this.classList.contains('dropdown-toggle')) {
                            return;
                        }

                        e.stopPropagation();
                        navItems.forEach(i => i.classList.remove('active'));
                        this.classList.add('active');

                        const pageName = this.getAttribute('data-page');
                        if (pageName) {
                            // ðŸ”¥ IMPORTANT: Check which dashboard we're in
                            if (window.location.href.includes('adp.html')) {
                                localStorage.setItem('erpCurrentPage', pageName); // ERP-à®•à¯à®•à¯
                            } else if (window.location.href.includes('erp.html')) {
                                localStorage.setItem('hrmsCurrentPage', pageName); // HRMS-à®•à¯à®•à¯
                            }

                            sessionStorage.setItem('currentPage', pageName);
                            window.location.hash = pageName;

                            updatePageContent(pageName);
                        }
                    });
                });
                // Page refresh aanalum current section-ah maintain pannuvom
                window.addEventListener('DOMContentLoaded', function () {
                    const savedPage = localStorage.getItem('currentPage') || 'home';
                    updatePageContent(savedPage);

                    // Active menu item-ah highlight pannu
                    const navItems = document.querySelectorAll('.nav-item, .dropdown-item');
                    navItems.forEach(item => {
                        if (item.getAttribute('data-page') === savedPage) {
                            item.classList.add('active');
                        }
                    });
                });

                // ============= COMPLETE CUSTOMER MANAGEMENT SYSTEM =============
                // ============= CUSTOMER MANAGEMENT FUNCTIONS (FINAL VERSION) =============

                // Global state
                let currentPage = 1;
                let currentLimit = 10;
                let currentSearch = '';
                let currentStatus = 'all';
                let currentSalesman = 'all';

                // Initialize customers page
                function initCustomersPage() {
                    console.log('ðŸš€ Initializing customers management system...');

                    // Load initial data
                    loadCustomers();
                    loadSalesmen();

                    // Setup event listeners
                    setupEventListeners();
                }
                async function loadCustomerEditPage(customerId) {
                    try {
                        // Show loading
                        updatePageContent('customer-edit');

                        // Fetch customer data
                        const response = await fetch(`/api/customers/${customerId}`);
                        const customerData = await response.json();

                        // Populate form fields
                        populateEditForm(customerData);

                    } catch (error) {
                        console.error('Error loading customer:', error);
                        alert('Failed to load customer data');
                    }
                }
                // Load customers data
                async function loadCustomers(page = currentPage) {
                    try {
                        const tbody = document.getElementById('customers-tbody');
                        if (!tbody) return;

                        // Show loading
                        tbody.innerHTML = `
            <tr>
                <td colspan="7" style="text-align: center; padding: 30px;">
                    <div class="loading-spinner">
                        <i class="fas fa-spinner fa-spin fa-2x" style="color: var(--primary);"></i>
                        <p style="margin-top: 10px; color: #64748b;">Loading customers...</p>
                    </div>
                </td>
            </tr>
        `;

                        // Build query
                        const params = new URLSearchParams({
                            page: page,
                            limit: currentLimit,
                            search: currentSearch,
                            status: currentStatus,
                            salesman: currentSalesman
                        });

                        // Fetch data
                        const response = await fetch(`/api/customers/table?${params}`);
                        const result = await response.json();

                        if (result.success) {
                            renderCustomers(result.data);
                            renderPagination(result.pagination);
                        } else {
                            throw new Error(result.error || 'Failed to load customers');
                        }

                    } catch (error) {
                        console.error('âŒ Error loading customers:', error);
                        const tbody = document.getElementById('customers-tbody');
                        if (tbody) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="7" style="text-align: center; padding: 40px; color: #ef4444;">
                        <i class="fas fa-exclamation-triangle fa-2x"></i>
                        <p style="margin-top: 10px;">Error: ${error.message}</p>
                        <button onclick="loadCustomers()" class="btn btn-outline" style="margin-top: 10px;">
                            <i class="fas fa-redo"></i> Retry
                        </button>
                    </td>
                </tr>
            `;
                        }
                    }
                }

                // Render customers table (AS PER YOUR REQUIREMENTS)
                function renderCustomers(customers) {
                    const tbody = document.getElementById('customers-tbody');
                    if (!tbody) return;

                    if (customers.length === 0) {
                        tbody.innerHTML = `
            <tr>
                <td colspan="7" style="text-align: center; padding: 40px; color: #64748b;">
                    <i class="fas fa-users fa-3x" style="color: #cbd5e1;"></i>
                    <p style="margin-top: 10px; font-size: 16px;">No customers found</p>
                    <p style="font-size: 14px; color: #94a3b8;">Try changing your search filters</p>
                    <button onclick="updatePageContent('customer-create')" class="btn btn-primary" style="margin-top: 15px;">
                        <i class="fas fa-plus"></i> Add First Customer
                    </button>
                </td>
            </tr>
        `;
                        return;
                    }

                    let html = '';
                    customers.forEach(customer => {
                        // Active/Inactive status (simple)
                        const isActive = customer.is_active && !customer.is_blocked;
                        const statusText = customer.is_blocked ? 'Blocked' :
                            customer.is_active ? 'Active' : 'Inactive';
                        const statusColor = customer.is_blocked ? '#ef4444' :
                            customer.is_active ? '#10b981' : '#f59e0b';

                        // Salesman name (if available)
                        const salesmanInfo = customer.salesman_name
                            ? `<div style="margin-top: 4px;"><small style="color: #64748b;"><i class="fas fa-user"></i> ${customer.salesman_name}</small></div>`
                            : '';

                        // Contact info
                        let contactInfo = '<span style="color: #94a3b8;">-</span>';
                        if (customer.contact_person1 || customer.phone1) {
                            contactInfo = `${customer.contact_person1 || ''}${customer.contact_person1 && customer.phone1 ? '/' : ''}${customer.phone1 || ''}`;
                        }

                        // Email if available (small)
                        const emailInfo = customer.email
                            ? `<div><small style="color: #3b82f6;">${customer.email}</small></div>`
                            : '';

                        html += `
            <tr style="border-bottom: 1px solid #e2e8f0; transition: background 0.2s;" 
                onmouseover="this.style.backgroundColor='#f8fafc'" 
                onmouseout="this.style.backgroundColor=''">
                <td style="padding: 12px; vertical-align: middle;">
                    <input type="checkbox" class="row-checkbox" value="${customer.customer_id}">
                </td>
                <td style="padding: 12px; vertical-align: middle;">
                    <div style="font-family: 'Courier New', monospace; font-weight: 600; color: #1e293b;">
                        ${customer.customer_code}
                    </div>
                </td>
                <td style="padding: 12px; vertical-align: middle;">
                    <div style="font-weight: 600; color: #1e293b; margin-bottom: 4px;">
                        ${customer.customer_name}
                    </div>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="background: ${statusColor}15; color: ${statusColor}; padding: 2px 8px; border-radius: 12px; font-size: 11px;">
                            ${statusText}
                        </span>
                       
                    </div>
                </td>
                <td style="padding: 12px; vertical-align: middle;">
                    <span style="padding: 4px 8px; background: #f1f5f9; border-radius: 4px; font-weight: 500;">
                        ${customer.currency}
                    </span>
                </td>
                <td style="padding: 12px; vertical-align: middle; color: #475569;">
                    <div>${contactInfo}</div>
                    ${emailInfo}
                </td>
                <td style="padding: 12px; vertical-align: middle; text-align: right; font-weight: 500;">
                    ${customer.currency} ${parseFloat(customer.credit_limit).toLocaleString('en-US', { minimumFractionDigits: 2 })}
                </td>
                <td style="padding: 12px; vertical-align: middle; text-align: right;">
                    <div style="font-weight: 500; color: ${customer.credit_on_hold > 0 ? '#ef4444' : '#10b981'};">
                        ${customer.currency} ${parseFloat(customer.credit_on_hold).toLocaleString('en-US', { minimumFractionDigits: 2 })}
                    </div>
                </td>
                <td style="padding: 12px; vertical-align: middle; text-align: center;">
                    <!-- HORIZONTAL BUTTONS AS YOU REQUESTED -->
                    <div style="display: flex; gap: 6px; justify-content: center;">
                       <button class="view-customer-btn" 
                    data-id="${customer.customer_id}"
                    style="background: none; border: none; cursor: pointer; color: #2563eb; padding: 6px; border-radius: 4px;"
                    onmouseover="this.style.backgroundColor='#dbeafe'" 
                    onmouseout="this.style.backgroundColor=''"
                    title="View">
                <i class="fas fa-eye" style="font-size: 14px;"></i>
            </button>
         <button class="edit-customer-btn" 
        data-id="${customer.customer_id}"
        onclick="editCustomer(${customer.customer_id})"
            style="background: none; border: none; cursor: pointer; color: #f59e0b; padding: 6px; border-radius: 4px;"
            onmouseover="this.style.backgroundColor='#fef3c7'" 
            onmouseout="this.style.backgroundColor=''"
            title="Edit">
        <i class="fas fa-edit" style="font-size: 14px;"></i>
    </button>

              <button class="delete-customer-btn" 
            data-id="${customer.customer_id}"
            style="background: none; border: none; cursor: pointer; color: #ef4444; padding: 6px; border-radius: 4px;"
            onmouseover="this.style.backgroundColor='#fee2e2'" 
            onmouseout="this.style.backgroundColor=''"
            title="Delete">
        <i class="fas fa-trash" style="font-size: 14px;"></i>
    </button>
                    </div>
                </td>
                
            </tr>
        `;
                    });

                    tbody.innerHTML = html;
                    attachCustomerEventListeners();
                }
                window.editCustomer = function (customerId) {
                    console.log('Editing customer:', customerId);

                    // 1. URL update à®ªà®£à¯à®£à¯
                    window.history.pushState({}, '', `/customers/edit/${customerId}`);

                    // 2. Edit page load à®ªà®£à¯à®£à¯
                    loadCustomerEditPage(customerId);
                };

                // Render pagination (same as before)
                function renderPagination(pagination) {
                    const paginationDiv = document.getElementById('pagination-controls');
                    if (!pagination || !paginationDiv) return;

                    const { page, limit, total, totalPages } = pagination;
                    currentPage = page;

                    let html = `
        <div class="pagination-info" style="color: #64748b; font-size: 14px;">
            Showing ${((page - 1) * limit) + 1} to ${Math.min(page * limit, total)} of ${total} customers
        </div>
        <div class="pagination-buttons" style="display: flex; gap: 5px;">
    `;

                    // Previous button
                    if (page > 1) {
                        html += `<button onclick="loadCustomers(${page - 1})" style="padding: 6px 12px; background: white; color: #64748b; border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                    <i class="fas fa-chevron-left"></i>
                </button>`;
                    }

                    // Page numbers
                    const maxVisible = 5;
                    let startPage = Math.max(1, page - Math.floor(maxVisible / 2));
                    let endPage = Math.min(totalPages, startPage + maxVisible - 1);

                    if (endPage - startPage + 1 < maxVisible) {
                        startPage = Math.max(1, endPage - maxVisible + 1);
                    }

                    for (let i = startPage; i <= endPage; i++) {
                        if (i === page) {
                            html += `<button style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer;">
                        ${i}
                    </button>`;
                        } else {
                            html += `<button onclick="loadCustomers(${i})" style="padding: 6px 12px; background: white; color: #64748b; border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        ${i}
                    </button>`;
                        }
                    }

                    // Next button
                    if (page < totalPages) {
                        html += `<button onclick="loadCustomers(${page + 1})" style="padding: 6px 12px; background: white; color: #64748b; border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                    <i class="fas fa-chevron-right"></i>
                </button>`;
                    }

                    html += `</div>`;
                    paginationDiv.innerHTML = html;
                }

                // Load salesmen for filter
                async function loadSalesmen() {
                    try {
                        const response = await fetch('/api/salesmen/all');
                        const result = await response.json();

                        if (result.success) {
                            const select = document.getElementById('salesman-filter');
                            if (select) {
                                let html = '<option value="all">All Salesmen</option>';
                                result.data.forEach(salesman => {
                                    html += `<option value="${salesman.salesman_id}">${salesman.salesman_name}</option>`;
                                });
                                select.innerHTML = html;
                            }
                        }
                    } catch (error) {
                        console.error('Error loading salesmen:', error);
                    }
                }
                function attachCustomerEventListeners() {
                    // EDIT BUTTONS
                    document.querySelectorAll('button[onclick^="window.editCustomer"]').forEach(button => {
                        button.addEventListener('click', function (e) {
                            e.preventDefault();
                            e.stopPropagation();
                            // Extract customer ID from onclick attribute
                            const onclickAttr = this.getAttribute('onclick');
                            const match = onclickAttr.match(/editCustomer\((\d+)\)/);
                            if (match) {
                                const customerId = match[1];
                                console.log('âœï¸ Edit button clicked for ID:', customerId);
                                if (window.editCustomer) {
                                    window.editCustomer(customerId);
                                }
                            }
                        });
                    });

                    // VIEW BUTTONS
                    document.querySelectorAll('.view-customer-btn').forEach(button => {
                        button.addEventListener('click', function (e) {
                            e.preventDefault();
                            e.stopPropagation();
                            const customerId = this.getAttribute('data-id');
                            console.log('ðŸ‘ï¸ View button clicked for ID:', customerId);
                            viewCustomer(customerId);
                        });
                    });

                    // DELETE BUTTONS
                    document.querySelectorAll('.delete-customer-btn').forEach(button => {
                        button.addEventListener('click', function (e) {
                            e.preventDefault();
                            e.stopPropagation();
                            const customerId = this.getAttribute('data-id');
                            console.log('ðŸ—‘ï¸ Delete button clicked for ID:', customerId);
                            deleteCustomer(customerId);
                        });
                    });
                }
                // Setup event listeners
                function setupEventListeners() {
                    // Search with debounce
                    let searchTimer;
                    const searchInput = document.getElementById('customer-search');
                    if (searchInput) {
                        searchInput.addEventListener('input', function (e) {
                            clearTimeout(searchTimer);
                            searchTimer = setTimeout(() => {
                                currentSearch = e.target.value;
                                loadCustomers(1);
                            }, 500);
                        });
                    }

                    // Status filter
                    const statusFilter = document.getElementById('status-filter');
                    if (statusFilter) {
                        statusFilter.addEventListener('change', function (e) {
                            currentStatus = e.target.value;
                            loadCustomers(1);
                        });
                    }

                    // Salesman filter
                    const salesmanFilter = document.getElementById('salesman-filter');
                    if (salesmanFilter) {
                        salesmanFilter.addEventListener('change', function (e) {
                            currentSalesman = e.target.value;
                            loadCustomers(1);
                        });
                    }

                    // Select all checkbox
                    const selectAll = document.getElementById('select-all');
                    if (selectAll) {
                        selectAll.addEventListener('change', function (e) {
                            document.querySelectorAll('.row-checkbox').forEach(checkbox => {
                                checkbox.checked = e.target.checked;
                            });
                        });
                    }
                    // Refresh button
                    const refreshBtn = document.getElementById('refresh-btn');
                    if (refreshBtn) {
                        refreshBtn.addEventListener('click', () => {
                            loadCustomers(currentPage);
                        });
                    }
                }
                async function viewCustomer(id) {
                    console.log('ðŸ‘ï¸ VIEW CUSTOMER ID:', id);

                    try {
                        // Show loading
                        updatePageContent('customer-view');

                        // Small delay for page to load
                        setTimeout(async () => {
                            // Fetch customer data
                            const response = await fetch(`/api/customers/${id}`);
                            const result = await response.json();

                            if (result.success) {
                                const customer = result.data;
                                console.log('âœ… Customer data loaded:', customer.customer_name);

                                // Render customer details
                                renderCustomerView(customer);

                                // Setup event listeners
                                setupViewPageEvents(id);

                            } else {
                                alert('Error loading customer: ' + result.error);
                                updatePageContent('customers');
                            }
                        }, 300);

                    } catch (error) {
                        console.error('âŒ View error:', error);
                        alert('Error: ' + error.message);
                        updatePageContent('customers');
                    }
                }
                function renderCustomerView(customer) {
                    const container = document.getElementById('customer-view-content');
                    if (!container) return;

                    // Status badge
                    let statusBadge = '';
                    if (customer.is_blocked) {
                        statusBadge = '<span class="status-badge status-blocked">Blocked</span>';
                    } else if (customer.is_active) {
                        statusBadge = '<span class="status-badge status-active">Active</span>';
                    } else {
                        statusBadge = '<span class="status-badge status-inactive">Inactive</span>';
                    }

                    const html = `
    <!-- Basic Information - EXACT SAME AS CREATE PAGE -->
    <div class="view-section">
        <div class="view-section-header">
            <h2 class="view-section-title">Basic Information ${statusBadge}</h2>
        </div>
        
        <div class="view-grid">
            <!-- LEFT COLUMN -->
            <div class="view-column">
                <div class="view-field-row">
                    <div class="view-field-label">Code*</div>
                    <div class="view-field-value">${customer.customer_code}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Name*</div>
                    <div class="view-field-value">${customer.customer_name}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Alias</div>
                    <div class="view-field-value">${customer.alias || '-'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Comp. Reg. No.</div>
                    <div class="view-field-value">${customer.company_reg_no || '-'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">GST Reg.</div>
                    <div class="view-field-value">${customer.gst_reg || '-'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">GST Type</div>
                    <div class="view-field-value">${customer.gst_type || 'Exclusive'}</div>
                </div>
            </div>
            
            <!-- RIGHT COLUMN -->
            <div class="view-column">
                <div class="view-field-row">
                    <div class="view-field-label">Active</div>
                    <div class="view-field-value">
                        <span class="yes-no-indicator ${customer.is_active ? 'yes-indicator' : 'no-indicator'}">
                            <i class="fas ${customer.is_active ? 'fa-check-circle' : 'fa-times-circle'}"></i>
                            ${customer.is_active ? 'Yes' : 'No'}
                        </span>
                    </div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Currency</div>
                    <div class="view-field-value">
                        <span style="padding: 2px 8px; background: #f3f4f6; border-radius: 4px; font-weight: 600;">${customer.currency}</span>
                    </div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Credit Limit</div>
                    <div class="view-field-value" style="font-weight: 600; color: #111827;">
                        ${customer.currency} ${parseFloat(customer.credit_limit).toLocaleString('en-US', { minimumFractionDigits: 2 })}
                    </div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">HQ Customer</div>
                    <div class="view-field-value">
                        <span class="yes-no-indicator ${customer.is_hq_customer ? 'yes-indicator' : 'no-indicator'}">
                            <i class="fas ${customer.is_hq_customer ? 'fa-check-circle' : 'fa-times-circle'}"></i>
                            ${customer.is_hq_customer ? 'Yes' : 'No'}
                        </span>
                    </div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Blocked</div>
                    <div class="view-field-value">
                        <span class="yes-no-indicator ${customer.is_blocked ? 'blocked-indicator' : 'yes-indicator'}">
                            <i class="fas ${customer.is_blocked ? 'fa-ban' : 'fa-check-circle'}"></i>
                            ${customer.is_blocked ? 'Yes' : 'No'}
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Credit Terms - EXACT SAME AS CREATE PAGE -->
    <div class="view-section">
        <div class="view-section-header">
            <h2 class="view-section-title">Credit Terms</h2>
        </div>
        
        <div class="view-grid">
            <!-- LEFT COLUMN -->
            <div class="view-column">
                <div class="view-field-row">
                    <div class="view-field-label">Terms</div>
                    <div class="view-field-value">${customer.credit_terms || '30 Days'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Bank</div>
                    <div class="view-field-value">${customer.bank || '-'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Bank Name</div>
                    <div class="view-field-value">${customer.bank_name || '-'}</div>
                </div>
            </div>
            
            <!-- RIGHT COLUMN -->
            <div class="view-column">
                <div class="view-field-row">
                    <div class="view-field-label">Tolerance</div>
                    <div class="view-field-value">${customer.tolerance || '7 Days'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Bank Acct. No.</div>
                    <div class="view-field-value">${customer.bank_account_no || '-'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Website</div>
                    <div class="view-field-value">
                        ${customer.website ?
                            `<a href="${customer.website.startsWith('http') ? customer.website : 'https://' + customer.website}" 
                               target="_blank" 
                               style="color: #3b82f6; text-decoration: none;">
                                <i class="fas fa-external-link-alt"></i> ${customer.website}
                            </a>` :
                            '-'}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings - EXACT SAME AS CREATE PAGE -->
    <div class="view-section">
        <div class="view-section-header">
            <h2 class="view-section-title">Settings</h2>
        </div>
        
        <div class="view-grid">
            <!-- LEFT COLUMN -->
            <div class="view-column">
                <div class="view-field-row">
                    <div class="view-field-label">Rate Type</div>
                    <div class="view-field-value">${customer.rate_type || '-'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">A/R Account*</div>
                    <div class="view-field-value">${customer.ar_account || '-'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">HQ</div>
                    <div class="view-field-value">${customer.hq_reference || '-'}</div>
                </div>
            </div>
            
            <!-- RIGHT COLUMN -->
            <div class="view-column">
                <div class="view-field-row">
                    <div class="view-field-label">Salesman</div>
                    <div class="view-field-value">${customer.salesman_name || '-'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Schedule Day</div>
                    <div class="view-field-value">${customer.schedule_day || 'Monday'}</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Address - EXACT SAME AS CREATE PAGE -->
    <div class="view-section">
        <div class="view-section-header">
            <h2 class="view-section-title">Address</h2>
        </div>
        
        <div class="view-grid">
            <!-- LEFT COLUMN -->
            <div class="view-column">
                <div class="view-field-row">
                    <div class="view-field-label">Address 1</div>
                    <div class="view-field-value">${customer.address_line1 || '-'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Address 2</div>
                    <div class="view-field-value">${customer.address_line2 || '-'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Address 3</div>
                    <div class="view-field-value">${customer.address_line3 || '-'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">City</div>
                    <div class="view-field-value">${customer.city || 'Singapore'}</div>
                </div>
            </div>
            
            <!-- RIGHT COLUMN -->
            <div class="view-column">
                <div class="view-field-row">
                    <div class="view-field-label">Postal Code*</div>
                    <div class="view-field-value">${customer.postal_code || '-'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Country*</div>
                    <div class="view-field-value">${customer.country || 'Singapore'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Delivery Address</div>
                    <div class="view-field-value">${customer.delivery_address || '-'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Delivery Country*</div>
                    <div class="view-field-value">${customer.delivery_country || '-'}</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Details - EXACT SAME AS CREATE PAGE -->
    <div class="view-section">
        <div class="view-section-header">
            <h2 class="view-section-title">Contact Details</h2>
        </div>
        
        <div class="view-grid">
            <!-- LEFT COLUMN -->
            <div class="view-column">
                <div class="view-field-row">
                    <div class="view-field-label">Person 1</div>
                    <div class="view-field-value">${customer.contact_person1 || '-'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Phone No. 1</div>
                    <div class="view-field-value">
                        ${customer.phone1 ?
                            `<a href="tel:${customer.phone1}" style="color: #3b82f6; text-decoration: none;">
                                <i class="fas fa-phone"></i> ${customer.phone1}
                            </a>` :
                            '-'}
                    </div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Email</div>
                    <div class="view-field-value">
                        ${customer.email ?
                            `<a href="mailto:${customer.email}" style="color: #3b82f6; text-decoration: none;">
                                <i class="fas fa-envelope"></i> ${customer.email}
                            </a>` :
                            '-'}
                    </div>
                </div>
            </div>
            
            <!-- RIGHT COLUMN -->
            <div class="view-column">
                <div class="view-field-row">
                    <div class="view-field-label">Office No.</div>
                    <div class="view-field-value">${customer.office_phone || '-'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Fax No.</div>
                    <div class="view-field-value">${customer.fax_number || '-'}</div>
                </div>
                
                <div class="view-field-row">
                    <div class="view-field-label">Contact No.</div>
                    <div class="view-field-value">${customer.contact_no || '-'}</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Remarks - EXACT SAME AS CREATE PAGE -->
    <div class="view-section">
        <div class="view-section-header">
            <h2 class="view-section-title">Remarks</h2>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr; gap: 0;">
            <div class="view-field-row">
                <div class="view-field-label" style="vertical-align: top; padding-top: 8px;">Customer Remarks</div>
                <div class="view-field-value" style="min-height: 60px; white-space: pre-wrap;">
                    ${customer.customer_remarks || '-'}
                </div>
            </div>
            
            <div class="view-field-row">
                <div class="view-field-label" style="vertical-align: top; padding-top: 8px;">Customer Note</div>
                <div class="view-field-value" style="min-height: 60px; white-space: pre-wrap;">
                    ${customer.customer_note || '-'}
                </div>
            </div>
        </div>
    </div>
    `;

                    container.innerHTML = html;

                    // Update ID display in header
                    const idDisplay = document.getElementById('customer-id-display-view');
                    if (idDisplay) {
                        idDisplay.innerHTML = `<i class="fas fa-id-card"></i> Customer ID: ${customer.customer_id} | ${customer.customer_code}`;
                    }
                }
                function setupViewPageEvents(customerId) {
                    // Back button
                    const backBtn = document.getElementById('back-to-list-btn-view');
                    if (backBtn) {
                        backBtn.addEventListener('click', () => {
                            updatePageContent('customers');
                        });
                    }

                    // Edit button
                    const editBtn = document.getElementById('edit-customer-btn-view');
                    if (editBtn) {
                        editBtn.addEventListener('click', () => {
                            editCustomer(customerId);
                        });
                    }
                    // Print button (optional)
                    const printBtn = document.getElementById('print-customer-btn');
                    if (printBtn) {
                        printBtn.addEventListener('click', () => {
                            window.print();
                        });
                    }
                }
                // 2. EDIT CUSTOMER (FIXED VERSION)
                async function editCustomer(id) {
                    console.log('âœï¸ EDIT CUSTOMER FUNCTION STARTED');

                    try {
                        // 1. Customer data fetch
                        const response = await fetch(`/api/customers/${id}`);
                        const result = await response.json();
                        console.log('ðŸ“¦ API Response:', result);

                        if (!result.success) {
                            alert('Error: ' + (result.error || 'Customer not found'));
                            return;
                        }

                        const customer = result.data;
                        console.log('ðŸ‘¤ Customer loaded:', customer.customer_name);

                        // 2. Page load à®šà¯†à®¯à¯à®¯
                        console.log('ðŸ”„ Loading edit page...');
                        updatePageContent('customer-edit');

                        // 3. Small delay for page to load
                        console.log('â³ Waiting for page to load...');
                        setTimeout(() => {
                            console.log('ðŸŽ¯ Populating form now...');

                            // Check if form elements exist
                            const nameField = document.querySelector('[name="customer_name"]');
                            console.log('ðŸ“ Name field found:', !!nameField);

                            // Populate form
                            if (typeof populateEditForm === 'function') {
                                populateEditForm(customer);
                                console.log('âœ… Form populated successfully');
                            } else {
                                console.log('âŒ populateEditForm function not found!');
                            }
                        }, 500); // Increase delay

                    } catch (error) {
                        console.error('âŒ EDIT ERROR:', error);
                        alert('Error: ' + error.message);
                    }
                }
                window.editCustomer = editCustomer;
                function deleteCustomer(id) {
                    console.log('=== REAL HARD DELETE START ===');

                    // Strong confirmation
                    if (!confirm('âš ï¸âš ï¸âš ï¸ WARNING!\n\nThis will PERMANENTLY DELETE customer from database!\n\nThis action cannot be undone!\n\nAre you absolutely sure?')) {
                        return;
                    }

                    console.log('Calling HARD DELETE API...');

                    // ðŸ”¥ IMPORTANT: Use the REAL DELETE API endpoint
                    fetch(`/api/customers/${id}`, {
                        method: 'DELETE',
                        headers: {
                            'Content-Type': 'application/json',
                        }
                    })
                        .then(response => {
                            console.log('Response status:', response.status);
                            console.log('Response ok:', response.ok);
                            return response.json();
                        })
                        .then(result => {
                            console.log('API Result:', result);

                            if (result.success) {
                                // Check if it's REALLY a hard delete
                                if (result.action === 'HARD_DELETE_COMPLETED') {
                                    // ðŸ”¥ SUCCESS - Customer permanently deleted
                                    alert(`âœ…âœ…âœ… PERMANENTLY DELETED!\n\nCustomer "${result.deletedName}" (${result.deletedCode}) has been completely removed from database.\n\nAction: ${result.action}\nTimestamp: ${new Date().toLocaleString()}`);

                                    // Refresh table
                                    if (typeof loadCustomers === 'function') {
                                        loadCustomers(currentPage);
                                    }

                                    // Verify deletion (optional)
                                    setTimeout(() => {
                                        verifyDeletion(id, result.deletedName);
                                    }, 1000);

                                } else {
                                    alert(`â„¹ï¸ ${result.message}\n\nAction: ${result.action || 'Unknown'}`);
                                }

                            } else {
                                alert(`âŒ Delete failed:\n${result.error}\n\nError Type: ${result.errorType || 'Unknown'}`);
                                console.error('Delete failed details:', result);
                            }
                        })
                        .catch(error => {
                            console.error('Network error:', error);
                            alert('âŒ Network error: ' + error.message);
                        });

                    console.log('=== REAL HARD DELETE END ===');
                }
                async function deleteAndVerify(id, name) {
                    const confirmed = confirm(`Permanently delete ${name}?`);
                    if (!confirmed) return;

                    // Delete
                    await deleteCustomer(id);

                    // Verify after 2 seconds
                    setTimeout(async () => {
                        const response = await fetch(`/api/customers/${id}`);
                        if (response.status === 404) {
                            alert('âœ… Verified: Customer completely removed from database');
                        } else {
                            alert('âš ï¸ Warning: Customer may still exist');
                        }
                    }, 2000);
                }
                function populateEditForm(customer) {
                    console.log('ðŸ“‹ POPULATING FORM FOR:', customer.customer_name);
                    console.log('ðŸ“Œ Customer ID:', customer.customer_id);

                    // Helper functions
                    const setValue = (fieldName, value) => {
                        const element = document.querySelector(`[name="${fieldName}"]`);
                        if (element && value !== null && value !== undefined) {
                            element.value = value;
                        }
                    };

                    const setCheckbox = (fieldName, checked) => {
                        const element = document.querySelector(`[name="${fieldName}"]`);
                        if (element) {
                            element.checked = !!checked;
                        }
                    };

                    // Basic Information
                    setValue('customer_code', customer.customer_code);
                    setValue('customer_name', customer.customer_name);
                    setValue('alias', customer.alias);
                    setValue('company_reg_no', customer.company_reg_no);
                    setValue('gst_reg', customer.gst_reg);
                    setValue('gst_type', customer.gst_type);

                    setCheckbox('is_active', customer.is_active);
                    setValue('currency', customer.currency);
                    setValue('credit_limit', customer.credit_limit);
                    setCheckbox('is_hq_customer', customer.is_hq_customer);
                    setCheckbox('is_blocked', customer.is_blocked);

                    // Credit Terms
                    setValue('credit_terms', customer.credit_terms);
                    setValue('tolerance', customer.tolerance);
                    setValue('bank', customer.bank);
                    setValue('bank_name', customer.bank_name);
                    setValue('bank_account_no', customer.bank_account_no);
                    setValue('website', customer.website);

                    // Settings
                    setValue('rate_type', customer.rate_type);
                    setValue('ar_account', customer.ar_account);
                    setValue('hq_reference', customer.hq_reference);
                    setValue('salesman_id', customer.salesman_id);
                    setValue('schedule_day', customer.schedule_day);

                    // Address
                    setValue('address_line1', customer.address_line1);
                    setValue('address_line2', customer.address_line2);
                    setValue('address_line3', customer.address_line3);
                    setValue('city', customer.city);
                    setValue('postal_code', customer.postal_code);
                    setValue('country', customer.country);
                    setValue('delivery_address', customer.delivery_address);
                    setValue('delivery_country', customer.delivery_country);

                    // Contact Details
                    setValue('contact_person1', customer.contact_person1);
                    setValue('phone1', customer.phone1);
                    setValue('email', customer.email);
                    setValue('office_phone', customer.office_phone);
                    setValue('fax_number', customer.fax_number);
                    setValue('contact_no', customer.contact_no);

                    // Remarks
                    setValue('customer_remarks', customer.customer_remarks);
                    setValue('customer_note', customer.customer_note);

                    // Change save button to update
                    const saveBtn = document.getElementById('save-edit-btn');
                    if (saveBtn) {
                        console.log('ðŸ”˜ Save button found, setting up update...');

                        // Remove old event listeners
                        saveBtn.replaceWith(saveBtn.cloneNode(true));
                        const newSaveBtn = document.getElementById('save-edit-btn');

                        // Set new text
                        newSaveBtn.innerHTML = '<i class="fas fa-save"></i> Update Customer';

                        // Add click event
                        newSaveBtn.addEventListener('click', function (e) {
                            e.preventDefault();
                            console.log('ðŸ”„ Update button clicked for customer:', customer.customer_id);
                            updateCustomer(customer.customer_id);
                        });

                        // Also update customer ID display
                        const idDisplay = document.getElementById('customer-id-display');
                        if (idDisplay) {
                            idDisplay.innerHTML = `<i class="fas fa-id-card"></i> Customer ID: ${customer.customer_id}`;
                        }

                        console.log('âœ… Update button configured');
                    } else {
                        console.log('âŒ Save button NOT FOUND in DOM!');
                    }
                }
                function setupEditPageEvents() {
                    // Save button
                    document.getElementById('save-edit-btn').addEventListener('click', saveCustomerChanges);

                    // Back button
                    document.getElementById('back-to-list-btn').addEventListener('click', () => {
                        updatePageContent('customer-list');
                        loadCustomers(); // Refresh list
                    });
                }
                console.log('Edit buttons found:', document.querySelectorAll('.edit-customer-btn').length);
                // UPDATE CUSTOMER FUNCTION
                async function updateCustomer(customerId) {
                    console.log('ðŸ”„ Updating customer:', customerId);

                    try {
                        // Get form values
                        const getFormValue = (fieldName) => {
                            const element = document.querySelector(`[name="${fieldName}"]`);
                            if (!element) return '';

                            if (element.type === 'checkbox') {
                                return element.checked;
                            } else if (element.type === 'select-one') {
                                return element.value;
                            } else {
                                return element.value.trim();
                            }
                        };

                        const updateData = {
                            customer_name: getFormValue('customer_name'),
                            customer_code: getFormValue('customer_code'),
                            alias: getFormValue('alias'),
                            company_reg_no: getFormValue('company_reg_no'),
                            gst_reg: getFormValue('gst_reg'),
                            gst_type: getFormValue('gst_type'),
                            is_active: getFormValue('is_active'),
                            currency: getFormValue('currency'),
                            credit_limit: parseFloat(getFormValue('credit_limit')) || 0.00,
                            is_hq_customer: getFormValue('is_hq_customer'),
                            is_blocked: getFormValue('is_blocked'),

                            credit_terms: getFormValue('credit_terms'),
                            tolerance: getFormValue('tolerance'),
                            bank: getFormValue('bank'),
                            bank_name: getFormValue('bank_name'),
                            bank_account_no: getFormValue('bank_account_no'),
                            website: getFormValue('website'),

                            rate_type: getFormValue('rate_type'),
                            ar_account: getFormValue('ar_account'),
                            hq_reference: getFormValue('hq_reference'),
                            salesman_id: parseInt(getFormValue('salesman_id')) || null,
                            schedule_day: getFormValue('schedule_day'),

                            address_line1: getFormValue('address_line1'),
                            address_line2: getFormValue('address_line2'),
                            address_line3: getFormValue('address_line3'),
                            city: getFormValue('city'),
                            postal_code: getFormValue('postal_code'),
                            country: getFormValue('country'),
                            delivery_address: getFormValue('delivery_address'),
                            delivery_country: getFormValue('delivery_country'),

                            contact_person1: getFormValue('contact_person1'),
                            phone1: getFormValue('phone1'),
                            email: getFormValue('email'),
                            office_phone: getFormValue('office_phone'),
                            fax_number: getFormValue('fax_number'),
                            contact_no: getFormValue('contact_no'),

                            customer_remarks: getFormValue('customer_remarks'),
                            customer_note: getFormValue('customer_note')
                        };

                        // Validation
                        if (!updateData.customer_name) {
                            alert('Customer name is required!');
                            return;
                        }

                        if (!updateData.customer_code) {
                            alert('Customer code is required!');
                            return;
                        }

                        // Show loading on button
                        const saveBtn = document.getElementById('save-edit-btn');
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Updating...';
                            saveBtn.disabled = true;
                        }

                        // Send update request
                        const response = await fetch(`/api/customers/${customerId}`, {
                            method: 'PUT',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify(updateData)
                        });

                        const result = await response.json();

                        if (response.ok && result.success) {
                            alert('âœ… Customer updated successfully!');
                            updatePageContent('customers');

                            // Refresh customer list after delay
                            setTimeout(() => {
                                if (typeof loadCustomers === 'function') {
                                    loadCustomers();
                                }
                            }, 500);

                        } else {
                            const errorMsg = result.error || 'Update failed';
                            alert(`âŒ Error: ${errorMsg}`);
                        }

                    } catch (error) {
                        console.error('âŒ Update error:', error);
                        alert('âš ï¸ Error: ' + error.message);
                    } finally {
                        // Reset button
                        const saveBtn = document.getElementById('save-edit-btn');
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-save"></i> Update Customer';
                            saveBtn.disabled = false;
                        }
                    }
                }
                // Auto-initialize when customers page loads
                document.addEventListener('DOMContentLoaded', function () {
                    if (document.getElementById('customers-tbody')) {
                        console.log('ðŸŽ¯ Customers page detected');
                        initCustomersPage();
                    }
                });

                // Also check when page content changes
                const observer = new MutationObserver(function (mutations) {
                    mutations.forEach(function (mutation) {
                        if (mutation.target.id === 'page-content' &&
                            document.getElementById('customers-tbody')) {
                            console.log('ðŸ”„ Customers page loaded dynamically');
                            setTimeout(initCustomersPage, 100);
                        }
                    });
                });

                // Start observing
                if (document.getElementById('page-content')) {
                    observer.observe(document.getElementById('page-content'), {
                        childList: true,
                        subtree: true
                    });
                }
                // ============= PROJECT FUNCTIONS =============

                // Load customers for dropdown
                async function loadCustomersForProject() {
                    try {
                        const select = document.getElementById('project-customer');
                        if (!select) return;

                        // Try existing endpoint instead
                        const response = await fetch('/api/customers/list?limit=100');

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        if (result.success) {
                            select.innerHTML = '<option value="">Choose Customer</option>';

                            result.data.forEach(customer => {
                                const option = document.createElement('option');
                                option.value = customer.customer_id;
                                option.textContent = `${customer.customer_code} - ${customer.customer_name}`;
                                select.appendChild(option);
                            });

                            // If no customers found
                            if (result.data.length === 0) {
                                select.innerHTML = '<option value="">No customers found</option>';
                            }
                        } else {
                            select.innerHTML = '<option value="">Error loading customers</option>';
                        }
                    } catch (error) {
                        console.error('âŒ Failed to load customers:', error);
                        const select = document.getElementById('project-customer');
                        if (select) {
                            select.innerHTML = '<option value="">Error: ' + error.message + '</option>';
                        }
                    }
                }

                // Load countries for dropdown
                async function loadCountriesForProject() {
                    const countrySelect = document.getElementById('project-country');
                    if (!countrySelect) return;

                    const countries = [
                        'Singapore', 'Malaysia', 'India', 'USA', 'UK',
                        'Australia', 'China', 'Japan', 'Thailand', 'Vietnam'
                    ];

                    countrySelect.innerHTML = '<option value="">Select Country</option>';

                    countries.forEach(country => {
                        const option = document.createElement('option');
                        option.value = country;
                        option.textContent = country;
                        countrySelect.appendChild(option);
                    });
                }

                // Save project function
                async function saveProject() {
                    // Get form elements
                    const projectCode = document.getElementById('project-code').value.trim();
                    const projectName = document.getElementById('project-name').value.trim();
                    const customerId = document.getElementById('project-customer').value;
                    const country = document.getElementById('project-country').value;
                    const projectStatus = document.getElementById('project-status').value;
                    const isActive = document.querySelector('input[name="active"]:checked').value === 'Yes';

                    // Validation
                    const errors = [];

                    if (!projectCode) {
                        errors.push('Project code is required');
                        document.getElementById('project-code').style.borderColor = '#ef4444';
                    }

                    if (!projectName) {
                        errors.push('Project name is required');
                        document.getElementById('project-name').style.borderColor = '#ef4444';
                    }

                    if (!customerId) {
                        errors.push('Please select a customer');
                        document.getElementById('project-customer').style.borderColor = '#ef4444';
                    }

                    if (errors.length > 0) {
                        showStatusMessage('âŒ ' + errors.join(', '), 'error');
                        return;
                    }

                    try {
                        const saveBtn = document.querySelector('.project-create-btn');
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating...';
                            saveBtn.disabled = true;
                        }

                        // Collect form data
                        const formData = {
                            project_code: projectCode,
                            project_name: projectName,
                            customer_id: parseInt(customerId),
                            country: country || 'Singapore',
                            project_status: projectStatus || 'On going',
                            is_active: isActive
                        };

                        console.log('ðŸ“¤ Saving project:', formData);

                        // Send to API
                        const response = await fetch('/api/projects', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(formData)
                        });

                        const result = await response.json();

                        if (response.ok && result.success) {
                            showStatusMessage(`âœ… Project "${projectName}" created successfully!`, 'success');

                            // Reset form and go back
                            setTimeout(() => {
                                updatePageContent('project-management'); // or your projects list page
                            }, 1500);
                        } else {
                            throw new Error(result.error || 'Failed to create project');
                        }

                    } catch (error) {
                        console.error('âŒ Save project error:', error);
                        showStatusMessage('âŒ ' + error.message, 'error');

                        const saveBtn = document.querySelector('.project-create-btn');
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-plus"></i> Create';
                            saveBtn.disabled = false;
                        }
                    }
                }

                // Initialize project create form
                function initProjectCreateForm() {
                    // Load customers
                    loadCustomersForProject();

                    // Load countries
                    loadCountriesForProject();

                    // Add event listener to save button
                    const saveBtn = document.querySelector('.project-create-btn');
                    if (saveBtn) {
                        saveBtn.addEventListener('click', saveProject);
                    }

                    // Add event listener to back button
                    const backBtn = document.querySelector('.project-back-btn');
                    if (backBtn) {
                        backBtn.addEventListener('click', () => {
                            updatePageContent('project-management');
                        });
                    }

                    // Focus on code field
                    setTimeout(() => {
                        const codeInput = document.getElementById('project-code');
                        if (codeInput) codeInput.focus();
                    }, 200);
                }
                // ============= PROJECT MANAGEMENT FUNCTIONS =============

                // Global variables for pagination

                let currentFilters = {};

                // Load projects with filters
                async function loadProjects(page = 1, limit = 20, filters = {}) {
                    try {
                        const tableBody = document.querySelector('.projects-table tbody');
                        const paginationInfo = document.querySelector('.pagination-info');
                        const prevBtn = document.querySelector('.pagination-controls button:first-child');
                        const nextBtn = document.querySelector('.pagination-controls button:last-child');

                        if (!tableBody) return;

                        // Show loading
                        tableBody.innerHTML = `
            <tr>
                <td colspan="6" style="padding: 40px; text-align: center;">
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                        <i class="fas fa-spinner fa-spin" style="font-size: 24px; color: var(--primary);"></i>
                        <div>Loading projects...</div>
                    </div>
                </td>
            </tr>
        `;

                        // Build query params
                        const params = new URLSearchParams({
                            page: page,
                            limit: limit,
                            ...filters
                        });

                        // Remove empty filters
                        Object.keys(filters).forEach(key => {
                            if (!filters[key]) params.delete(key);
                        });

                        const response = await fetch(`/api/projects?${params}`);

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        if (result.success) {
                            const projects = result.data || [];
                            const pagination = result.pagination || {};

                            // Update global variables
                            currentPage = page;
                            currentLimit = limit;
                            currentFilters = filters;

                            // Clear table
                            tableBody.innerHTML = '';

                            if (projects.length > 0) {
                                // Render projects
                                projects.forEach(project => {
                                    const row = document.createElement('tr');
                                    row.style.borderBottom = '1px solid #e2e8f0';

                                    // Status badge styling
                                    let statusBadge = '';
                                    switch (project.project_status) {
                                        case 'Completed':
                                            statusBadge = '<span style="background: #10b981; color: white; padding: 4px 10px; border-radius: 12px; font-size: 12px; display: inline-block;">Completed</span>';
                                            break;
                                        case 'On Hold':
                                            statusBadge = '<span style="background: #f59e0b; color: white; padding: 4px 10px; border-radius: 12px; font-size: 12px; display: inline-block;">On Hold</span>';
                                            break;
                                        default:
                                            statusBadge = '<span style="background: var(--primary); color: white; padding: 4px 10px; border-radius: 12px; font-size: 12px; display: inline-block;">On going</span>';
                                    }

                                    // Active/inactive badge
                                    const activeBadge = project.is_active
                                        ? '<span style="color: #10b981; font-size: 12px;"><i class="fas fa-circle"></i> Active</span>'
                                        : '<span style="color: #ef4444; font-size: 12px;"><i class="fas fa-circle"></i> Inactive</span>';

                                    // In loadProjects() function, update the row rendering:
                                    row.innerHTML = `
    <td style="padding: 15px;">
        <div style="font-weight: 600; color: var(--dark);">${project.project_code}</div>
        <div style="font-size: 11px; color: #64748b; margin-top: 2px;">
            <span style="color: ${project.is_active ? '#10b981' : '#ef4444'};">
                <i class="fas fa-circle" style="font-size: 8px;"></i> 
                ${project.is_active ? 'Active' : 'Inactive'}
            </span>
        </div>
    </td>
    <td style="padding: 15px;">
        <div style="font-weight: 500;">${project.project_name}</div>
        <div style="font-size: 11px; color: #64748b; margin-top: 2px;">
            Budget: ${project.currency || 'SGD'} ${project.budget || '0.00'}
        </div>
    </td>
    <td style="padding: 15px;">
        <div style="font-weight: 500;">${project.customer_name || 'N/A'}</div>
        <div style="font-size: 11px; color: #64748b; margin-top: 2px;">
            ${project.customer_code || ''} 
            ${project.contact_person1 ? '| ' + project.contact_person1 : ''}
        </div>
    </td>
    <td style="padding: 15px;">
        ${project.formatted_start_date || 'Not set'}
    </td>
    <td style="padding: 15px;">
        <div style="font-size: 13px;">${project.created_date_only || 'N/A'}</div>
        <div style="font-size: 11px; color: #64748b;">${project.created_time_only || ''}</div>
    </td>
    <td style="padding: 15px;">
        ${statusBadge}
    </td>
    <td style="padding: 15px; text-align: center;">
        <div style="display: flex; gap: 8px; justify-content: center;">
           <button class="btn-view" data-id="${project.project_id}"
                    title="View Details"
                 style="background: none; border: none; cursor: pointer; color: #10b981; padding: 6px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#d1fae5'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="View Details">
                            <i class="fas fa-eye" style="font-size: 14px;"></i>
                        </button> 
            <button class="btn-edit" data-id="${project.project_id}" 
                    title="Edit Project"
                 style="background: none; border: none; cursor: pointer; color: #2563eb; padding: 6px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#dbeafe'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Edit">
                            <i class="fas fa-edit" style="font-size: 14px;"></i>
                        </button>  
            <button class="btn-delete" data-id="${project.project_id}" data-code="${project.project_code}" 
                    title="Delete Project"
                style="background: none; border: none; cursor: pointer; color: #ef4444; padding: 6px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#fee2e2'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Delete">
                            <i class="fas fa-trash" style="font-size: 14px;"></i>
                        </button>
        </div>
    </td>
`;

                                    tableBody.appendChild(row);
                                });

                                // Add event listeners to buttons
                                attachProjectActionListeners();

                                // Update pagination info
                                if (paginationInfo) {
                                    const start = ((page - 1) * limit) + 1;
                                    const end = Math.min(page * limit, pagination.total);
                                    paginationInfo.textContent = `Showing ${start} to ${end} of ${pagination.total} entries`;
                                }

                                // Update pagination buttons
                                if (prevBtn) {
                                    prevBtn.disabled = !pagination.hasPrev;
                                    prevBtn.style.opacity = pagination.hasPrev ? '1' : '0.5';
                                    prevBtn.style.cursor = pagination.hasPrev ? 'pointer' : 'not-allowed';
                                }

                                if (nextBtn) {
                                    nextBtn.disabled = !pagination.hasNext;
                                    nextBtn.style.opacity = pagination.hasNext ? '1' : '0.5';
                                    nextBtn.style.cursor = pagination.hasNext ? 'pointer' : 'not-allowed';
                                }

                                console.log(`âœ… Loaded ${projects.length} projects`);

                            } else {
                                // No data
                                tableBody.innerHTML = `
                    <tr>
                        <td colspan="6" style="padding: 40px; text-align: center; color: #64748b; font-size: 14px;">
                            <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #cbd5e1;"></i>
                                <div>No projects found</div>
                                <button class="btn btn-primary project-create-btn" 
                                        style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px;">
                                    <i class="fas fa-plus"></i> Create First Project
                                </button>
                            </div>
                        </td>
                    </tr>
                `;

                                // Update pagination info
                                if (paginationInfo) {
                                    paginationInfo.textContent = `Showing 0 to 0 of 0 entries`;
                                }
                            }

                        } else {
                            throw new Error(result.error || 'Failed to load projects');
                        }

                    } catch (error) {
                        console.error('âŒ Failed to load projects:', error);
                        const tableBody = document.querySelector('.projects-table tbody');
                        if (tableBody) {
                            tableBody.innerHTML = `
                <tr>
                    <td colspan="6" style="padding: 40px; text-align: center; color: #ef4444;">
                        <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                            <i class="fas fa-exclamation-triangle" style="font-size: 48px;"></i>
                            <div>Error loading projects: ${error.message}</div>
                            <button onclick="loadProjects()" 
                                    style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px;">
                                Retry
                            </button>
                        </div>
                    </td>
                </tr>
            `;
                        }
                    }
                }

                // Attach event listeners to project action buttons
                function attachProjectActionListeners() {
                    // View buttons
                    document.querySelectorAll('.btn-view').forEach(btn => {
                        btn.addEventListener('click', function () {
                            const projectId = this.getAttribute('data-id');
                            viewProject(projectId);
                        });
                    });

                    // Edit buttons
                    document.querySelectorAll('.btn-edit').forEach(btn => {
                        btn.addEventListener('click', function () {
                            const projectId = this.getAttribute('data-id');
                            editProject(projectId); // This will now work!
                        });
                    });

                    // Delete buttons
                    document.querySelectorAll('.btn-delete').forEach(btn => {
                        btn.addEventListener('click', function () {
                            const projectId = this.getAttribute('data-id');
                            const projectCode = this.getAttribute('data-code');
                            deleteProject(projectId, projectCode);
                        });
                    });
                }

                // View project details
                // âœ… View project details - Replace existing viewProject function
                async function viewProject(projectId) {
                    console.log('ðŸ” Viewing project:', projectId);

                    try {
                        const response = await fetch(`/api/projects/${projectId}`);
                        const result = await response.json();

                        if (result.success) {
                            // DIRECT APPROACH - Use your existing page content system
                            const project = result.data;

                            // Create view form content
                            const viewFormContent = `
                <div class="project-view-form">
                    <div style="padding: 20px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h2 style="color: var(--primary); margin: 0;">Project Details</h2>
                            <button class="btn btn-primary project-back-btn"
                                    style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                                <i class="fas fa-arrow-left"></i> Back to List
                            </button>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <!-- Left Column -->
                            <div>
                                <div style="background: #f8fafc; padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                    <div style="font-size: 12px; color: #64748b; margin-bottom: 5px;">Project Code</div>
                                    <div style="font-size: 16px; font-weight: 600; font-family: 'Courier New', monospace;">${project.project_code}</div>
                                </div>
                                
                                <div style="background: #f8fafc; padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                    <div style="font-size: 12px; color: #64748b; margin-bottom: 5px;">Project Name</div>
                                    <div style="font-size: 16px; font-weight: 600;">${project.project_name}</div>
                                </div>
                                
                                <div style="background: #f8fafc; padding: 15px; border-radius: 6px;">
                                    <div style="font-size: 12px; color: #64748b; margin-bottom: 5px;">Country</div>
                                    <div style="font-size: 14px; font-weight: 500;">${project.country || 'Singapore'}</div>
                                </div>
                            </div>
                            
                            <!-- Right Column -->
                            <div>
                                <div style="background: #f8fafc; padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                    <div style="font-size: 12px; color: #64748b; margin-bottom: 5px;">Customer</div>
                                    <div style="font-size: 16px; font-weight: 600;">${project.customer_name || 'N/A'}</div>
                                    ${project.customer_code ? `<div style="font-size: 12px; color: #64748b; margin-top: 3px;">Code: ${project.customer_code}</div>` : ''}
                                </div>
                                
                                <div style="background: #f8fafc; padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                                    <div style="font-size: 12px; color: #64748b; margin-bottom: 5px;">Status</div>
                                    <div>${getStatusBadge(project.project_status)}</div>
                                </div>
                                
                                <div style="background: #f8fafc; padding: 15px; border-radius: 6px;">
                                    <div style="font-size: 12px; color: #64748b; margin-bottom: 5px;">Budget</div>
                                    <div style="font-size: 16px; font-weight: 600; color: var(--primary);">
                                        ${project.currency || 'SGD'} ${parseFloat(project.budget || 0).toFixed(2)}
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Description -->
                        <div style="margin-top: 20px; background: #f8fafc; padding: 15px; border-radius: 6px;">
                            <div style="font-size: 12px; color: #64748b; margin-bottom: 8px; font-weight: 600;">Description</div>
                            <div style="white-space: pre-line; font-size: 13px; line-height: 1.5;">
                                ${project.description || '<span style="color: #94a3b8; font-style: italic;">No description provided</span>'}
                            </div>
                        </div>
                        
                        <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                            Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
                        </div>
                    </div>
                </div>
            `;

                            // USE YOUR EXISTING updatePageContent SYSTEM
                            // Check what your updatePageContent function expects

                            console.log('ðŸ”„ Calling updatePageContent with view form...');

                            // Method 1: Direct update
                            const pageContent = document.getElementById('pageContent') ||
                                document.getElementById('page-content') ||
                                document.getElementById('main-content');

                            if (pageContent) {
                                console.log('âœ… Found page content element, updating directly');
                                pageContent.innerHTML = viewFormContent;

                                // Update heading
                                const heading = document.querySelector('.company-name');
                                if (heading) heading.textContent = 'View Project';

                                // Update URL
                                window.location.hash = 'project-view';

                            } else {
                                // Method 2: Use your existing system
                                console.log('ðŸ”„ Using updatePageContent system...');

                                // Temporarily add to pageContents object
                                window.pageContents = window.pageContents || {};
                                window.pageContents['project-view'] = {
                                    heading: 'View Project',
                                    title: 'View Project',
                                    content: viewFormContent
                                };

                                // Call your existing updatePageContent function
                                if (typeof updatePageContent === 'function') {
                                    updatePageContent('project-view');
                                } else {
                                    // Fallback
                                    document.body.innerHTML = `
                        <div style="padding: 20px;">
                            ${viewFormContent}
                        </div>
                    `;
                                }
                            }
                        }
                    } catch (error) {
                        console.error('âŒ View error:', error);
                        alert(`Error: ${error.message}`);
                    }
                }

                // âœ… Show project view form


                // âœ… Helper function for status badge
                // Make sure getStatusBadge is defined BEFORE showProjectViewForm
                function getStatusBadge(status) {
                    if (!status) return '';

                    switch (status) {
                        case 'Completed':
                            return '<span style="background: #10b981; color: white; padding: 4px 10px; border-radius: 12px; font-size: 12px;">Completed</span>';
                        case 'On Hold':
                            return '<span style="background: #f59e0b; color: white; padding: 4px 10px; border-radius: 12px; font-size: 12px;">On Hold</span>';
                        default:
                            return '<span style="background: var(--primary); color: white; padding: 4px 10px; border-radius: 12px; font-size: 12px;">On going</span>';
                    }
                }

                // Edit project
                // ============= PROJECT EDIT FUNCTIONS =============

                // âœ… Edit project function
                async function editProject(projectId) {
                    console.log('âœï¸ Edit project:', projectId);

                    try {
                        showStatusMessage('Loading project details...', 'info');

                        const response = await fetch(`/api/projects/${projectId}`);

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        if (result.success) {
                            showProjectEditForm(result.data);
                        } else {
                            throw new Error(result.error);
                        }
                    } catch (error) {
                        console.error('Edit error:', error);
                        showStatusMessage(`âŒ Failed to load project: ${error.message}`, 'error');
                    }
                }

                // âœ… Show project edit form
                function showProjectEditForm(project) {
                    console.log('ðŸŽ¯ showProjectEditForm called');
                    console.log('ðŸ“‹ Project data for edit:', project);
                    const editFormHTML = `
        <div class="project-edit-form">
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary update-project-btn" 
                            data-project-id="${project.project_id}"
                            style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Update Project
                    </button>
                    <button class="btn btn-primary project-edit-back-btn" 
                            style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back to List
                    </button>
                </div>
                <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                    <i class="fas fa-edit"></i> Editing Project: ${project.project_code}
                </div>
            </div>

            <!-- MAIN FORM CONTENT -->
            <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Project Code*</label>
                                <input type="text" id="edit-project-code" value="${project.project_code || ''}" 
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px;" readonly>
                                <div style="font-size: 10px; color: #64748b; margin-top: 4px;">(Code cannot be changed)</div>
                            </div>
                            
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Project Name*</label>
                                <input type="text" id="edit-project-name" value="${project.project_name || ''}" 
                                       placeholder="Enter project name"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                            </div>
                            
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Country</label>
                                <select id="edit-project-country" 
                                        style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                    <option value="">Select Country</option>
                                    <option value="Singapore" ${project.country === 'Singapore' ? 'selected' : ''}>Singapore</option>
                                    <option value="Malaysia" ${project.country === 'Malaysia' ? 'selected' : ''}>Malaysia</option>
                                    <option value="India" ${project.country === 'India' ? 'selected' : ''}>India</option>
                                    <option value="USA" ${project.country === 'USA' ? 'selected' : ''}>USA</option>
                                    <option value="UK" ${project.country === 'UK' ? 'selected' : ''}>UK</option>
                                    <option value="Australia" ${project.country === 'Australia' ? 'selected' : ''}>Australia</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Budget</label>
                                <div style="display: flex; gap: 10px;">
                                    <select id="edit-project-currency" 
                                            style="width: 100px; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                        <option value="SGD" ${project.currency === 'SGD' ? 'selected' : ''}>SGD</option>
                                        <option value="USD" ${project.currency === 'USD' ? 'selected' : ''}>USD</option>
                                        <option value="EUR" ${project.currency === 'EUR' ? 'selected' : ''}>EUR</option>
                                        <option value="MYR" ${project.currency === 'MYR' ? 'selected' : ''}>MYR</option>
                                        <option value="INR" ${project.currency === 'INR' ? 'selected' : ''}>INR</option>
                                    </select>
                                    <input type="number" id="edit-project-budget" value="${project.budget || 0}" 
                                           step="0.01" min="0"
                                           style="flex: 1; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Customer*</label>
                                <select id="edit-project-customer" 
                                        style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                    <option value="">Loading customers...</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Project Status</label>
                                <select id="edit-project-status" 
                                        style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                    <option value="On going" ${project.project_status === 'On going' ? 'selected' : ''}>On going</option>
                                    <option value="Completed" ${project.project_status === 'Completed' ? 'selected' : ''}>Completed</option>
                                    <option value="On Hold" ${project.project_status === 'On Hold' ? 'selected' : ''}>On Hold</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Timeline</label>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                                    <div>
                                        <div style="font-size: 10px; color: #64748b; margin-bottom: 2px;">Start Date</div>
                                        <input type="date" id="edit-project-start-date" value="${project.start_date ? project.start_date.split('T')[0] : ''}"
                                               style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                    </div>
                                    <div>
                                        <div style="font-size: 10px; color: #64748b; margin-bottom: 2px;">End Date</div>
                                        <input type="date" id="edit-project-end-date" value="${project.end_date ? project.end_date.split('T')[0] : ''}"
                                               style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Active Status</label>
                                <div style="display: flex; align-items: center; gap: 15px;">
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="radio" name="edit-project-active" value="1" ${project.is_active ? 'checked' : ''} style="accent-color: var(--primary);">
                                        <span style="font-size: 13px;">Active</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="radio" name="edit-project-active" value="0" ${!project.is_active ? 'checked' : ''} style="accent-color: var(--primary);">
                                        <span style="font-size: 13px;">Inactive</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Description Section -->
                <div style="margin-top: 20px;">
                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Description</label>
                    <textarea id="edit-project-description" 
                              placeholder="Enter project description..."
                              style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; min-height: 100px; resize: vertical;">${project.description || ''}</textarea>
                </div>
                
                <!-- Remarks Section -->
                <div style="margin-top: 15px;">
                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Remarks</label>
                    <textarea id="edit-project-remarks" 
                              placeholder="Any additional remarks..."
                              style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; min-height: 80px; resize: vertical;">${project.remarks || ''}</textarea>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `;

                    // Update page content
                    const pageContent = document.getElementById('pageContent') ||
                        document.getElementById('page-content') ||
                        document.getElementById('main-content');

                    if (pageContent) {
                        pageContent.innerHTML = editFormHTML;

                        // Load customers AFTER DOM is updated
                        setTimeout(() => {
                            console.log('ðŸ”„ Starting customer load...');
                            loadCustomersForProjectEdit(project.customer_id);
                        }, 100);

                        // Add event listeners
                        setTimeout(() => {
                            // Back button
                            const backBtn = document.querySelector('.project-edit-back-btn');
                            if (backBtn) {
                                backBtn.addEventListener('click', (e) => {
                                    e.preventDefault();
                                    console.log('ðŸ”™ Back button clicked from edit form');

                                    // Go back to project management
                                    updatePageContent('project-management');

                                    // IMPORTANT: Force reload projects with a slight delay
                                    setTimeout(() => {
                                        console.log('ðŸ”„ Reloading projects list...');
                                        loadProjects(currentPage, currentLimit, currentFilters);
                                    }, 300);
                                });
                            }

                            // Update button
                            const updateBtn = document.querySelector('.update-project-btn');
                            if (updateBtn) {
                                updateBtn.addEventListener('click', (e) => {
                                    e.preventDefault();
                                    updateProject(project.project_id);
                                });
                            }

                        }, 100);

                        showStatusMessage('âœ… Project loaded for editing', 'success');
                    }
                }

                // âœ… Load customers for edit form
                // âœ… Load customers for edit form (FIXED VERSION)
                // âœ… FIXED: Load customers for edit form
                async function loadCustomersForProjectEdit(selectedCustomerId) {
                    try {
                        const select = document.getElementById('edit-project-customer');
                        if (!select) {
                            console.error('âŒ Customer select element not found');
                            return;
                        }

                        console.log('ðŸ”„ Loading customers for edit form...');

                        // Show loading state
                        select.innerHTML = '<option value="">Loading customers...</option>';
                        select.disabled = true;

                        // TRY DIFFERENT ENDPOINTS - Based on your existing code
                        // Try /api/customers/list first (from your paymode code)
                        let response = await fetch('/api/customers/list?limit=100');

                        // If that fails, try /api/customers
                        if (!response.ok) {
                            console.log('âš ï¸ /api/customers/list failed, trying /api/customers...');
                            response = await fetch('/api/customers');
                        }

                        // If that fails, try /api/customers/available
                        if (!response.ok) {
                            console.log('âš ï¸ /api/customers failed, trying /api/customers/available...');
                            response = await fetch('/api/customers/available');
                        }

                        console.log('ðŸ“¡ Final API Response status:', response.status);

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();
                        console.log('âœ… API Response received');

                        if (result.success && result.data) {
                            console.log(`ðŸ“Š Found ${result.data.length} customers`);

                            // Clear and populate dropdown
                            select.innerHTML = '<option value="">Select Customer</option>';

                            let foundSelected = false;
                            result.data.forEach(customer => {
                                const option = document.createElement('option');
                                option.value = customer.customer_id;
                                option.textContent = customer.customer_code
                                    ? `${customer.customer_code} - ${customer.customer_name}`
                                    : customer.customer_name;

                                // Check if this is the selected customer
                                if (customer.customer_id == selectedCustomerId) {
                                    option.selected = true;
                                    foundSelected = true;
                                    console.log(`âœ… Selected customer found: ${customer.customer_name}`);
                                }

                                select.appendChild(option);
                            });

                            select.disabled = false;

                            if (!foundSelected && selectedCustomerId) {
                                console.warn(`âš ï¸ Selected customer ID ${selectedCustomerId} not found`);
                            }

                        } else {
                            throw new Error(result.error || 'No customer data received');
                        }

                    } catch (error) {
                        console.error('âŒ Failed to load customers:', error);
                        const select = document.getElementById('edit-project-customer');
                        if (select) {
                            select.innerHTML = `<option value="">Error loading customers</option>`;
                            select.disabled = false;
                        }
                    }
                }
                // âœ… Update project function
                async function updateProject(projectId) {
                    console.log('ðŸ’¾ Updating project:', projectId);

                    const updateBtn = document.querySelector('.update-project-btn');
                    if (updateBtn) {
                        updateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Updating...';
                        updateBtn.disabled = true;
                    }

                    try {
                        // Collect form data
                        const updateData = {
                            project_name: document.getElementById('edit-project-name').value.trim(),
                            customer_id: document.getElementById('edit-project-customer').value,
                            country: document.getElementById('edit-project-country').value || 'Singapore',
                            project_status: document.getElementById('edit-project-status').value,
                            currency: document.getElementById('edit-project-currency').value,
                            budget: parseFloat(document.getElementById('edit-project-budget').value) || 0,
                            start_date: document.getElementById('edit-project-start-date').value || null,
                            end_date: document.getElementById('edit-project-end-date').value || null,
                            description: document.getElementById('edit-project-description').value.trim(),
                            remarks: document.getElementById('edit-project-remarks').value.trim(),
                            is_active: document.querySelector('input[name="edit-project-active"]:checked').value === '1'
                        };

                        // Validation
                        const errors = [];

                        if (!updateData.project_name) {
                            errors.push('Project name is required');
                            document.getElementById('edit-project-name').style.borderColor = '#ef4444';
                        }

                        if (!updateData.customer_id) {
                            errors.push('Please select a customer');
                            document.getElementById('edit-project-customer').style.borderColor = '#ef4444';
                        }

                        if (errors.length > 0) {
                            showStatusMessage('âŒ ' + errors.join(', '), 'error');

                            if (updateBtn) {
                                updateBtn.innerHTML = '<i class="fas fa-save"></i> Update Project';
                                updateBtn.disabled = false;
                            }
                            return;
                        }

                        console.log('ðŸ“¤ Sending project update:', updateData);

                        // Send PUT request
                        const response = await fetch(`/api/projects/${projectId}`, {
                            method: 'PUT',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(updateData)
                        });

                        const result = await response.json();

                        if (!response.ok) {
                            throw new Error(result.error || `HTTP ${response.status}`);
                        }

                        if (result.success) {
                            showStatusMessage('âœ… Project updated successfully!', 'success');

                            // Go back to project list and reload
                            updatePageContent('project-management');

                            setTimeout(() => {
                                loadProjects(currentPage, currentLimit, currentFilters);
                            }, 300);

                        } else {
                            throw new Error(result.error);
                        }

                    } catch (error) {
                        console.error('âŒ Update error:', error);
                        showStatusMessage(`âŒ Update failed: ${error.message}`, 'error');

                        if (updateBtn) {
                            updateBtn.innerHTML = '<i class="fas fa-save"></i> Update Project';
                            updateBtn.disabled = false;
                        }
                    }
                }

                // Delete project with confirmation
                // âœ… Simple delete project with Yes/No confirmation
                async function deleteProject(projectId, projectCode) {
                    // Simple confirmation - No typing required
                    if (!confirm(`Are you sure you want to PERMANENTLY delete project "${projectCode}"?\n\nâš ï¸ This action cannot be undone!`)) {
                        showStatusMessage('âŒ Deletion cancelled', 'info');
                        return;
                    }

                    try {
                        // Show loading
                        showStatusMessage('ðŸ—‘ï¸ Deleting project...', 'info');

                        const response = await fetch(`/api/projects/${projectId}`, {
                            method: 'DELETE'
                        });

                        const result = await response.json();

                        if (!response.ok) {
                            throw new Error(result.error || `HTTP ${response.status}`);
                        }

                        if (result.success) {
                            showStatusMessage(`âœ… Project "${projectCode}" permanently deleted`, 'success');

                            // Reload project list
                            setTimeout(() => {
                                loadProjects(currentPage, currentLimit, currentFilters);
                            }, 500);

                        } else {
                            throw new Error(result.error);
                        }

                    } catch (error) {
                        console.error('âŒ Delete error:', error);
                        showStatusMessage(`âŒ Delete failed: ${error.message}`, 'error');
                    }
                }

                // Apply filters from form
                function applyProjectFilters() {
                    const filters = {};

                    // Status filter
                    const statusFilter = document.getElementById('project-status-filter');
                    if (statusFilter && statusFilter.value !== 'All') {
                        filters.status = statusFilter.value;
                    }

                    // Active filter
                    const activeFilter = document.getElementById('project-active-filter');
                    if (activeFilter && activeFilter.value !== '') {
                        filters.is_active = activeFilter.value;
                    }

                    // Search filter
                    const searchFilter = document.getElementById('project-search');
                    if (searchFilter && searchFilter.value.trim()) {
                        filters.search = searchFilter.value.trim();
                    }

                    // Customer filter (if you add customer dropdown)
                    const customerFilter = document.getElementById('project-customer-filter');
                    if (customerFilter && customerFilter.value) {
                        filters.customer_id = customerFilter.value;
                    }

                    // Reload with filters
                    loadProjects(1, currentLimit, filters);
                }

                // Initialize project management page
                function initProjectManagement() {
                    // Load initial projects
                    loadProjects();

                    // Add event listeners to filter controls

                    // Status filter
                    const statusFilter = document.getElementById('project-status-filter');
                    if (statusFilter) {
                        statusFilter.addEventListener('change', applyProjectFilters);
                    }

                    // Active filter
                    const activeFilter = document.getElementById('project-active-filter');
                    if (activeFilter) {
                        activeFilter.addEventListener('change', applyProjectFilters);
                    }

                    // Search filter with debounce
                    const searchFilter = document.getElementById('project-search');
                    if (searchFilter) {
                        let searchTimeout;
                        searchFilter.addEventListener('input', function () {
                            clearTimeout(searchTimeout);
                            searchTimeout = setTimeout(() => {
                                applyProjectFilters();
                            }, 500);
                        });
                    }

                    // Entries per page dropdown
                    const limitSelect = document.getElementById('project-limit');
                    if (limitSelect) {
                        limitSelect.addEventListener('change', function () {
                            const newLimit = parseInt(this.value);
                            loadProjects(1, newLimit, currentFilters);
                        });
                    }

                    // Pagination buttons
                    const prevBtn = document.querySelector('.pagination-controls button:first-child');
                    const nextBtn = document.querySelector('.pagination-controls button:last-child');

                    if (prevBtn) {
                        prevBtn.addEventListener('click', function () {
                            if (!this.disabled) {
                                loadProjects(currentPage - 1, currentLimit, currentFilters);
                            }
                        });
                    }

                    if (nextBtn) {
                        nextBtn.addEventListener('click', function () {
                            if (!this.disabled) {
                                loadProjects(currentPage + 1, currentLimit, currentFilters);
                            }
                        });
                    }

                    // Add Project button
                    const addBtn = document.querySelector('.project-create-btn');
                    if (addBtn) {
                        addBtn.addEventListener('click', function () {
                            updatePageContent('project-create');
                        });
                    }

                    // Fetch button (refresh)
                    const fetchBtn = document.querySelector('.action-section button:last-child');
                    if (fetchBtn) {
                        fetchBtn.addEventListener('click', function () {
                            loadProjects(1, currentLimit, currentFilters);
                        });
                    }
                }
                document.addEventListener('DOMContentLoaded', function () {
                    console.log('DOM loaded, current hash:', window.location.hash);

                    if (window.location.hash === '#project-create') {
                        console.log('ðŸŽ¯ Project create page detected');
                        setTimeout(initProjectCreateForm, 100);
                    }

                    if (window.location.hash === '#project-management') {
                        console.log('ðŸŽ¯ Project management page detected');
                        setTimeout(initProjectManagement, 100);
                    }
                });

                window.addEventListener('hashchange', function () {
                    console.log('Hash changed to:', window.location.hash);

                    if (window.location.hash === '#project-create') {
                        console.log('ðŸŽ¯ Project create page detected (hashchange)');
                        setTimeout(initProjectCreateForm, 300);
                    }

                    if (window.location.hash === '#project-management') {
                        console.log('ðŸŽ¯ Project management page detected (hashchange)');
                        setTimeout(initProjectManagement, 300);
                    }
                });
                // In your updatePageContent function, check which section is being loaded:
                function updatePageContent(page) {
                    console.log('ðŸ”„ updatePageContent called with:', page);
                    localStorage.setItem('currentPage', page);
                    sessionStorage.setItem('currentPage', page);
                    window.location.hash = page;

                    // Check if pageContent element exists
                    const pageContent = document.getElementById('pageContent');
                    console.log('ðŸ“„ pageContent element:', pageContent ? 'Found' : 'Not found');

                    if (pageContent && pageContents[page]) {
                        console.log('âœ… Loading content for page:', page);
                        const content = pageContents[page];

                        // Update heading
                        document.querySelector('.company-name').textContent = content.heading;

                        // Update content
                        pageContent.innerHTML = content.content;

                        // Log when content is loaded
                        console.log('âœ… Content loaded for:', page);
                    } else {
                        console.error('âŒ Page not found or pageContent missing:', page);
                    }
                }
                // ============= LOCATION FUNCTIONS =============
                // Helper: Show status message
                function showStatusMessage(message, type = 'info') {
                    // Try to find existing status div
                    let statusDiv = document.getElementById('vendorStatusMessage');

                    if (!statusDiv) {
                        // Create status div
                        statusDiv = document.createElement('div');
                        statusDiv.id = 'vendorStatusMessage';
                        statusDiv.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 12px 20px;
            border-radius: 8px;
            z-index: 9999;
            font-size: 14px;
            font-weight: 500;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            max-width: 300px;
            animation: slideIn 0.3s ease;
        `;

                        // Add animation
                        const style = document.createElement('style');
                        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
        `;
                        document.head.appendChild(style);
                        document.body.appendChild(statusDiv);
                    }

                    // Set message and color
                    const colors = {
                        success: '#10b981',
                        error: '#dc2626',
                        info: '#3b82f6'
                    };

                    statusDiv.textContent = message;
                    statusDiv.style.backgroundColor = colors[type] || colors.info;
                    statusDiv.style.color = 'white';

                    // Auto hide after 5 seconds
                    setTimeout(() => {
                        statusDiv.style.opacity = '0';
                        statusDiv.style.transition = 'opacity 0.5s ease';
                        setTimeout(() => {
                            if (statusDiv.parentNode) {
                                statusDiv.parentNode.removeChild(statusDiv);
                            }
                        }, 500);
                    }, 5000);
                }
                // Initialize locations create form
                function initLocationsCreateForm() {
                    console.log('ðŸ“ Initializing locations create form...');

                    // Get next sort code on page load
                    getNextSortCode();

                    // Setup event listeners
                    setTimeout(() => {
                        // Save button
                        const saveBtn = document.getElementById('save-location-btn');
                        if (saveBtn) {
                            saveBtn.addEventListener('click', saveLocation);
                        }

                        // Refresh sort code button
                        const refreshBtn = document.getElementById('refresh-sort-btn');
                        if (refreshBtn) {
                            refreshBtn.addEventListener('click', getNextSortCode);
                        }

                        // Back button
                        const backBtn = document.querySelector('.locations-back-btn');
                        if (backBtn) {
                            backBtn.addEventListener('click', () => {
                                updatePageContent('locations-list'); // or your locations list page
                            });
                        }

                        // Real-time validation for location code
                        const codeInput = document.getElementById('location-code');
                        if (codeInput) {
                            codeInput.addEventListener('blur', async function () {
                                const code = this.value.trim();
                                if (code) {
                                    await checkLocationCodeExists(code);
                                }
                            });
                        }

                    }, 100);
                }

                // Get next available sort code
                async function getNextSortCode() {
                    try {
                        console.log('ðŸ”¢ Getting next sort code...');
                        const sortCodeInput = document.getElementById('location-sort-code');
                        const refreshBtn = document.getElementById('refresh-sort-btn');

                        if (!sortCodeInput) return;

                        // Show loading
                        if (refreshBtn) {
                            refreshBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
                            refreshBtn.disabled = true;
                        }

                        // Call API to get next sort code
                        const response = await fetch('/api/locations/next-sort-code');

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        if (result.success) {
                            sortCodeInput.value = result.next_sort_code;
                            console.log('âœ… Next sort code:', result.next_sort_code);

                            if (refreshBtn) {
                                refreshBtn.innerHTML = '<i class="fas fa-sync-alt"></i> Refresh';
                                refreshBtn.disabled = false;
                            }

                            // Show success message
                            const hint = document.getElementById('sort-code-hint');
                            if (hint) {
                                hint.innerHTML = `(Auto-generated: ${result.next_sort_code})`;
                                hint.style.color = '#059669';
                            }
                        } else {
                            throw new Error(result.error || 'Failed to get sort code');
                        }

                    } catch (error) {
                        console.error('âŒ Sort code error:', error);

                        // Fallback: Use simple increment
                        const sortCodeInput = document.getElementById('location-sort-code');
                        if (sortCodeInput) {
                            const current = parseInt(sortCodeInput.value) || 0;
                            sortCodeInput.value = current + 1;

                            const hint = document.getElementById('sort-code-hint');
                            if (hint) {
                                hint.innerHTML = '(Local calculation)';
                                hint.style.color = '#f59e0b';
                            }
                        }

                        // Reset button
                        const refreshBtn = document.getElementById('refresh-sort-btn');
                        if (refreshBtn) {
                            refreshBtn.innerHTML = '<i class="fas fa-sync-alt"></i> Refresh';
                            refreshBtn.disabled = false;
                        }

                        showStatusMessage('âš ï¸ Using local sort code calculation', 'warning');
                    }
                }

                // Check if location code exists
                async function checkLocationCodeExists(code) {
                    try {
                        if (!code.trim()) return false;

                        const response = await fetch(`/api/locations/check-code/${encodeURIComponent(code)}`);

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        const errorDiv = document.getElementById('location-code-error');
                        if (errorDiv) {
                            if (result.exists) {
                                errorDiv.textContent = 'âŒ This location code already exists';
                                errorDiv.style.display = 'block';
                                document.getElementById('location-code').style.borderColor = '#ef4444';
                                return true;
                            } else {
                                errorDiv.textContent = 'âœ… Code is available';
                                errorDiv.style.color = '#10b981';
                                errorDiv.style.display = 'block';
                                document.getElementById('location-code').style.borderColor = '#10b981';
                                return false;
                            }
                        }

                    } catch (error) {
                        console.error('Code check error:', error);
                        return false;
                    }
                }

                // Save location function
                async function saveLocation() {
                    console.log('ðŸ’¾ Saving location...');

                    // Get form elements
                    const saveBtn = document.getElementById('save-location-btn');
                    const locationCode = document.getElementById('location-code').value.trim();
                    const locationName = document.getElementById('location-name').value.trim();
                    const sortCode = parseInt(document.getElementById('location-sort-code').value);

                    // Clear previous errors
                    document.getElementById('location-code-error').style.display = 'none';

                    // Validation
                    const errors = [];

                    if (!locationCode) {
                        errors.push('Location code is required');
                        document.getElementById('location-code').style.borderColor = '#ef4444';
                    }

                    if (!locationName) {
                        errors.push('Location name is required');
                        document.getElementById('location-name').style.borderColor = '#ef4444';
                    }

                    if (!sortCode || sortCode < 1) {
                        errors.push('Valid sort code is required');
                        document.getElementById('location-sort-code').style.borderColor = '#ef4444';
                    }

                    if (errors.length > 0) {
                        showStatusMessage('âŒ ' + errors.join(', '), 'error');
                        return;
                    }

                    try {
                        // Show loading
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';
                            saveBtn.disabled = true;
                        }

                        // Check if code exists
                        const codeExists = await checkLocationCodeExists(locationCode);
                        if (codeExists) {
                            showStatusMessage('âŒ Location code already exists', 'error');
                            if (saveBtn) {
                                saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                                saveBtn.disabled = false;
                            }
                            return;
                        }

                        // Prepare location data
                        const locationData = {
                            location_code: locationCode,
                            location_name: locationName,
                            address: document.getElementById('location-address').value || '',
                            city: document.getElementById('location-city').value || 'Singapore',
                            country: document.getElementById('location-country').value,
                            postal_code: document.getElementById('location-postal').value || '',
                            telephone: document.getElementById('location-telephone').value || '',
                            fax: document.getElementById('location-fax').value || '',
                            admin_name: document.getElementById('location-admin').value || '',
                            sort_code: sortCode,
                            staff_code_prefix: document.getElementById('location-staff-prefix').value || '',
                            office_start_time: document.getElementById('location-start-time').value + ':00',
                            office_end_time: document.getElementById('location-end-time').value + ':00',
                            break_hours: parseFloat(document.getElementById('location-break-hours').value) || 1.00,
                            grace_period_minutes: parseInt(document.getElementById('location-grace-period').value) || 15,
                            is_active: document.getElementById('location-is-active').checked,
                            created_by: 1 // Get from session
                        };

                        console.log('ðŸ“¤ Saving location:', locationData);

                        // Send to API
                        const response = await fetch('/api/locations', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(locationData)
                        });

                        const result = await response.json();

                        if (response.ok && result.success) {
                            showStatusMessage(`âœ… Location "${locationName}" saved successfully!`, 'success');

                            // Reset form and go back after 1.5 seconds
                            setTimeout(() => {
                                updatePageContent('locations'); // or your locations list page
                            }, 1500);
                        } else {
                            throw new Error(result.error || 'Failed to save location');
                        }

                    } catch (error) {
                        console.error('âŒ Save location error:', error);
                        showStatusMessage('âŒ ' + error.message, 'error');

                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                            saveBtn.disabled = false;
                        }
                    }
                }

                // Call init when locations page loads
                document.addEventListener('DOMContentLoaded', function () {
                    if (window.location.hash === '#locations-create') {
                        setTimeout(initLocationsCreateForm, 100);
                    }
                });

                // Also call on hash change
                window.addEventListener('hashchange', function () {
                    if (window.location.hash === '#locations-create') {
                        setTimeout(initLocationsCreateForm, 300);
                    }
                });
                // ============= LOCATIONS LIST MANAGER =============
                class LocationsListManager {
                    constructor() {
                        this.baseURL = 'http://localhost:5000/api';
                        this.currentPage = 1;
                        this.pageSize = 20;
                        this.searchTerm = '';
                        this.statusFilter = 'all';
                        console.log('ðŸ“ LocationsListManager initialized');
                    }

                    // âœ… Load locations data
                    async loadLocations() {
                        console.log('ðŸ“¥ Loading locations...');

                        try {
                            const searchInput = document.querySelector('.filters-section input[placeholder*="Search"]');
                            const statusSelect = document.querySelector('.filters-section select');

                            this.searchTerm = searchInput ? searchInput.value : '';
                            this.statusFilter = statusSelect ? statusSelect.value : 'all';

                            // Convert status filter to API format
                            let statusParam = 'all';
                            if (this.statusFilter.includes('Active')) statusParam = 'active';
                            if (this.statusFilter.includes('Inactive')) statusParam = 'inactive';

                            const url = `${this.baseURL}/locations?page=${this.currentPage}&limit=${this.pageSize}&search=${encodeURIComponent(this.searchTerm)}&status=${statusParam}`;
                            console.log('ðŸŒ Fetching:', url);

                            const response = await fetch(url);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.renderLocations(result.data);
                                this.updatePagination(result.pagination);
                                this.updateTableInfo(result.data.length, result.pagination.total);
                            } else {
                                throw new Error(result.error || 'API failed');
                            }

                        } catch (error) {
                            console.error('âŒ Load error:', error);
                            this.showError(`Failed to load locations: ${error.message}`);
                        }
                    }

                    // âœ… Render locations in table
                    renderLocations(locations) {
                        const tbody = document.querySelector('.locations-table tbody');
                        if (!tbody) {
                            console.error('âŒ Table body not found!');
                            return;
                        }

                        if (locations.length === 0) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="5" style="text-align: center; padding: 40px; color: #64748b;">
                        <i class="fas fa-map-marker-alt" style="font-size: 24px; opacity: 0.5;"></i>
                        <p style="margin-top: 10px;">No locations found.</p>
                        <button class="locations-create-btn" 
                                style="margin-top: 10px; padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: inline-flex; align-items: center; gap: 5px;">
                            <i class="fas fa-plus"></i> Add First Location
                        </button>
                    </td>
                </tr>
            `;

                            // Add event listener to the button
                            setTimeout(() => {
                                const addBtn = tbody.querySelector('.locations-create-btn');
                                if (addBtn) {
                                    addBtn.addEventListener('click', () => updatePageContent('locations-create'));
                                }
                            }, 100);

                            return;
                        }

                        tbody.innerHTML = '';

                        locations.forEach(loc => {
                            const row = document.createElement('tr');

                            // Format date
                            const createdDate = loc.created_at
                                ? new Date(loc.created_at).toLocaleDateString('en-GB', {
                                    day: '2-digit',
                                    month: 'short',
                                    year: 'numeric'
                                })
                                : 'N/A';

                            row.innerHTML = `
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; font-weight: 600; color: var(--dark);">
                    <div style="color: #2563eb; font-weight: 600;">${loc.location_code || '-'}</div>
                    <div style="font-size: 11px; color: #64748b; margin-top: 2px;">
                        Sort: ${loc.sort_code || '0'}
                    </div>
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;">
                    <div style="font-weight: 500; color: var(--dark);">${loc.location_name || '-'}</div>
                    <div style="font-size: 12px; color: #64748b; margin-top: 3px; max-width: 250px; overflow: hidden; text-overflow: ellipsis;">
                        ${loc.address ? loc.address.substring(0, 50) + (loc.address.length > 50 ? '...' : '') : 'No address'}
                    </div>
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;">
                    ${loc.is_active ?
                                    `<span style="background: #d1fae5; color: #065f46; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; display: inline-block;">
                            <i class="fas fa-check-circle" style="margin-right: 4px;"></i> Active
                        </span>` :
                                    `<span style="background: #fef2f2; color: #dc2626; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; display: inline-block;">
                            <i class="fas fa-times-circle" style="margin-right: 4px;"></i> Inactive
                        </span>`
                                }
                    ${loc.staff_code_prefix ? `
                        <div style="font-size: 11px; color: #64748b; margin-top: 4px;">
                            Prefix: <code style="background: #f1f5f9; padding: 1px 4px; border-radius: 3px;">${loc.staff_code_prefix}</code>
                        </div>
                    ` : ''}
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; color: #64748b; font-size: 13px;">
                    ${createdDate}
                    ${loc.city ? `
                        <div style="font-size: 11px; color: #94a3b8; margin-top: 2px;">
                            <i class="fas fa-map-marker-alt" style="margin-right: 3px;"></i> ${loc.city}
                        </div>
                    ` : ''}
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                    <div style="display: flex; gap: 8px; justify-content: center;">
                        <!-- ðŸ‘ï¸ VIEW BUTTON -->
                        <button class="view-location-btn" 
                                data-id="${loc.location_id}"
                                data-code="${loc.location_code}"
                                data-name="${loc.location_name}"
                                style="background: none; border: none; cursor: pointer; color: #10b981; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#d1fae5'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="View Details">
                            <i class="fas fa-eye" style="font-size: 14px;"></i>
                        </button>
                        
                        <!-- âœï¸ EDIT BUTTON -->
                        <button class="edit-location-btn" 
                                data-id="${loc.location_id}"
                                data-code="${loc.location_code}"
                                data-name="${loc.location_name}"
                                style="background: none; border: none; cursor: pointer; color: #2563eb; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#dbeafe'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Edit">
                            <i class="fas fa-edit" style="font-size: 14px;"></i>
                        </button>
                        
                        <!-- ðŸ—‘ï¸ DELETE BUTTON -->
                        <button class="delete-location-btn" 
                                data-id="${loc.location_id}"
                                data-code="${loc.location_code}"
                                data-name="${loc.location_name}"
                                style="background: none; border: none; cursor: pointer; color: #ef4444; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#fee2e2'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Delete">
                            <i class="fas fa-trash" style="font-size: 14px;"></i>
                        </button>
                    </div>
                </td>
            `;

                            tbody.appendChild(row);
                        });

                        // Add event listeners to buttons
                        this.setupRowButtons();
                    }

                    // âœ… Setup button event listeners
                    setupRowButtons() {
                        // ðŸ‘ï¸ View buttons
                        document.querySelectorAll('.view-location-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const locId = btn.dataset.id;
                                const locName = btn.dataset.name;
                                console.log('ðŸ‘ï¸ View location:', locId, locName);
                                this.viewLocation(locId);
                            });
                        });

                        // âœï¸ Edit buttons
                        document.querySelectorAll('.edit-location-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const locId = btn.dataset.id;
                                const locName = btn.dataset.name;
                                console.log('âœï¸ Edit location:', locId, locName);
                                this.editLocation(locId);
                            });
                        });

                        // ðŸ—‘ï¸ Delete buttons
                        document.querySelectorAll('.delete-location-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const locId = btn.dataset.id;
                                const locCode = btn.dataset.code;
                                const locName = btn.dataset.name;
                                this.deleteLocation(locId, locCode, locName);
                            });
                        });
                    }

                    // âœ… View location details
                    async viewLocation(locId, locCode, locName) {
                        console.log('ðŸ” Viewing location:', locId, locName);

                        try {
                            showStatusMessage('Loading location details...', 'info');

                            const response = await fetch(`${this.baseURL}/locations/${locId}`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                // Create view page content using your pattern
                                this.showLocationViewPage(result.data);
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('View error:', error);
                            showStatusMessage(`âŒ Failed to load: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Show location view as full page
                    showLocationViewPage(location) {
                        // Format times
                        const startTime = location.office_start_time ?
                            location.office_start_time.substring(0, 5) : '09:00';
                        const endTime = location.office_end_time ?
                            location.office_end_time.substring(0, 5) : '18:00';

                        // Format created date
                        const createdDate = location.created_at ?
                            new Date(location.created_at).toLocaleDateString('en-GB', {
                                day: '2-digit',
                                month: 'short',
                                year: 'numeric',
                                hour: '2-digit',
                                minute: '2-digit'
                            }) : 'N/A';

                        const viewPageHTML = `
        <div class="location-view-page">
            <!-- Header Actions -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary edit-location-from-view-btn" 
                            data-id="${location.location_id}"
                            style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-edit"></i> Edit Location
                    </button>
                    <button class="btn btn-primary location-view-back-btn" 
                            style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back to List
                    </button>
                </div>
                <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                    <i class="fas fa-eye"></i> Viewing Location: ${location.location_code}
                </div>
            </div>

            <!-- Main Content Section -->
            <div class="form-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Location Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Code</label>
                                <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                    <span style="font-family: 'Courier New', monospace; font-weight: 600; color: #2563eb;">${location.location_code || 'Not provided'}</span>
                                </div>
                            </div>
                            
                            <!-- Location Name -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Name</label>
                                <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                    ${location.location_name || 'Not provided'}
                                </div>
                            </div>
                            
                            <!-- Address -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Address</label>
                                <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; min-height: 60px; display: flex; align-items: center;">
                                    ${location.address || '<span style="color: #94a3b8; font-style: italic;">No address provided</span>'}
                                </div>
                            </div>
                            
                            <!-- City & Country -->
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">City</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                        ${location.city || 'Singapore'}
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Country</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                        ${location.country || 'Singapore'}
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Postal Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Postal Code</label>
                                <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                    ${location.postal_code || '<span style="color: #94a3b8; font-style: italic;">Not provided</span>'}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Sort Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Sort Code</label>
                                <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center; justify-content: center;">
                                    <span style="font-size: 16px; font-weight: 700; color: #059669;">${location.sort_code || '0'}</span>
                                </div>
                            </div>
                            
                            <!-- Contact Information -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Contact Information</label>
                                <div style="background: #f8fafc; padding: 12px; border-radius: 5px; border: 1px solid #e2e8f0;">
                                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                        <i class="fas fa-user" style="color: #64748b; width: 16px;"></i>
                                        <span style="font-size: 13px;">${location.admin_name || '<span style="color: #94a3b8; font-style: italic;">No admin assigned</span>'}</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                        <i class="fas fa-phone" style="color: #64748b; width: 16px;"></i>
                                        <span style="font-size: 13px;">${location.telephone || 'N/A'}</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <i class="fas fa-fax" style="color: #64748b; width: 16px;"></i>
                                        <span style="font-size: 13px;">${location.fax || 'N/A'}</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Office Hours -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Office Hours</label>
                                <div style="background: #f0f9ff; padding: 12px; border-radius: 5px; border: 1px solid #bae6fd;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <div style="font-size: 13px; color: #0369a1;">Start Time</div>
                                        <div style="font-size: 14px; font-weight: 600; color: var(--dark);">${startTime}</div>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <div style="font-size: 13px; color: #0369a1;">End Time</div>
                                        <div style="font-size: 14px; font-weight: 600; color: var(--dark);">${endTime}</div>
                                    </div>
                                    <div style="display: flex; justify-content: space-between;">
                                        <div style="font-size: 13px; color: #0369a1;">Break Hours</div>
                                        <div style="font-size: 14px; font-weight: 600; color: var(--dark);">${location.break_hours || 0} hours</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Staff Code Prefix -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Staff Code Prefix</label>
                                <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center; justify-content: center;">
                                    ${location.staff_code_prefix ?
                                `<span style="font-family: 'Courier New', monospace; font-weight: 700; font-size: 16px; color: #7c3aed;">${location.staff_code_prefix}</span>` :
                                '<span style="color: #94a3b8; font-style: italic;">Not set</span>'}
                                </div>
                            </div>
                            
                            <!-- Status -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Status</label>
                                <div>
                                    ${location.is_active ?
                                `<span style="background: #d1fae5; color: #065f46; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                                            <i class="fas fa-check-circle"></i> Active
                                        </span>` :
                                `<span style="background: #fef2f2; color: #dc2626; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                                            <i class="fas fa-times-circle"></i> Inactive
                                        </span>`
                            }
                                    <div style="font-size: 11px; color: #64748b; margin-top: 4px;">
                                        Grace Period: ${location.grace_period_minutes || 0} minutes
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Created Date Section -->
                <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid #e2e8f0;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div>
                            <div style="color: #6b7280; font-size: 11px; margin-bottom: 4px;">Created At</div>
                            <div style="font-size: 12px; font-weight: 500;">
                                ${createdDate}
                            </div>
                        </div>
                        <div>
                            <div style="color: #6b7280; font-size: 11px; margin-bottom: 4px;">Last Updated</div>
                            <div style="font-size: 12px; font-weight: 500;">
                                ${location.updated_at ?
                                new Date(location.updated_at).toLocaleDateString('en-GB', {
                                    day: '2-digit',
                                    month: 'short',
                                    year: 'numeric',
                                    hour: '2-digit',
                                    minute: '2-digit'
                                }) :
                                'N/A'
                            }
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `;

                        // Update page content using your system
                        const pageContent = document.getElementById('page-content');
                        if (pageContent) {
                            pageContent.innerHTML = viewPageHTML;

                            // Add event listeners
                            setTimeout(() => {
                                // Back button
                                const backBtn = document.querySelector('.location-view-back-btn');
                                if (backBtn) {
                                    backBtn.addEventListener('click', () => {
                                        updatePageContent('locations');

                                        // Reload locations list after a short delay
                                        setTimeout(() => {
                                            if (window.locationsManager && window.locationsManager.loadLocations) {
                                                console.log('ðŸ”„ Reloading locations list from view page...');
                                                window.locationsManager.loadLocations();
                                            }
                                        }, 500);
                                    });
                                }

                                // Edit button
                                const editBtn = document.querySelector('.edit-location-from-view-btn');
                                if (editBtn) {
                                    editBtn.addEventListener('click', () => {
                                        // Call the editLocation method from LocationsListManager
                                        if (window.locationsManager && window.locationsManager.editLocation) {
                                            window.locationsManager.editLocation(location.location_id);
                                        } else {
                                            // Fallback: Navigate to edit page
                                            sessionStorage.setItem('editLocationId', location.location_id);
                                            updatePageContent('location-edit');
                                        }
                                    });
                                }

                            }, 100);
                        } else {
                            console.error('âŒ Page content element not found!');
                            // Fallback to alert
                            alert('View page loaded. Page content element not found.');
                        }
                    }

                    async editLocation(locId) {
                        console.log('âœï¸ Edit location:', locId);

                        try {
                            showStatusMessage('Loading location details...', 'info');

                            const response = await fetch(`${this.baseURL}/locations/${locId}`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.showLocationEditForm(result.data);
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('Edit error:', error);
                            showStatusMessage(`âŒ Failed to load location: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Show location edit form
                    showLocationEditForm(location) {
                        console.log('ðŸŽ¯ Showing location edit form for:', location.location_code);

                        // Format times for input fields
                        const startTime = location.office_start_time ?
                            location.office_start_time.substring(0, 5) : '09:00';
                        const endTime = location.office_end_time ?
                            location.office_end_time.substring(0, 5) : '18:00';

                        const editFormHTML = `
        <div class="location-edit-form">
            <!-- Header Actions -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary update-location-btn" 
                            data-location-id="${location.location_id}"
                            style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Update Location
                    </button>
                    <button class="btn btn-primary location-edit-back-btn" 
                            style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back to List
                    </button>
                </div>
                <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                    <i class="fas fa-edit"></i> Editing Location: ${location.location_code}
                </div>
            </div>

            <!-- MAIN FORM CONTENT -->
            <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Location Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Location Code*
                                </label>
                                <input type="text" id="edit-location-code" value="${location.location_code || ''}" 
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px;" readonly>
                                <div style="font-size: 10px; color: #64748b; margin-top: 4px;">(Code cannot be changed)</div>
                            </div>
                            
                            <!-- Location Name -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Location Name*
                                </label>
                                <input type="text" id="edit-location-name" value="${location.location_name || ''}" 
                                       placeholder="Enter location name"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                            </div>
                            
                            <!-- Address -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Address
                                </label>
                                <textarea id="edit-location-address" 
                                          placeholder="Enter full address"
                                          style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; min-height: 80px; resize: vertical;">${location.address || ''}</textarea>
                            </div>
                            
                            <!-- City & Country -->
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        City
                                    </label>
                                    <input type="text" id="edit-location-city" value="${location.city || 'Singapore'}"
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                </div>
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Country
                                    </label>
                                    <select id="edit-location-country" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                        <option value="Singapore" ${location.country === 'Singapore' ? 'selected' : ''}>Singapore</option>
                                        <option value="Malaysia" ${location.country === 'Malaysia' ? 'selected' : ''}>Malaysia</option>
                                        <option value="India" ${location.country === 'India' ? 'selected' : ''}>India</option>
                                        <option value="USA" ${location.country === 'USA' ? 'selected' : ''}>USA</option>
                                        <option value="UK" ${location.country === 'UK' ? 'selected' : ''}>UK</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Postal Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Postal Code
                                </label>
                                <input type="text" id="edit-location-postal" value="${location.postal_code || ''}"
                                       placeholder="e.g., 123456"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                            </div>
                            
                            <!-- Contact -->
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Telephone
                                    </label>
                                    <input type="tel" id="edit-location-telephone" value="${location.telephone || ''}"
                                           placeholder="+65 6123 4567"
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                </div>
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Fax
                                    </label>
                                    <input type="tel" id="edit-location-fax" value="${location.fax || ''}"
                                           placeholder="+65 6123 4568"
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Admin Name -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Admin Name
                                </label>
                                <input type="text" id="edit-location-admin" value="${location.admin_name || ''}"
                                       placeholder="e.g., John Doe"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                            </div>
                            
                            <!-- Sort Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Sort Code*
                                </label>
                                <input type="number" id="edit-location-sort-code" value="${location.sort_code || ''}"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px; text-align: right;">
                                <div style="font-size: 10px; color: #64748b; margin-top: 4px;">Used for ordering locations</div>
                            </div>
                            
                            <!-- Staff Code Prefix -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Staff Code Prefix
                                </label>
                                <input type="text" id="edit-location-staff-prefix" value="${location.staff_code_prefix || ''}"
                                       placeholder="e.g., HQ, WH, BR"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px; text-transform: uppercase;">
                            </div>
                            
                            <!-- Office Hours -->
                            <div style="background: #f0f9ff; padding: 15px; border-radius: 5px; border: 1px solid #bae6fd;">
                                <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 13px; font-weight: 600;">Office Hours</h4>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                            Start Time*
                                        </label>
                                        <input type="time" id="edit-location-start-time" value="${startTime}"
                                               style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                    </div>
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                            End Time*
                                        </label>
                                        <input type="time" id="edit-location-end-time" value="${endTime}"
                                               style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                    </div>
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 10px;">
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                            Break Hours*
                                        </label>
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <input type="number" id="edit-location-break-hours" value="${location.break_hours || 1.00}" 
                                                   step="0.25" min="0" max="4"
                                                   style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px; text-align: right;">
                                            <span style="color: #64748b; font-size: 12px;">hours</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                            Grace Period
                                        </label>
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <input type="number" id="edit-location-grace-period" value="${location.grace_period_minutes || 15}" 
                                                   min="0" max="120"
                                                   style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px; text-align: right;">
                                            <span style="color: #64748b; font-size: 12px;">minutes</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Active Status -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Active Status
                                </label>
                                <div style="display: flex; align-items: center; gap: 15px;">
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="radio" name="edit-location-active" value="1" ${location.is_active ? 'checked' : ''} style="accent-color: var(--primary);">
                                        <span style="font-size: 13px;">Active</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="radio" name="edit-location-active" value="0" ${!location.is_active ? 'checked' : ''} style="accent-color: var(--primary);">
                                        <span style="font-size: 13px;">Inactive</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `;

                        // Update page content
                        const pageContent = document.getElementById('page-content');
                        if (pageContent) {
                            pageContent.innerHTML = editFormHTML;

                            // Add event listeners
                            setTimeout(() => {
                                // Back button
                                const backBtn = document.querySelector('.location-edit-back-btn');
                                if (backBtn) {
                                    backBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        console.log('ðŸ”™ Back button clicked from edit form');

                                        // Go back to locations list
                                        updatePageContent('locations');

                                        // IMPORTANT: Force reload locations with a slight delay
                                        setTimeout(() => {
                                            console.log('ðŸ”„ Reloading locations list...');
                                            if (window.locationsManager && window.locationsManager.loadLocations) {
                                                window.locationsManager.loadLocations();
                                            }
                                        }, 300);
                                    });
                                }

                                // Update button
                                const updateBtn = document.querySelector('.update-location-btn');
                                if (updateBtn) {
                                    updateBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        this.updateLocation(location.location_id);
                                    });
                                }

                            }, 100);

                            showStatusMessage('âœ… Location loaded for editing', 'success');
                        } else {
                            console.error('âŒ Page content element not found!');
                            alert('Edit form loaded. Page content element not found.');
                        }
                    }
                    // âœ… Update location function
                    async updateLocation(locId) {
                        console.log('ðŸ’¾ Updating location:', locId);

                        const updateBtn = document.querySelector('.update-location-btn');
                        if (updateBtn) {
                            updateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Updating...';
                            updateBtn.disabled = true;
                        }

                        try {
                            // Collect form data
                            const updateData = {
                                location_name: document.getElementById('edit-location-name').value.trim(),
                                address: document.getElementById('edit-location-address').value.trim(),
                                city: document.getElementById('edit-location-city').value.trim() || 'Singapore',
                                country: document.getElementById('edit-location-country').value,
                                postal_code: document.getElementById('edit-location-postal').value.trim(),
                                telephone: document.getElementById('edit-location-telephone').value.trim(),
                                fax: document.getElementById('edit-location-fax').value.trim(),
                                admin_name: document.getElementById('edit-location-admin').value.trim(),
                                sort_code: parseInt(document.getElementById('edit-location-sort-code').value),
                                staff_code_prefix: document.getElementById('edit-location-staff-prefix').value.trim(),
                                office_start_time: document.getElementById('edit-location-start-time').value + ':00',
                                office_end_time: document.getElementById('edit-location-end-time').value + ':00',
                                break_hours: parseFloat(document.getElementById('edit-location-break-hours').value) || 1.00,
                                grace_period_minutes: parseInt(document.getElementById('edit-location-grace-period').value) || 15,
                                is_active: document.querySelector('input[name="edit-location-active"]:checked').value === '1'
                            };

                            console.log('ðŸ“¤ Update data:', updateData);

                            // Validation
                            const errors = [];

                            if (!updateData.location_name) {
                                errors.push('Location name is required');
                                document.getElementById('edit-location-name').style.borderColor = '#ef4444';
                            }

                            if (!updateData.sort_code || updateData.sort_code < 1) {
                                errors.push('Valid sort code is required');
                                document.getElementById('edit-location-sort-code').style.borderColor = '#ef4444';
                            }

                            if (errors.length > 0) {
                                showStatusMessage('âŒ ' + errors.join(', '), 'error');

                                if (updateBtn) {
                                    updateBtn.innerHTML = '<i class="fas fa-save"></i> Update Location';
                                    updateBtn.disabled = false;
                                }
                                return;
                            }

                            console.log('ðŸ“¤ Sending location update:', updateData);

                            // Send PUT request
                            const response = await fetch(`${this.baseURL}/locations/${locId}`, {
                                method: 'PUT',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify(updateData)
                            });

                            const result = await response.json();

                            if (!response.ok) {
                                throw new Error(result.error || `HTTP ${response.status}`);
                            }

                            if (result.success) {
                                showStatusMessage('âœ… Location updated successfully!', 'success');

                                // Go back to locations list and reload
                                updatePageContent('locations');

                                setTimeout(() => {
                                    if (window.locationsManager && window.locationsManager.loadLocations) {
                                        console.log('ðŸ”„ Reloading locations list after update...');
                                        window.locationsManager.loadLocations();
                                    }
                                }, 300);

                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('âŒ Update error:', error);
                            showStatusMessage(`âŒ Update failed: ${error.message}`, 'error');

                            if (updateBtn) {
                                updateBtn.innerHTML = '<i class="fas fa-save"></i> Update Location';
                                updateBtn.disabled = false;
                            }
                        }
                    }
                    // âœ… Delete location with confirmation
                    async deleteLocation(locId, locCode, locName) {
                        if (!confirm(`ðŸ—‘ï¸ Delete location "${locName}" (${locCode})?\n\nThis action cannot be undone!`)) {
                            return;
                        }

                        try {
                            console.log('ðŸ—‘ï¸ Deleting location:', locId);

                            const response = await fetch(`${this.baseURL}/locations/${locId}`, {
                                method: 'DELETE'
                            });

                            if (!response.ok) {
                                const errorText = await response.text();
                                throw new Error(`Server error ${response.status}: ${errorText.substring(0, 100)}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                showStatusMessage(`âœ… Location "${locName}" deleted successfully!`, 'success');
                                this.loadLocations(); // Refresh list
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('âŒ Delete error:', error);
                            showStatusMessage(`Delete failed: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Update pagination info
                    updatePagination(pagination) {
                        this.totalPages = pagination.totalPages;

                        const infoDiv = document.querySelector('.pagination-info');
                        if (infoDiv && pagination) {
                            const start = ((this.currentPage - 1) * this.pageSize) + 1;
                            const end = Math.min(this.currentPage * this.pageSize, pagination.total);

                            infoDiv.textContent = `Showing ${start} to ${end} of ${pagination.total} entries`;
                        }

                        // Update page buttons
                        this.updatePageButtons();
                    }

                    // âœ… Update page buttons state
                    updatePageButtons() {
                        const prevBtn = document.querySelector('.pagination-controls button:first-child');
                        const nextBtn = document.querySelector('.pagination-controls button:last-child');
                        const currentBtn = document.querySelector('.pagination-controls .btn-primary');

                        if (prevBtn) {
                            prevBtn.disabled = this.currentPage === 1;
                            prevBtn.style.opacity = this.currentPage === 1 ? '0.5' : '1';
                            prevBtn.style.cursor = this.currentPage === 1 ? 'not-allowed' : 'pointer';
                        }

                        if (nextBtn) {
                            nextBtn.disabled = this.currentPage >= this.totalPages;
                            nextBtn.style.opacity = this.currentPage >= this.totalPages ? '0.5' : '1';
                            nextBtn.style.cursor = this.currentPage >= this.totalPages ? 'not-allowed' : 'pointer';
                        }

                        // Update current page button
                        if (currentBtn) {
                            currentBtn.textContent = this.currentPage;
                        }
                    }

                    // âœ… Update table info
                    updateTableInfo(currentCount, total) {
                        // You can add additional info display here
                        console.log(`ðŸ“Š Displaying ${currentCount} of ${total} locations`);
                    }

                    // âœ… Show error message
                    showError(message) {
                        const tbody = document.querySelector('.locations-table tbody');
                        if (tbody) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="5" style="text-align: center; padding: 40px; color: #ef4444;">
                        <i class="fas fa-exclamation-triangle"></i>
                        <p style="margin-top: 10px;">${message}</p>
                        <button onclick="window.location.reload()" 
                                style="margin-top: 10px; padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            Retry
                        </button>
                    </td>
                </tr>
            `;
                        }
                    }
                }

                // âœ… Initialize locations list page
                function initLocationsList() {
                    const isLocationsPage = document.querySelector('.locations-management') ||
                        window.location.hash === '#locations';

                    if (isLocationsPage) {
                        console.log('ðŸ“ Locations management page detected');

                        // Create manager instance
                        window.locationsManager = new LocationsListManager();

                        // Setup event listeners
                        setTimeout(() => {
                            // Add Location button
                            const addBtn = document.querySelector('.locations-create-btn');
                            if (addBtn) {
                                addBtn.addEventListener('click', (e) => {
                                    e.preventDefault();
                                    sessionStorage.removeItem('editLocationId'); // Clear edit mode
                                    updatePageContent('locations-create');
                                });
                            }

                            // Fetch button
                            const fetchBtn = document.querySelector('.filters-section .btn-primary');
                            if (fetchBtn) {
                                fetchBtn.addEventListener('click', () => {
                                    window.locationsManager.currentPage = 1;
                                    window.locationsManager.loadLocations();
                                });
                            }

                            // Clear button
                            const clearBtn = document.querySelector('.filters-section .btn-outline:nth-child(2)');
                            if (clearBtn) {
                                clearBtn.addEventListener('click', () => {
                                    const searchInput = document.querySelector('.filters-section input');
                                    const statusSelect = document.querySelector('.filters-section select');

                                    if (searchInput) searchInput.value = '';
                                    if (statusSelect) statusSelect.value = 'Active Locations';

                                    window.locationsManager.currentPage = 1;
                                    window.locationsManager.loadLocations();
                                });
                            }

                            // Search input (on Enter key)
                            const searchInput = document.querySelector('.filters-section input');
                            if (searchInput) {
                                searchInput.addEventListener('keyup', (e) => {
                                    if (e.key === 'Enter') {
                                        window.locationsManager.currentPage = 1;
                                        window.locationsManager.loadLocations();
                                    }
                                });
                            }

                            // Status select change
                            const statusSelect = document.querySelector('.filters-section select');
                            if (statusSelect) {
                                statusSelect.addEventListener('change', () => {
                                    window.locationsManager.currentPage = 1;
                                    window.locationsManager.loadLocations();
                                });
                            }

                            // Page size select
                            const pageSizeSelect = document.querySelector('.pagination select');
                            if (pageSizeSelect) {
                                pageSizeSelect.addEventListener('change', (e) => {
                                    window.locationsManager.pageSize = parseInt(e.target.value);
                                    window.locationsManager.currentPage = 1;
                                    window.locationsManager.loadLocations();
                                });
                            }

                            // Previous button
                            const prevBtn = document.querySelector('.pagination-controls button:first-child');
                            if (prevBtn) {
                                prevBtn.addEventListener('click', () => {
                                    if (window.locationsManager.currentPage > 1) {
                                        window.locationsManager.currentPage--;
                                        window.locationsManager.loadLocations();
                                    }
                                });
                            }

                            // Next button
                            const nextBtn = document.querySelector('.pagination-controls button:last-child');
                            if (nextBtn) {
                                nextBtn.addEventListener('click', () => {
                                    if (window.locationsManager.currentPage < window.locationsManager.totalPages) {
                                        window.locationsManager.currentPage++;
                                        window.locationsManager.loadLocations();
                                    }
                                });
                            }

                            // Refresh button (sync icon)
                            const refreshBtn = document.querySelector('.action-buttons .btn-outline:first-child');
                            if (refreshBtn) {
                                refreshBtn.addEventListener('click', () => {
                                    window.locationsManager.loadLocations();
                                    showStatusMessage('ðŸ”„ Locations list refreshed', 'info');
                                });
                            }

                            // Load initial data
                            window.locationsManager.loadLocations();

                        }, 300);
                    }
                }

                // âœ… Call on page load
                document.addEventListener('DOMContentLoaded', function () {
                    setTimeout(initLocationsList, 500);
                });

                // âœ… Call on hash change
                window.addEventListener('hashchange', function () {
                    setTimeout(initLocationsList, 300);
                });
                // ============= DEPARTMENT LIST MANAGER =============
                class DepartmentListManager {
                    constructor() {
                        this.baseURL = 'http://localhost:5000/api';
                        this.currentPage = 1;
                        this.pageSize = 20;
                        this.searchTerm = '';
                        this.statusFilter = 'all';
                        console.log('ðŸ¢ DepartmentListManager initialized');
                    }

                    // âœ… Load departments data
                    async loadDepartments() {
                        console.log('ðŸ“¥ Loading departments...');

                        try {
                            const searchInput = document.querySelector('.filters-section input[placeholder*="Search"]');
                            const statusSelect = document.querySelector('.filters-section select');

                            this.searchTerm = searchInput ? searchInput.value : '';
                            this.statusFilter = statusSelect ? statusSelect.value : 'Active Departments';

                            // Convert status filter to API format
                            let statusParam = 'all';
                            if (this.statusFilter.includes('Active')) statusParam = 'active';
                            if (this.statusFilter.includes('Inactive')) statusParam = 'inactive';

                            const url = `${this.baseURL}/department?page=${this.currentPage}&limit=${this.pageSize}&search=${encodeURIComponent(this.searchTerm)}&status=${statusParam}`;
                            console.log('ðŸŒ Fetching departments:', url);

                            const response = await fetch(url);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.renderDepartments(result.data);
                                this.updatePagination(result.pagination);
                                this.updateTableInfo(result.data.length, result.pagination.total);
                            } else {
                                throw new Error(result.error || 'API failed');
                            }

                        } catch (error) {
                            console.error('âŒ Load error:', error);
                            this.showError(`Failed to load departments: ${error.message}`);
                        }
                    }

                    // âœ… Render departments in table
                    renderDepartments(departments) {
                        const tbody = document.querySelector('.departments-table tbody');
                        if (!tbody) {
                            console.error('âŒ Table body not found!');
                            return;
                        }

                        if (departments.length === 0) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="6" style="text-align: center; padding: 40px; color: #64748b;">
                        <i class="fas fa-building" style="font-size: 24px; opacity: 0.5;"></i>
                        <p style="margin-top: 10px;">No departments found.</p>
                        <button class="department-create-btn" 
                                style="margin-top: 10px; padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: inline-flex; align-items: center; gap: 5px;">
                            <i class="fas fa-plus"></i> Add First Department
                        </button>
                    </td>
                </tr>
            `;

                            // Add event listener to the button
                            setTimeout(() => {
                                const addBtn = tbody.querySelector('.department-create-btn');
                                if (addBtn) {
                                    addBtn.addEventListener('click', () => updatePageContent('department-create'));
                                }
                            }, 100);

                            return;
                        }

                        tbody.innerHTML = '';

                        departments.forEach(dept => {
                            const row = document.createElement('tr');

                            // Format date
                            const createdDate = dept.created_at
                                ? new Date(dept.created_at).toLocaleDateString('en-GB', {
                                    day: '2-digit',
                                    month: 'short',
                                    year: 'numeric'
                                })
                                : 'N/A';

                            row.innerHTML = `
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; font-weight: 600; color: var(--dark);">
                    <div style="color: #2563eb; font-weight: 600;">${dept.department_code || '-'}</div>
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;">
                    <div style="font-weight: 500; color: var(--dark);">${dept.department_name || '-'}</div>
                    <div style="font-size: 11px; color: #64748b; margin-top: 2px;">
                        <i class="far fa-clock"></i> ${dept.office_start_time ? dept.office_start_time.substring(0, 5) : '09:00'} - ${dept.office_end_time ? dept.office_end_time.substring(0, 5) : '18:00'}
                    </div>
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;">
                    ${dept.is_active ?
                                    `<span style="background: #d1fae5; color: #065f46; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; display: inline-block;">
                            <i class="fas fa-check-circle" style="margin-right: 4px;"></i> Active
                        </span>` :
                                    `<span style="background: #fef2f2; color: #dc2626; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; display: inline-block;">
                            <i class="fas fa-times-circle" style="margin-right: 4px;"></i> Inactive
                        </span>`
                                }
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                    <span style="font-weight: 700; color: #059669; font-size: 14px;">${dept.sort_code || '0'}</span>
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; color: #64748b; font-size: 13px;">
                    ${createdDate}
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                    <div style="display: flex; gap: 8px; justify-content: center;">
                        <!-- ðŸ‘ï¸ VIEW BUTTON -->
                        <button class="view-department-btn" 
                                data-id="${dept.department_id}"
                                data-code="${dept.department_code}"
                                data-name="${dept.department_name}"
                                style="background: none; border: none; cursor: pointer; color: #10b981; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#d1fae5'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="View Details">
                            <i class="fas fa-eye" style="font-size: 14px;"></i>
                        </button>
                        
                        <!-- âœï¸ EDIT BUTTON -->
                        <button class="edit-department-btn" 
                                data-id="${dept.department_id}"
                                data-code="${dept.department_code}"
                                data-name="${dept.department_name}"
                                style="background: none; border: none; cursor: pointer; color: #2563eb; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#dbeafe'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Edit">
                            <i class="fas fa-edit" style="font-size: 14px;"></i>
                        </button>
                        
                        <!-- ðŸ—‘ï¸ DELETE BUTTON -->
                        <button class="delete-department-btn" 
                                data-id="${dept.department_id}"
                                data-code="${dept.department_code}"
                                data-name="${dept.department_name}"
                                style="background: none; border: none; cursor: pointer; color: #ef4444; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#fee2e2'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Delete">
                            <i class="fas fa-trash" style="font-size: 14px;"></i>
                        </button>
                    </div>
                </td>
            `;

                            tbody.appendChild(row);
                        });

                        // Add event listeners to buttons
                        this.setupRowButtons();
                    }

                    // âœ… Setup button event listeners
                    setupRowButtons() {
                        // ðŸ‘ï¸ View buttons
                        document.querySelectorAll('.view-department-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const deptId = btn.dataset.id;
                                const deptName = btn.dataset.name;
                                console.log('ðŸ‘ï¸ View department:', deptId, deptName);

                                // If departmentsManager exists, use its method
                                if (window.departmentsManager && window.departmentsManager.viewDepartment) {
                                    window.departmentsManager.viewDepartment(deptId);
                                } else {
                                    // Fallback
                                    viewDepartment(deptId);
                                }
                            });
                        });

                        // âœï¸ Edit buttons
                        document.querySelectorAll('.edit-department-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const deptId = btn.dataset.id;
                                const deptName = btn.dataset.name;
                                console.log('âœï¸ Edit department:', deptId, deptName);
                                this.editDepartment(deptId);
                            });
                        });

                        // ðŸ—‘ï¸ Delete buttons
                        document.querySelectorAll('.delete-department-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const deptId = btn.dataset.id;
                                const deptCode = btn.dataset.code;
                                const deptName = btn.dataset.name;
                                this.deleteDepartment(deptId, deptCode, deptName);
                            });
                        });
                    }

                    // âœ… View department details
                    // ============= DEPARTMENT VIEW PAGE =============

                    // âœ… View department details - Complete UI like your project example
                    async viewDepartment(deptId) {
                        console.log('ðŸ” Viewing department:', deptId);

                        try {
                            showStatusMessage('Loading department details...', 'info');

                            const response = await fetch(`${this.baseURL}/department/${deptId}`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.showDepartmentViewForm(result.data);  // Call the new method
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('View error:', error);
                            showStatusMessage(`âŒ Failed to load: ${error.message}`, 'error');
                        }
                    }
                    // âœ… Show department view as full page (Project view style)
                    showDepartmentViewForm(department) {
                        console.log('ðŸŽ¯ Showing department view:', department.department_code);

                        // Format times
                        const startTime = department.office_start_time ?
                            department.office_start_time.substring(0, 5) : '09:00';
                        const endTime = department.office_end_time ?
                            department.office_end_time.substring(0, 5) : '18:00';

                        const viewFormHTML = `
        <div class="department-view-form">
            <!-- Header Actions -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary edit-department-from-view-btn" 
                            data-id="${department.department_id}"
                            style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-edit"></i> Edit Department
                    </button>
                    <button class="btn btn-primary department-view-back-btn" 
                            style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back to List
                    </button>
                </div>
                <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                    <i class="fas fa-eye"></i> Viewing Department: ${department.department_code}
                </div>
            </div>

            <!-- Main Form Section -->
            <div class="form-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Department Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Code</label>
                                <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                    <span style="font-family: 'Courier New', monospace; font-weight: 600; color: #2563eb;">${department.department_code || 'Not provided'}</span>
                                </div>
                            </div>
                            
                            <!-- Department Name -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Name</label>
                                <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                    ${department.department_name || 'Not provided'}
                                </div>
                            </div>
                            
                            <!-- Sort Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Sort Code</label>
                                <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center; justify-content: center;">
                                    <span style="font-size: 16px; font-weight: 700; color: #059669;">${department.sort_code || '0'}</span>
                                </div>
                            </div>
                            
                            <!-- Office Hours Section -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Office Hours</label>
                                <div style="background: #f0f9ff; padding: 12px; border-radius: 5px; border: 1px solid #bae6fd;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <div style="font-size: 13px; color: #0369a1;">Start Time</div>
                                        <div style="font-size: 14px; font-weight: 600; color: var(--dark);">${startTime}</div>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <div style="font-size: 13px; color: #0369a1;">End Time</div>
                                        <div style="font-size: 14px; font-weight: 600; color: var(--dark);">${endTime}</div>
                                    </div>
                                    <div style="display: flex; justify-content: space-between;">
                                        <div style="font-size: 13px; color: #0369a1;">Total Hours</div>
                                        <div style="font-size: 14px; font-weight: 600; color: var(--dark);">
                                            ${(() => {
                                const start = new Date(`2000-01-01T${department.office_start_time}`);
                                const end = new Date(`2000-01-01T${department.office_end_time}`);
                                const diff = (end - start) / (1000 * 60 * 60);
                                return diff.toFixed(2) + ' hours';
                            })()}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Status -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Status</label>
                                <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center; gap: 10px;">
                                    ${department.is_active ?
                                '<span style="background: #d1fae5; color: #059669; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;"><i class="fas fa-check-circle"></i> Active</span>' :
                                '<span style="background: #fee2e2; color: #dc2626; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;"><i class="fas fa-times-circle"></i> Inactive</span>'}
                                </div>
                            </div>
                            
                            <!-- Grace Periods Section -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Grace Periods (minutes)</label>
                                <div style="background: #fef3f7; padding: 12px; border-radius: 5px; border: 1px solid #fecdd3;">
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                                        <div>
                                            <div style="font-size: 11px; color: #9f1239;">Grace In Before</div>
                                            <div style="font-size: 14px; font-weight: 600; color: #be123c;">${department.grace_in_before_mins || 0} min</div>
                                        </div>
                                        <div>
                                            <div style="font-size: 11px; color: #9f1239;">Grace In After</div>
                                            <div style="font-size: 14px; font-weight: 600; color: #be123c;">${department.grace_in_after_mins || 0} min</div>
                                        </div>
                                        <div>
                                            <div style="font-size: 11px; color: #9f1239;">Grace Out Before</div>
                                            <div style="font-size: 14px; font-weight: 600; color: #be123c;">${department.grace_out_before_mins || 0} min</div>
                                        </div>
                                        <div>
                                            <div style="font-size: 11px; color: #9f1239;">Grace Out After</div>
                                            <div style="font-size: 14px; font-weight: 600; color: #be123c;">${department.grace_out_after_mins || 0} min</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Grace Periods Calculation -->
                            <div style="background: #fefce8; padding: 10px; border-radius: 5px; border: 1px solid #fde047;">
                                <div style="font-size: 11px; color: #854d0e; line-height: 1.4;">
                                    <i class="fas fa-info-circle" style="margin-right: 5px;"></i>
                                    Employees can clock in <strong>${department.grace_in_before_mins || 0} min before</strong> and 
                                    <strong>${department.grace_in_after_mins || 0} min after</strong> start time.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Grace Periods Explanation -->
                <div style="margin-top: 20px; padding: 15px; background: #f8fafc; border-radius: 8px; border: 1px solid #e2e8f0;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                        <i class="fas fa-user-clock" style="color: #0369a1;"></i>
                        <span style="font-weight: 600; color: #0369a1; font-size: 12px;">Grace Periods Explanation</span>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; font-size: 12px; color: #4b5563;">
                        <div>
                            <div style="font-weight: 600; margin-bottom: 4px;">Grace In Before (${department.grace_in_before_mins || 0} min)</div>
                            <div style="line-height: 1.5;">Employees can clock in early without being marked as early arrival.</div>
                        </div>
                        <div>
                            <div style="font-weight: 600; margin-bottom: 4px;">Grace In After (${department.grace_in_after_mins || 0} min)</div>
                            <div style="line-height: 1.5;">Employees can clock in late without being marked as late arrival.</div>
                        </div>
                        <div>
                            <div style="font-weight: 600; margin-bottom: 4px;">Grace Out Before (${department.grace_out_before_mins || 0} min)</div>
                            <div style="line-height: 1.5;">Employees can clock out early without being marked as early departure.</div>
                        </div>
                        <div>
                            <div style="font-weight: 600; margin-bottom: 4px;">Grace Out After (${department.grace_out_after_mins || 0} min)</div>
                            <div style="line-height: 1.5;">Employees can clock out late without being marked as overtime.</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Audit Information -->
            <div style="margin-top: 20px; padding: 15px; background: #f8fafc; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div>
                        <div style="color: #6b7280; font-size: 11px; margin-bottom: 4px;">Created At</div>
                        <div style="font-size: 12px; font-weight: 500;">
                            ${department.created_at ? new Date(department.created_at).toLocaleDateString('en-GB', {
                                    day: '2-digit',
                                    month: 'short',
                                    year: 'numeric',
                                    hour: '2-digit',
                                    minute: '2-digit'
                                }) : 'N/A'}
                        </div>
                    </div>
                    <div>
                        <div style="color: #6b7280; font-size: 11px; margin-bottom: 4px;">Last Updated</div>
                        <div style="font-size: 12px; font-weight: 500;">
                            ${department.updated_at ? new Date(department.updated_at).toLocaleDateString('en-GB', {
                                    day: '2-digit',
                                    month: 'short',
                                    year: 'numeric',
                                    hour: '2-digit',
                                    minute: '2-digit'
                                }) : 'N/A'}
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `;

                        // Update page content
                        const pageContent = document.getElementById('page-content');
                        if (pageContent) {
                            pageContent.innerHTML = viewFormHTML;

                            // Add event listeners
                            setTimeout(() => {
                                // Back button
                                const backBtn = document.querySelector('.department-view-back-btn');
                                if (backBtn) {
                                    backBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        updatePageContent('departments');

                                        // Reload departments list
                                        setTimeout(() => {
                                            if (window.departmentsManager && window.departmentsManager.loadDepartments) {
                                                console.log('ðŸ”„ Reloading departments list from view form...');
                                                window.departmentsManager.loadDepartments();
                                            }
                                        }, 500);
                                    });
                                }

                                // Edit button
                                const editBtn = document.querySelector('.edit-department-from-view-btn');
                                if (editBtn) {
                                    editBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        this.editDepartment(department.department_id);
                                    });
                                }

                            }, 100);

                            showStatusMessage(`âœ… Department "${department.department_name}" loaded`, 'success');
                        } else {
                            console.error('âŒ Page content element not found!');
                            showStatusMessage('âŒ Page content element not found!', 'error');
                        }
                    }
                    // ============= DEPARTMENT EDIT FORM =============

                    // âœ… Edit department function (UOM pattern)
                    async editDepartment(deptId) {
                        console.log('âœï¸ Edit department:', deptId);

                        try {
                            showStatusMessage('Loading department details...', 'info');

                            const response = await fetch(`${this.baseURL}/department/${deptId}`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.showDepartmentEditForm(result.data);
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('Edit error:', error);
                            showStatusMessage(`âŒ Failed to load department: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Show department edit form (UOM design pattern)
                    showDepartmentEditForm(department) {
                        console.log('ðŸŽ¯ Showing department edit form for:', department.department_code);

                        // Format times for input fields
                        const startTime = department.office_start_time ?
                            department.office_start_time.substring(0, 5) : '09:00';
                        const endTime = department.office_end_time ?
                            department.office_end_time.substring(0, 5) : '18:00';

                        const editFormHTML = `
        <div class="department-edit-form">
            <!-- Header Actions -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary update-department-btn" 
                            data-department-id="${department.department_id}"
                            style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Update Department
                    </button>
                    <button class="btn btn-primary department-edit-back-btn" 
                            style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back to List
                    </button>
                </div>
                <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                    <i class="fas fa-edit"></i> Editing Department: ${department.department_code}
                </div>
            </div>

            <!-- MAIN FORM CONTENT -->
            <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Department Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Code
                                </label>
                                <input type="text" id="edit-department-code" value="${department.department_code || ''}" 
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px;" readonly>
                                <div style="font-size: 10px; color: #64748b; margin-top: 4px;">(Code cannot be changed)</div>
                            </div>
                            
                            <!-- Department Name -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Name*
                                </label>
                                <input type="text" id="edit-department-name" value="${department.department_name || ''}" 
                                       placeholder="Enter department name"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                            </div>
                            
                            <!-- Sort Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Sort Code*
                                </label>
                                <input type="number" id="edit-department-sort-code" value="${department.sort_code || ''}"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px; text-align: right;">
                                <div style="font-size: 10px; color: #64748b; margin-top: 4px;">Used for ordering departments</div>
                            </div>
                            
                            <!-- Active Status -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Active Status
                                </label>
                                <div style="display: flex; align-items: center; gap: 15px;">
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="radio" name="edit-department-active" value="1" ${department.is_active ? 'checked' : ''} style="accent-color: var(--primary);">
                                        <span style="font-size: 13px;">Active</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="radio" name="edit-department-active" value="0" ${!department.is_active ? 'checked' : ''} style="accent-color: var(--primary);">
                                        <span style="font-size: 13px;">Inactive</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Office Hours Section -->
                            <div style="background: #f0f9ff; padding: 15px; border-radius: 5px; border: 1px solid #bae6fd;">
                                <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 13px; font-weight: 600;">Office Hours</h4>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                            Start Time*
                                        </label>
                                        <input type="time" id="edit-department-start-time" value="${startTime}"
                                               style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                    </div>
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                            End Time*
                                        </label>
                                        <input type="time" id="edit-department-end-time" value="${endTime}"
                                               style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Grace Periods Section -->
                            <div style="background: #fef3f7; padding: 15px; border-radius: 5px; border: 1px solid #fecdd3;">
                                <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 13px; font-weight: 600;">Grace Periods (minutes)</h4>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 4px; font-weight: 600; color: var(--dark); font-size: 11px;">
                                            Grace In Before
                                        </label>
                                        <input type="number" id="edit-department-grace-in-before" value="${department.grace_in_before_mins || 0}" 
                                               min="0" max="120"
                                               style="width: 100%; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 12px; height: 32px; text-align: right;">
                                    </div>
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 4px; font-weight: 600; color: var(--dark); font-size: 11px;">
                                            Grace In After
                                        </label>
                                        <input type="number" id="edit-department-grace-in-after" value="${department.grace_in_after_mins || 0}" 
                                               min="0" max="120"
                                               style="width: 100%; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 12px; height: 32px; text-align: right;">
                                    </div>
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 4px; font-weight: 600; color: var(--dark); font-size: 11px;">
                                            Grace Out Before
                                        </label>
                                        <input type="number" id="edit-department-grace-out-before" value="${department.grace_out_before_mins || 0}" 
                                               min="0" max="120"
                                               style="width: 100%; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 12px; height: 32px; text-align: right;">
                                    </div>
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 4px; font-weight: 600; color: var(--dark); font-size: 11px;">
                                            Grace Out After
                                        </label>
                                        <input type="number" id="edit-department-grace-out-after" value="${department.grace_out_after_mins || 0}" 
                                               min="0" max="120"
                                               style="width: 100%; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 12px; height: 32px; text-align: right;">
                                    </div>
                                </div>
                                <div style="margin-top: 8px; font-size: 10px; color: #9f1239;">
                                    <i class="fas fa-info-circle"></i> Max 120 minutes for each grace period
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Grace Periods Info -->
                <div id="edit-grace-period-info" style="margin-top: 15px; padding: 12px; background: #fefce8; border: 1px solid #fde047; border-radius: 5px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-info-circle" style="color: #ca8a04;"></i>
                        <div style="font-size: 12px; color: #854d0e;">
                            <strong>Current Grace Periods:</strong> 
                            In Before: ${department.grace_in_before_mins || 0}min, 
                            In After: ${department.grace_in_after_mins || 0}min, 
                            Out Before: ${department.grace_out_before_mins || 0}min, 
                            Out After: ${department.grace_out_after_mins || 0}min
                        </div>
                    </div>
                </div>
            </div>
            <!-- Form Validation Section -->
            <div id="edit-department-errors" style="display: none; margin-top: 20px; padding: 15px; background: #fef2f2; border-radius: 5px; border: 1px solid #fecaca;">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                    <i class="fas fa-exclamation-triangle" style="color: #dc2626;"></i>
                    <div style="font-weight: 600; color: #dc2626; font-size: 12px;">Validation Errors</div>
                </div>
                <div id="edit-error-list" style="font-size: 12px; color: #dc2626;"></div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `;

                        // Update page content
                        const pageContent = document.getElementById('page-content');
                        if (pageContent) {
                            pageContent.innerHTML = editFormHTML;

                            // Add event listeners
                            setTimeout(() => {
                                // Back button
                                const backBtn = document.querySelector('.department-edit-back-btn');
                                if (backBtn) {
                                    backBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        console.log('ðŸ”™ Back button clicked from edit form');

                                        // Go back to departments list
                                        updatePageContent('departments');

                                        // IMPORTANT: Force reload departments with a slight delay
                                        setTimeout(() => {
                                            console.log('ðŸ”„ Reloading departments list...');
                                            if (window.departmentsManager && window.departmentsManager.loadDepartments) {
                                                window.departmentsManager.loadDepartments();
                                            }
                                        }, 300);
                                    });
                                }

                                // Update button
                                const updateBtn = document.querySelector('.update-department-btn');
                                if (updateBtn) {
                                    updateBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        this.updateDepartment(department.department_id);
                                    });
                                }

                                // Setup form validation
                                this.setupEditDepartmentFormValidation();

                            }, 100);

                            showStatusMessage('âœ… Department loaded for editing', 'success');
                        } else {
                            console.error('âŒ Page content element not found!');
                            showStatusMessage('âŒ Page content element not found!', 'error');
                        }
                    }

                    // âœ… Setup form validation for edit
                    setupEditDepartmentFormValidation() {
                        // Add input validation listeners
                        const inputs = [
                            'edit-department-name',
                            'edit-department-sort-code',
                            'edit-department-start-time',
                            'edit-department-end-time'
                        ];

                        inputs.forEach(inputId => {
                            const input = document.getElementById(inputId);
                            if (input) {
                                input.addEventListener('input', () => {
                                    input.style.borderColor = '#d1d5db';
                                    document.getElementById('edit-department-errors').style.display = 'none';
                                });
                            }
                        });
                    }

                    // âœ… Update department function (UOM pattern)
                    async updateDepartment(deptId) {
                        console.log('ðŸ’¾ Updating department:', deptId);

                        const updateBtn = document.querySelector('.update-department-btn');
                        if (updateBtn) {
                            updateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Updating...';
                            updateBtn.disabled = true;
                        }

                        try {
                            // Collect form data
                            const updateData = {
                                department_name: document.getElementById('edit-department-name').value.trim(),
                                sort_code: parseInt(document.getElementById('edit-department-sort-code').value),
                                office_start_time: document.getElementById('edit-department-start-time').value + ':00',
                                office_end_time: document.getElementById('edit-department-end-time').value + ':00',
                                grace_in_before_mins: parseInt(document.getElementById('edit-department-grace-in-before').value) || 0,
                                grace_in_after_mins: parseInt(document.getElementById('edit-department-grace-in-after').value) || 0,
                                grace_out_before_mins: parseInt(document.getElementById('edit-department-grace-out-before').value) || 0,
                                grace_out_after_mins: parseInt(document.getElementById('edit-department-grace-out-after').value) || 0,
                                is_active: document.querySelector('input[name="edit-department-active"]:checked').value === '1',

                            };

                            console.log('ðŸ“¤ Update data:', updateData);

                            // Validation
                            const errors = [];

                            if (!updateData.department_name) {
                                errors.push('Department name is required');
                                document.getElementById('edit-department-name').style.borderColor = '#ef4444';
                            }

                            if (!updateData.sort_code || updateData.sort_code < 1) {
                                errors.push('Valid sort code is required (minimum 1)');
                                document.getElementById('edit-department-sort-code').style.borderColor = '#ef4444';
                            }

                            if (!updateData.office_start_time || updateData.office_start_time === ':00') {
                                errors.push('Office start time is required');
                                document.getElementById('edit-department-start-time').style.borderColor = '#ef4444';
                            }

                            if (!updateData.office_end_time || updateData.office_end_time === ':00') {
                                errors.push('Office end time is required');
                                document.getElementById('edit-department-end-time').style.borderColor = '#ef4444';
                            }

                            // Validate grace periods
                            const graceFields = [
                                { id: 'grace_in_before_mins', name: 'Grace In Before' },
                                { id: 'grace_in_after_mins', name: 'Grace In After' },
                                { id: 'grace_out_before_mins', name: 'Grace Out Before' },
                                { id: 'grace_out_after_mins', name: 'Grace Out After' }
                            ];

                            graceFields.forEach(field => {
                                if (updateData[field.id] < 0 || updateData[field.id] > 120) {
                                    errors.push(`${field.name} must be between 0 and 120 minutes`);
                                }
                            });

                            // Validate office hours
                            if (updateData.office_start_time && updateData.office_end_time) {
                                const startTime = new Date(`2000-01-01T${updateData.office_start_time}`);
                                const endTime = new Date(`2000-01-01T${updateData.office_end_time}`);

                                if (endTime <= startTime) {
                                    errors.push('Office end time must be after start time');
                                    document.getElementById('edit-department-end-time').style.borderColor = '#ef4444';
                                }
                            }

                            // Show errors if any
                            if (errors.length > 0) {
                                const errorDiv = document.getElementById('edit-department-errors');
                                const errorList = document.getElementById('edit-error-list');

                                if (errorDiv && errorList) {
                                    errorList.innerHTML = errors.map(error => `<div>â€¢ ${error}</div>`).join('');
                                    errorDiv.style.display = 'block';
                                }

                                showStatusMessage('âŒ ' + errors.join(', '), 'error');

                                if (updateBtn) {
                                    updateBtn.innerHTML = '<i class="fas fa-save"></i> Update Department';
                                    updateBtn.disabled = false;
                                }
                                return;
                            }

                            console.log('ðŸ“¤ Sending department update:', updateData);

                            // Send PUT request
                            const response = await fetch(`${this.baseURL}/department/${deptId}`, {
                                method: 'PUT',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify(updateData)
                            });

                            const result = await response.json();

                            if (!response.ok) {
                                throw new Error(result.error || `HTTP ${response.status}`);
                            }

                            if (result.success) {
                                showStatusMessage('âœ… Department updated successfully!', 'success');

                                // Clear any edit mode flags
                                localStorage.removeItem('editDepartmentId');

                                // Go back to departments list and reload
                                updatePageContent('departments');

                                setTimeout(() => {
                                    if (window.departmentsManager && window.departmentsManager.loadDepartments) {
                                        console.log('ðŸ”„ Reloading departments list after update...');
                                        window.departmentsManager.loadDepartments();
                                    }
                                }, 300);

                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('âŒ Update error:', error);
                            showStatusMessage(`âŒ Update failed: ${error.message}`, 'error');

                            if (updateBtn) {
                                updateBtn.innerHTML = '<i class="fas fa-save"></i> Update Department';
                                updateBtn.disabled = false;
                            }
                        }
                    }
                    // âœ… Delete department with confirmation
                    async deleteDepartment(deptId, deptCode, deptName) {
                        if (!confirm(`ðŸ—‘ï¸ Delete department "${deptName}" (${deptCode})?\n\nThis action cannot be undone!`)) {
                            return;
                        }

                        try {
                            console.log('ðŸ—‘ï¸ Deleting department:', deptId);

                            const response = await fetch(`${this.baseURL}/department/${deptId}`, {
                                method: 'DELETE'
                            });

                            if (!response.ok) {
                                const errorText = await response.text();
                                throw new Error(`Server error ${response.status}: ${errorText.substring(0, 100)}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                showStatusMessage(`âœ… Department "${deptName}" deleted successfully!`, 'success');
                                this.loadDepartments(); // Refresh list
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('âŒ Delete error:', error);
                            showStatusMessage(`Delete failed: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Update pagination info
                    updatePagination(pagination) {
                        this.totalPages = pagination.totalPages;

                        const infoDiv = document.querySelector('.pagination-info');
                        if (infoDiv && pagination) {
                            const start = ((this.currentPage - 1) * this.pageSize) + 1;
                            const end = Math.min(this.currentPage * this.pageSize, pagination.total);

                            infoDiv.textContent = `Showing ${start} to ${end} of ${pagination.total} entries`;
                        }

                        // Update page buttons
                        this.updatePageButtons();
                    }

                    // âœ… Update page buttons state
                    updatePageButtons() {
                        const prevBtn = document.querySelector('.pagination-controls button:first-child');
                        const nextBtn = document.querySelector('.pagination-controls button:last-child');
                        const currentBtn = document.querySelector('.pagination-controls .btn-primary');

                        if (prevBtn) {
                            prevBtn.disabled = this.currentPage === 1;
                            prevBtn.style.opacity = this.currentPage === 1 ? '0.5' : '1';
                            prevBtn.style.cursor = this.currentPage === 1 ? 'not-allowed' : 'pointer';
                        }

                        if (nextBtn) {
                            nextBtn.disabled = this.currentPage >= this.totalPages;
                            nextBtn.style.opacity = this.currentPage >= this.totalPages ? '0.5' : '1';
                            nextBtn.style.cursor = this.currentPage >= this.totalPages ? 'not-allowed' : 'pointer';
                        }

                        // Update current page button
                        if (currentBtn) {
                            currentBtn.textContent = this.currentPage;
                        }
                    }

                    // âœ… Update table info
                    updateTableInfo(currentCount, total) {
                        console.log(`ðŸ“Š Displaying ${currentCount} of ${total} departments`);
                    }

                    // âœ… Show error message
                    showError(message) {
                        const tbody = document.querySelector('.departments-table tbody');
                        if (tbody) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="6" style="text-align: center; padding: 40px; color: #ef4444;">
                        <i class="fas fa-exclamation-triangle"></i>
                        <p style="margin-top: 10px;">${message}</p>
                        <button onclick="window.location.reload()" 
                                style="margin-top: 10px; padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            Retry
                        </button>
                    </td>
                </tr>
            `;
                        }
                    }
                }

                // âœ… Initialize departments list page
                function initDepartmentsList() {
                    const isDepartmentsPage = document.querySelector('.departments-management') ||
                        window.location.hash === '#departments';

                    if (isDepartmentsPage) {
                        console.log('ðŸ¢ Departments management page detected');

                        // Create manager instance
                        window.departmentsManager = new DepartmentListManager();

                        // Setup event listeners
                        setTimeout(() => {
                            // Create Department button
                            const createBtn = document.querySelector('.department-create-btn');
                            if (createBtn) {
                                createBtn.addEventListener('click', (e) => {
                                    e.preventDefault();
                                    updatePageContent('department-create');
                                });
                            }

                            // Fetch button
                            const fetchBtn = document.querySelector('.filters-section .btn-primary');
                            if (fetchBtn) {
                                fetchBtn.addEventListener('click', () => {
                                    window.departmentsManager.currentPage = 1;
                                    window.departmentsManager.loadDepartments();
                                });
                            }

                            // Clear button
                            const clearBtn = document.querySelector('.filters-section .btn-outline:nth-child(2)');
                            if (clearBtn) {
                                clearBtn.addEventListener('click', () => {
                                    const searchInput = document.querySelector('.filters-section input');
                                    const statusSelect = document.querySelector('.filters-section select');

                                    if (searchInput) searchInput.value = '';
                                    if (statusSelect) statusSelect.value = 'Active Departments';

                                    window.departmentsManager.currentPage = 1;
                                    window.departmentsManager.loadDepartments();
                                });
                            }

                            // Search input (on Enter key)
                            const searchInput = document.querySelector('.filters-section input');
                            if (searchInput) {
                                searchInput.addEventListener('keyup', (e) => {
                                    if (e.key === 'Enter') {
                                        window.departmentsManager.currentPage = 1;
                                        window.departmentsManager.loadDepartments();
                                    }
                                });
                            }

                            // Status select change
                            const statusSelect = document.querySelector('.filters-section select');
                            if (statusSelect) {
                                statusSelect.addEventListener('change', () => {
                                    window.departmentsManager.currentPage = 1;
                                    window.departmentsManager.loadDepartments();
                                });
                            }

                            // Page size select
                            const pageSizeSelect = document.querySelector('.pagination select');
                            if (pageSizeSelect) {
                                pageSizeSelect.addEventListener('change', (e) => {
                                    window.departmentsManager.pageSize = parseInt(e.target.value);
                                    window.departmentsManager.currentPage = 1;
                                    window.departmentsManager.loadDepartments();
                                });
                            }

                            // Previous button
                            const prevBtn = document.querySelector('.pagination-controls button:first-child');
                            if (prevBtn) {
                                prevBtn.addEventListener('click', () => {
                                    if (window.departmentsManager.currentPage > 1) {
                                        window.departmentsManager.currentPage--;
                                        window.departmentsManager.loadDepartments();
                                    }
                                });
                            }

                            // Next button
                            const nextBtn = document.querySelector('.pagination-controls button:last-child');
                            if (nextBtn) {
                                nextBtn.addEventListener('click', () => {
                                    if (window.departmentsManager.currentPage < window.departmentsManager.totalPages) {
                                        window.departmentsManager.currentPage++;
                                        window.departmentsManager.loadDepartments();
                                    }
                                });
                            }

                            // Refresh button (sync icon)
                            const refreshBtn = document.querySelector('.action-buttons .btn-outline:first-child');
                            if (refreshBtn) {
                                refreshBtn.addEventListener('click', () => {
                                    window.departmentsManager.loadDepartments();
                                    showStatusMessage('ðŸ”„ Departments list refreshed', 'info');
                                });
                            }

                            // Load initial data
                            window.departmentsManager.loadDepartments();

                        }, 300);
                    }
                }

                // âœ… Call on page load
                document.addEventListener('DOMContentLoaded', function () {
                    setTimeout(initDepartmentsList, 500);
                });

                // âœ… Call on hash change
                window.addEventListener('hashchange', function () {
                    setTimeout(initDepartmentsList, 300);
                });
                // ============= DEPARTMENT CREATE FORM FUNCTIONS =============

                // Initialize department create form
                function initDepartmentCreateForm() {
                    console.log('ðŸ“ Initializing department create form...');

                    // Get next sort code on page load
                    getNextDepartmentSortCode();

                    // Setup event listeners
                    setTimeout(() => {
                        // Save button
                        const saveBtn = document.querySelector('.department-create .btn-primary');
                        if (saveBtn) {
                            saveBtn.addEventListener('click', saveDepartment);
                        }

                        // Back button
                        const backBtn = document.querySelector('.department-back-btn');
                        if (backBtn) {
                            backBtn.addEventListener('click', () => {
                                updatePageContent('department-list'); // or your department list page
                            });
                        }

                        // Real-time validation for department code
                        const codeInput = document.querySelector('#department-code');
                        if (codeInput) {
                            codeInput.addEventListener('blur', async function () {
                                const code = this.value.trim();
                                if (code) {
                                    await checkDepartmentCodeExists(code);
                                }
                            });
                        }

                    }, 100);
                }

                // Get next available sort code for department
                async function getNextDepartmentSortCode() {
                    try {
                        console.log('ðŸ”¢ Getting next department sort code...');

                        const sortCodeInput = document.querySelector('#department-sort-code');
                        if (!sortCodeInput) return;

                        // Call API to get next sort code
                        const response = await fetch('/api/department/next-sort-code');

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        if (result.success) {
                            sortCodeInput.value = result.next_sort_code;
                            console.log('âœ… Next department sort code:', result.next_sort_code);

                            // Show success message
                            const hint = document.querySelector('#sort-code-hint');
                            if (hint) {
                                hint.innerHTML = `(Auto-generated: ${result.next_sort_code})`;
                                hint.style.color = '#059669';
                            }
                        } else {
                            throw new Error(result.error || 'Failed to get sort code');
                        }

                    } catch (error) {
                        console.error('âŒ Department sort code error:', error);

                        // Fallback: Use simple increment
                        const sortCodeInput = document.querySelector('#department-sort-code');
                        if (sortCodeInput) {
                            const current = parseInt(sortCodeInput.value) || 0;
                            sortCodeInput.value = current + 1;

                            const hint = document.querySelector('#sort-code-hint');
                            if (hint) {
                                hint.innerHTML = '(Local calculation)';
                                hint.style.color = '#f59e0b';
                            }
                        }

                        showStatusMessage('âš ï¸ Using local sort code calculation', 'warning');
                    }
                }

                // Check if department code exists
                async function checkDepartmentCodeExists(code) {
                    try {
                        if (!code.trim()) return false;

                        const response = await fetch(`/api/department/check-code/${encodeURIComponent(code)}`);

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        const errorDiv = document.querySelector('#department-code-error');
                        if (errorDiv) {
                            if (result.exists) {
                                errorDiv.textContent = 'âŒ This department code already exists';
                                errorDiv.style.display = 'block';
                                document.querySelector('#department-code').style.borderColor = '#ef4444';
                                return true;
                            } else {
                                errorDiv.textContent = 'âœ… Code is available';
                                errorDiv.style.color = '#10b981';
                                errorDiv.style.display = 'block';
                                document.querySelector('#department-code').style.borderColor = '#10b981';
                                return false;
                            }
                        }

                    } catch (error) {
                        console.error('Department code check error:', error);
                        return false;
                    }
                }

                // Save department function
                async function saveDepartment() {
                    console.log('ðŸ’¾ Saving department...');

                    // Get form elements
                    const saveBtn = document.querySelector('.department-create .btn-primary');
                    const departmentCode = document.querySelector('#department-code').value.trim();
                    const departmentName = document.querySelector('#department-name').value.trim();
                    const sortCode = parseInt(document.querySelector('#department-sort-code').value);

                    // Clear previous errors
                    document.querySelector('#department-code-error').style.display = 'none';

                    // Validation
                    const errors = [];

                    if (!departmentCode) {
                        errors.push('Department code is required');
                        document.querySelector('#department-code').style.borderColor = '#ef4444';
                    }

                    if (!departmentName) {
                        errors.push('Department name is required');
                        document.querySelector('#department-name').style.borderColor = '#ef4444';
                    }

                    if (!sortCode || sortCode < 1) {
                        errors.push('Valid sort code is required');
                        document.querySelector('#department-sort-code').style.borderColor = '#ef4444';
                    }

                    if (errors.length > 0) {
                        showStatusMessage('âŒ ' + errors.join(', '), 'error');
                        return;
                    }

                    try {
                        // Show loading
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';
                            saveBtn.disabled = true;
                        }

                        // Check if code exists
                        const codeExists = await checkDepartmentCodeExists(departmentCode);
                        if (codeExists) {
                            showStatusMessage('âŒ Department code already exists', 'error');
                            if (saveBtn) {
                                saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                                saveBtn.disabled = false;
                            }
                            return;
                        }

                        // Prepare department data
                        const departmentData = {
                            department_code: departmentCode,
                            department_name: departmentName,
                            office_start_time: document.querySelector('#department-start-time').value + ':00',
                            office_end_time: document.querySelector('#department-end-time').value + ':00',
                            sort_code: sortCode,
                            grace_in_before_mins: parseInt(document.querySelector('#grace-in-before').value) || 0,
                            grace_in_after_mins: parseInt(document.querySelector('#grace-in-after').value) || 0,
                            grace_out_before_mins: parseInt(document.querySelector('#grace-out-before').value) || 0,
                            grace_out_after_mins: parseInt(document.querySelector('#grace-out-after').value) || 0,
                            is_active: document.querySelector('#department-is-active').checked,
                            created_by: 1 // Get from session
                        };

                        console.log('ðŸ“¤ Saving department:', departmentData);

                        // Send to API
                        const response = await fetch('/api/department', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(departmentData)
                        });

                        const result = await response.json();

                        if (response.ok && result.success) {
                            showStatusMessage(`âœ… Department "${departmentName}" saved successfully!`, 'success');

                            // Reset form and go back after 1.5 seconds
                            setTimeout(() => {
                                updatePageContent('departments'); // or your department list page
                            }, 1500);
                        } else {
                            throw new Error(result.error || 'Failed to save department');
                        }

                    } catch (error) {
                        console.error('âŒ Save department error:', error);
                        showStatusMessage('âŒ ' + error.message, 'error');

                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                            saveBtn.disabled = false;
                        }
                    }
                }

                // Call init when department page loads
                document.addEventListener('DOMContentLoaded', function () {
                    if (window.location.hash === '#department-create') {
                        setTimeout(initDepartmentCreateForm, 100);
                    }
                });

                // Also call on hash change
                window.addEventListener('hashchange', function () {
                    if (window.location.hash === '#department-create') {
                        setTimeout(initDepartmentCreateForm, 300);
                    }
                });
                // ============= EMPLOYEE TYPE FUNCTIONS =============

                // Initialize employee type create form
                function initEmployeeTypeCreateForm() {
                    console.log('ðŸ‘¨â€ðŸ’¼ Initializing employee type create form...');

                    // Get next hierarchy code on page load
                    getNextHierarchyCode();

                    // Setup event listeners
                    setTimeout(() => {
                        // Save button
                        const saveBtn = document.querySelector('#save-employee-type-btn');
                        if (saveBtn) {
                            saveBtn.addEventListener('click', saveEmployeeType);
                        }

                        // Refresh hierarchy code button
                        const refreshBtn = document.querySelector('#refresh-hierarchy-btn');
                        if (refreshBtn) {
                            refreshBtn.addEventListener('click', getNextHierarchyCode);
                        }

                        // Back button
                        const backBtn = document.querySelector('.employee-type-back-btn');
                        if (backBtn) {
                            backBtn.addEventListener('click', () => {
                                updatePageContent('employee-types-list');
                            });
                        }

                        // Real-time validation for type code
                        const codeInput = document.querySelector('#employee-type-code');
                        if (codeInput) {
                            codeInput.addEventListener('blur', async function () {
                                const code = this.value.trim();
                                if (code) {
                                    await checkEmployeeTypeCodeExists(code);
                                }
                            });
                        }

                    }, 100);
                }

                // Get next available hierarchy code
                async function getNextHierarchyCode() {
                    try {
                        console.log('ðŸ”¢ Getting next hierarchy code...');
                        const hierarchyInput = document.querySelector('#employee-type-hierarchy');
                        const refreshBtn = document.querySelector('#refresh-hierarchy-btn');

                        if (!hierarchyInput) return;

                        // Show loading
                        if (refreshBtn) {
                            refreshBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
                            refreshBtn.disabled = true;
                        }

                        // Call API to get next hierarchy code
                        const response = await fetch('/api/employee-types/next-hierarchy-code');

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        if (result.success) {
                            hierarchyInput.value = result.next_hierarchy_code;
                            console.log('âœ… Next hierarchy code:', result.next_hierarchy_code);

                            if (refreshBtn) {
                                refreshBtn.innerHTML = '<i class="fas fa-sync-alt"></i> Refresh';
                                refreshBtn.disabled = false;
                            }

                            // Show success message
                            const hint = document.querySelector('#hierarchy-code-hint');
                            if (hint) {
                                hint.innerHTML = `(Auto-generated: ${result.next_hierarchy_code})`;
                                hint.style.color = '#059669';
                            }
                        } else {
                            throw new Error(result.error || 'Failed to get hierarchy code');
                        }

                    } catch (error) {
                        console.error('âŒ Hierarchy code error:', error);

                        // Fallback: Use simple increment
                        const hierarchyInput = document.querySelector('#employee-type-hierarchy');
                        if (hierarchyInput) {
                            const current = parseInt(hierarchyInput.value) || 0;
                            hierarchyInput.value = current + 1;

                            const hint = document.querySelector('#hierarchy-code-hint');
                            if (hint) {
                                hint.innerHTML = '(Local calculation)';
                                hint.style.color = '#f59e0b';
                            }
                        }

                        // Reset button
                        const refreshBtn = document.querySelector('#refresh-hierarchy-btn');
                        if (refreshBtn) {
                            refreshBtn.innerHTML = '<i class="fas fa-sync-alt"></i> Refresh';
                            refreshBtn.disabled = false;
                        }

                        showStatusMessage('âš ï¸ Using local hierarchy code calculation', 'warning');
                    }
                }

                // Check if employee type code exists
                async function checkEmployeeTypeCodeExists(code) {
                    try {
                        if (!code.trim()) return false;

                        const response = await fetch(`/api/employee-types/check-code/${encodeURIComponent(code)}`);

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        const errorDiv = document.querySelector('#employee-type-code-error');
                        if (errorDiv) {
                            if (result.exists) {
                                errorDiv.textContent = 'âŒ This employee type code already exists';
                                errorDiv.style.display = 'block';
                                document.querySelector('#employee-type-code').style.borderColor = '#ef4444';
                                return true;
                            } else {
                                errorDiv.textContent = 'âœ… Code is available';
                                errorDiv.style.color = '#10b981';
                                errorDiv.style.display = 'block';
                                document.querySelector('#employee-type-code').style.borderColor = '#10b981';
                                return false;
                            }
                        }

                    } catch (error) {
                        console.error('Code check error:', error);
                        return false;
                    }
                }

                // Save employee type function
                async function saveEmployeeType() {
                    console.log('ðŸ’¾ Saving employee type...');

                    // Get form elements
                    const saveBtn = document.querySelector('#save-employee-type-btn');
                    const typeCode = document.querySelector('#employee-type-code').value.trim();
                    const description = document.querySelector('#employee-type-description').value.trim();
                    const hierarchyCode = parseInt(document.querySelector('#employee-type-hierarchy').value);

                    // Clear previous errors
                    const errorDiv = document.querySelector('#employee-type-code-error');
                    if (errorDiv) {
                        errorDiv.style.display = 'none';
                    }

                    // Validation
                    const errors = [];

                    if (!typeCode) {
                        errors.push('Type code is required');
                        document.querySelector('#employee-type-code').style.borderColor = '#ef4444';
                    }

                    if (!description) {
                        errors.push('Description is required');
                        document.querySelector('#employee-type-description').style.borderColor = '#ef4444';
                    }

                    if (!hierarchyCode || hierarchyCode < 1) {
                        errors.push('Valid hierarchy code is required');
                        document.querySelector('#employee-type-hierarchy').style.borderColor = '#ef4444';
                    }

                    if (errors.length > 0) {
                        showStatusMessage('âŒ ' + errors.join(', '), 'error');
                        return;
                    }

                    try {
                        // Show loading
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';
                            saveBtn.disabled = true;
                        }

                        // Check if code exists
                        const codeExists = await checkEmployeeTypeCodeExists(typeCode);
                        if (codeExists) {
                            showStatusMessage('âŒ Employee type code already exists', 'error');
                            if (saveBtn) {
                                saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                                saveBtn.disabled = false;
                            }
                            return;
                        }

                        // Prepare employee type data
                        const employeeTypeData = {
                            type_code: typeCode,
                            description: description,
                            hierarchy_code: hierarchyCode,
                            is_director: document.querySelector('#employee-type-is-director').checked,
                            is_active: document.querySelector('#employee-type-is-active').checked,
                            created_by: 1 // Get from session
                        };

                        console.log('ðŸ“¤ Saving employee type:', employeeTypeData);

                        // Send to API
                        const response = await fetch('/api/employee-types', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(employeeTypeData)
                        });

                        const result = await response.json();

                        if (response.ok && result.success) {
                            showStatusMessage(`âœ… Employee type "${description}" saved successfully!`, 'success');

                            // Reset form and go back after 1.5 seconds
                            setTimeout(() => {
                                updatePageContent('employee-types');
                            }, 1500);
                        } else {
                            throw new Error(result.error || 'Failed to save employee type');
                        }

                    } catch (error) {
                        console.error('âŒ Save employee type error:', error);
                        showStatusMessage('âŒ ' + error.message, 'error');

                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                            saveBtn.disabled = false;
                        }
                    }
                }

                // Call init when employee type create page loads
                document.addEventListener('DOMContentLoaded', function () {
                    if (window.location.hash === '#employee-type-create') {
                        setTimeout(initEmployeeTypeCreateForm, 100);
                    }
                });

                // Also call on hash change
                window.addEventListener('hashchange', function () {
                    if (window.location.hash === '#employee-type-create') {
                        setTimeout(initEmployeeTypeCreateForm, 300);
                    }
                });
                // ============= EMPLOYEE TYPES LIST MANAGER =============
                class EmployeeTypesListManager {
                    constructor() {
                        this.baseURL = 'http://localhost:5000/api';
                        this.currentPage = 1;
                        this.pageSize = 20;
                        this.searchTerm = '';
                        this.statusFilter = 'all';
                        console.log('ðŸ‘¨â€ðŸ’¼ EmployeeTypesListManager initialized');
                    }

                    // âœ… Load employee types data
                    async loadEmployeeTypes() {
                        console.log('ðŸ“¥ Loading employee types...');

                        try {
                            const searchInput = document.querySelector('.filters-section input[placeholder*="Search"]');
                            const statusSelect = document.querySelector('.filters-section select');

                            this.searchTerm = searchInput ? searchInput.value : '';
                            this.statusFilter = statusSelect ? statusSelect.value : 'all';

                            // Convert status filter to API format
                            let statusParam = 'all';
                            if (this.statusFilter === 'Active') statusParam = 'active';
                            if (this.statusFilter === 'Inactive') statusParam = 'inactive';

                            const url = `${this.baseURL}/employee-types?page=${this.currentPage}&limit=${this.pageSize}&search=${encodeURIComponent(this.searchTerm)}&status=${statusParam}`;
                            console.log('ðŸŒ Fetching:', url);

                            const response = await fetch(url);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.renderEmployeeTypes(result.data);
                                this.updatePagination(result.pagination);
                                this.updateTableInfo(result.data.length, result.pagination.total);
                            } else {
                                throw new Error(result.error || 'API failed');
                            }

                        } catch (error) {
                            console.error('âŒ Load error:', error);
                            this.showError(`Failed to load employee types: ${error.message}`);
                        }
                    }

                    // âœ… Render employee types in table
                    renderEmployeeTypes(employeeTypes) {
                        const tbody = document.querySelector('.employee-types-table tbody');
                        if (!tbody) {
                            console.error('âŒ Table body not found!');
                            return;
                        }

                        if (employeeTypes.length === 0) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="6" style="text-align: center; padding: 40px; color: #64748b;">
                        <i class="fas fa-user-tag" style="font-size: 24px; opacity: 0.5;"></i>
                        <p style="margin-top: 10px;">No employee types found.</p>
                        <button class="employee-type-create-btn" 
                                style="margin-top: 10px; padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: inline-flex; align-items: center; gap: 5px;">
                            <i class="fas fa-plus"></i> Add First Employee Type
                        </button>
                    </td>
                </tr>
            `;

                            // Add event listener to the button
                            setTimeout(() => {
                                const addBtn = tbody.querySelector('.employee-type-create-btn');
                                if (addBtn) {
                                    addBtn.addEventListener('click', () => updatePageContent('employee-type-create'));
                                }
                            }, 100);

                            return;
                        }

                        tbody.innerHTML = '';

                        employeeTypes.forEach(type => {
                            const row = document.createElement('tr');

                            // Format date
                            const createdDate = type.created_at
                                ? new Date(type.created_at).toLocaleDateString('en-GB', {
                                    day: '2-digit',
                                    month: 'short',
                                    year: 'numeric'
                                })
                                : 'N/A';

                            row.innerHTML = `
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; font-weight: 600; color: var(--dark);">
                    <div style="color: #2563eb; font-weight: 600;">${type.type_code || '-'}</div>
                    ${type.is_director ? `
                        <div style="font-size: 10px; color: #dc2626; margin-top: 2px;">
                            <i class="fas fa-crown"></i> Director Level
                        </div>
                    ` : ''}
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;">
                    <div style="font-weight: 500; color: var(--dark);">${type.description || '-'}</div>
                    <div style="font-size: 11px; color: #64748b; margin-top: 3px;">
                        ID: ${type.type_id}
                    </div>
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;">
                    ${type.is_active ?
                                    `<span style="background: #d1fae5; color: #065f46; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; display: inline-block;">
                            <i class="fas fa-check-circle" style="margin-right: 4px;"></i> Active
                        </span>` :
                                    `<span style="background: #fef2f2; color: #dc2626; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; display: inline-block;">
                            <i class="fas fa-times-circle" style="margin-right: 4px;"></i> Inactive
                        </span>`
                                }
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <div style="width: 30px; height: 30px; background: #3b82f6; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;">
                            ${type.hierarchy_code}
                        </div>
                        <div>
                            <div style="font-size: 13px; font-weight: 600; color: var(--dark);">Level ${type.hierarchy_code}</div>
                            <div style="font-size: 10px; color: #64748b;">
                                ${this.getHierarchyLabel(type.hierarchy_code)}
                            </div>
                        </div>
                    </div>
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; color: #64748b; font-size: 13px;">
                    ${createdDate}
                    ${type.created_by ? `
                        <div style="font-size: 11px; color: #94a3b8; margin-top: 2px;">
                            Created by User ID: ${type.created_by}
                        </div>
                    ` : ''}
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                    <div style="display: flex; gap: 8px; justify-content: center;">
                        <!-- ðŸ‘ï¸ VIEW BUTTON -->
                        <button class="view-employee-type-btn" 
                                data-id="${type.type_id}"
                                data-code="${type.type_code}"
                                data-name="${type.description}"
                                style="background: none; border: none; cursor: pointer; color: #10b981; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#d1fae5'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="View Details">
                            <i class="fas fa-eye" style="font-size: 14px;"></i>
                        </button>
                        
                        <!-- âœï¸ EDIT BUTTON -->
                        <button class="edit-employee-type-btn" 
                                data-id="${type.type_id}"
                                data-code="${type.type_code}"
                                data-name="${type.description}"
                                style="background: none; border: none; cursor: pointer; color: #2563eb; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#dbeafe'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Edit">
                            <i class="fas fa-edit" style="font-size: 14px;"></i>
                        </button>
                        
                        <!-- ðŸ—‘ï¸ DELETE BUTTON -->
                        <button class="delete-employee-type-btn" 
                                data-id="${type.type_id}"
                                data-code="${type.type_code}"
                                data-name="${type.description}"
                                style="background: none; border: none; cursor: pointer; color: #ef4444; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#fee2e2'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Delete">
                            <i class="fas fa-trash" style="font-size: 14px;"></i>
                        </button>
                    </div>
                </td>
            `;

                            tbody.appendChild(row);
                        });

                        // Add event listeners to buttons
                        this.setupRowButtons();
                    }

                    // âœ… Get hierarchy label based on code
                    getHierarchyLabel(hierarchyCode) {
                        const labels = {
                            1: 'Highest Priority',
                            2: 'High Priority',
                            3: 'Medium Priority',
                            4: 'Low Priority',
                            5: 'Lowest Priority'
                        };

                        if (hierarchyCode <= 2) return 'High Priority';
                        if (hierarchyCode <= 4) return 'Medium Priority';
                        return 'Low Priority';
                    }

                    // âœ… Setup button event listeners
                    setupRowButtons() {
                        // ðŸ‘ï¸ View buttons
                        document.querySelectorAll('.view-employee-type-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const typeId = btn.dataset.id;
                                const typeName = btn.dataset.name;
                                console.log('ðŸ‘ï¸ View employee type:', typeId, typeName);
                                this.viewEmployeeType(typeId);
                            });
                        });

                        // âœï¸ Edit buttons
                        document.querySelectorAll('.edit-employee-type-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const typeId = btn.dataset.id;
                                const typeName = btn.dataset.name;
                                console.log('âœï¸ Edit employee type:', typeId, typeName);
                                this.editEmployeeType(typeId);
                            });
                        });

                        // ðŸ—‘ï¸ Delete buttons
                        document.querySelectorAll('.delete-employee-type-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const typeId = btn.dataset.id;
                                const typeCode = btn.dataset.code;
                                const typeName = btn.dataset.name;
                                this.deleteEmployeeType(typeId, typeCode, typeName);
                            });
                        });
                    }

                    // âœ… View employee type details
                    async viewEmployeeType(typeId) {
                        console.log('ðŸ” Viewing employee type:', typeId);

                        try {
                            showStatusMessage('Loading employee type details...', 'info');

                            const response = await fetch(`${this.baseURL}/employee-types/${typeId}`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.showEmployeeTypeViewPage(result.data);
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('View error:', error);
                            showStatusMessage(`âŒ Failed to load: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Show employee type view as full page
                    showEmployeeTypeViewPage(employeeType) {
                        // Format created date
                        const createdDate = employeeType.created_at ?
                            new Date(employeeType.created_at).toLocaleDateString('en-GB', {
                                day: '2-digit',
                                month: 'short',
                                year: 'numeric',
                                hour: '2-digit',
                                minute: '2-digit'
                            }) : 'N/A';

                        const viewPageHTML = `
            <div class="employee-type-view-page">
                <!-- Header Actions -->
                <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary edit-employee-type-from-view-btn" 
                                data-id="${employeeType.type_id}"
                                style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-edit"></i> Edit Employee Type
                        </button>
                        <button class="btn btn-primary employee-type-view-back-btn" 
                                style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-arrow-left"></i> Back to List
                        </button>
                    </div>
                    <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                        <i class="fas fa-eye"></i> Viewing Employee Type: ${employeeType.type_code}
                    </div>
                </div>

                <!-- Main Content Section -->
                <div class="form-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <!-- Left Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <!-- Type Code -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Type Code</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                        <span style="font-family: 'Courier New', monospace; font-weight: 600; color: #2563eb;">${employeeType.type_code || 'Not provided'}</span>
                                    </div>
                                </div>
                                
                                <!-- Description -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Description</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                        ${employeeType.description || 'Not provided'}
                                    </div>
                                </div>
                                
                                <!-- Created Info -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Created Information</label>
                                    <div style="background: #f8fafc; padding: 12px; border-radius: 5px; border: 1px solid #e2e8f0;">
                                        <div style="font-size: 13px; color: #64748b; margin-bottom: 6px;">
                                            <i class="far fa-calendar"></i> Created: ${createdDate}
                                        </div>
                                        <div style="font-size: 13px; color: #64748b;">
                                            <i class="fas fa-user"></i> Created by User ID: ${employeeType.created_by || 'N/A'}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <!-- Hierarchy Code -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Hierarchy Code</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center; justify-content: center;">
                                        <div style="display: flex; align-items: center; gap: 10px;">
                                            <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: bold;">
                                                ${employeeType.hierarchy_code}
                                            </div>
                                            <div>
                                                <div style="font-size: 14px; font-weight: 600; color: var(--dark);">Level ${employeeType.hierarchy_code}</div>
                                                <div style="font-size: 11px; color: #64748b;">
                                                    ${this.getHierarchyLabel(employeeType.hierarchy_code)}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Status & Flags -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Status & Flags</label>
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                        <div>
                                            <div style="color: #6b7280; font-size: 11px; margin-bottom: 4px;">Active Status</div>
                                            <div>
                                                ${employeeType.is_active ?
                                `<span style="background: #d1fae5; color: #065f46; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                                                        <i class="fas fa-check-circle"></i> Active
                                                    </span>` :
                                `<span style="background: #fef2f2; color: #dc2626; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                                                        <i class="fas fa-times-circle"></i> Inactive
                                                    </span>`
                            }
                                            </div>
                                        </div>
                                        <div>
                                            <div style="color: #6b7280; font-size: 11px; margin-bottom: 4px;">Director Level</div>
                                            <div>
                                                ${employeeType.is_director ?
                                `<span style="background: #fef3c7; color: #92400e; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                                                        <i class="fas fa-crown"></i> Director
                                                    </span>` :
                                `<span style="background: #f1f5f9; color: #64748b; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                                                        <i class="fas fa-user"></i> Regular
                                                    </span>`
                            }
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Last Updated -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Last Updated</label>
                                    <div style="background: #f8fafc; padding: 12px; border-radius: 5px; border: 1px solid #e2e8f0;">
                                        <div style="font-size: 13px; color: #64748b;">
                                            <i class="far fa-calendar"></i> ${employeeType.updated_at ?
                                new Date(employeeType.updated_at).toLocaleDateString('en-GB', {
                                    day: '2-digit',
                                    month: 'short',
                                    year: 'numeric',
                                    hour: '2-digit',
                                    minute: '2-digit'
                                }) :
                                'Not updated yet'
                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                    Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
                </div>
            </div>
        `;

                        // Update page content using your system
                        const pageContent = document.getElementById('page-content');
                        if (pageContent) {
                            pageContent.innerHTML = viewPageHTML;

                            // Add event listeners
                            setTimeout(() => {
                                // Back button
                                const backBtn = document.querySelector('.employee-type-view-back-btn');
                                if (backBtn) {
                                    backBtn.addEventListener('click', () => {
                                        updatePageContent('employee-types');

                                        // Reload employee types list after a short delay
                                        setTimeout(() => {
                                            if (window.employeeTypesManager && window.employeeTypesManager.loadEmployeeTypes) {
                                                console.log('ðŸ”„ Reloading employee types list from view page...');
                                                window.employeeTypesManager.loadEmployeeTypes();
                                            }
                                        }, 500);
                                    });
                                }

                                // Edit button
                                const editBtn = document.querySelector('.edit-employee-type-from-view-btn');
                                if (editBtn) {
                                    editBtn.addEventListener('click', () => {
                                        // Call the editEmployeeType method
                                        if (window.employeeTypesManager && window.employeeTypesManager.editEmployeeType) {
                                            window.employeeTypesManager.editEmployeeType(employeeType.type_id);
                                        } else {
                                            // Fallback: Navigate to edit page
                                            sessionStorage.setItem('editEmployeeTypeId', employeeType.type_id);
                                            updatePageContent('employee-type-edit');
                                        }
                                    });
                                }

                            }, 100);
                        } else {
                            console.error('âŒ Page content element not found!');
                            // Fallback to alert
                            alert('View page loaded. Page content element not found.');
                        }
                    }

                    // âœ… Edit employee type
                    async editEmployeeType(typeId) {
                        console.log('âœï¸ Edit employee type:', typeId);

                        try {
                            showStatusMessage('Loading employee type details...', 'info');

                            const response = await fetch(`${this.baseURL}/employee-types/${typeId}`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.showEmployeeTypeEditForm(result.data);
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('Edit error:', error);
                            showStatusMessage(`âŒ Failed to load employee type: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Show employee type edit form
                    showEmployeeTypeEditForm(employeeType) {
                        console.log('ðŸŽ¯ Showing employee type edit form for:', employeeType.type_code);

                        const editFormHTML = `
            <div class="employee-type-edit-form">
                <!-- Header Actions -->
                <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary update-employee-type-btn" 
                                data-type-id="${employeeType.type_id}"
                                style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-save"></i> Update Employee Type
                        </button>
                        <button class="btn btn-primary employee-type-edit-back-btn" 
                                style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-arrow-left"></i> Back to List
                        </button>
                    </div>
                    <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                        <i class="fas fa-edit"></i> Editing Employee Type: ${employeeType.type_code}
                    </div>
                </div>

                <!-- MAIN FORM CONTENT -->
                <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <!-- Left Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <!-- Type Code -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Type Code*
                                    </label>
                                    <input type="text" id="edit-employee-type-code" value="${employeeType.type_code || ''}" 
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px;" readonly>
                                    <div style="font-size: 10px; color: #64748b; margin-top: 4px;">(Code cannot be changed)</div>
                                </div>
                                
                                <!-- Description -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Description*
                                    </label>
                                    <input type="text" id="edit-employee-type-description" value="${employeeType.description || ''}" 
                                           placeholder="Enter employee type description"
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                </div>
                                
                                <!-- Hierarchy Code -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Hierarchy Code*
                                    </label>
                                    <input type="number" id="edit-employee-type-hierarchy" value="${employeeType.hierarchy_code || ''}"
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px; text-align: right;">
                                    <div style="font-size: 10px; color: #64748b; margin-top: 4px;">Lower number = Higher hierarchy (1 = Highest)</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px; margin-top: 40px;">
                                <!-- Is Director - Checkbox -->
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" id="edit-employee-type-is-director" ${employeeType.is_director ? 'checked' : ''} 
                                               style="width: 16px; height: 16px; cursor: pointer;">
                                        Is Director
                                    </label>
                                    <div style="font-size: 10px; color: #64748b; margin-top: 4px;">
                                        Director level employees have special privileges
                                    </div>
                                </div>
                                
                                <!-- Is Active - Checkbox -->
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" id="edit-employee-type-is-active" ${employeeType.is_active ? 'checked' : ''} 
                                               style="width: 16px; height: 16px; cursor: pointer;">
                                        Is Active
                                    </label>
                                    <div style="font-size: 10px; color: #64748b; margin-top: 4px;">
                                        Inactive types won't appear in dropdowns
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                    Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
                </div>
            </div>
        `;

                        // Update page content
                        const pageContent = document.getElementById('page-content');
                        if (pageContent) {
                            pageContent.innerHTML = editFormHTML;

                            // Add event listeners
                            setTimeout(() => {
                                // Back button
                                const backBtn = document.querySelector('.employee-type-edit-back-btn');
                                if (backBtn) {
                                    backBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        console.log('ðŸ”™ Back button clicked from edit form');

                                        // Go back to employee types list
                                        updatePageContent('employee-types');

                                        // IMPORTANT: Force reload employee types with a slight delay
                                        setTimeout(() => {
                                            console.log('ðŸ”„ Reloading employee types list...');
                                            if (window.employeeTypesManager && window.employeeTypesManager.loadEmployeeTypes) {
                                                window.employeeTypesManager.loadEmployeeTypes();
                                            }
                                        }, 300);
                                    });
                                }

                                // Update button
                                const updateBtn = document.querySelector('.update-employee-type-btn');
                                if (updateBtn) {
                                    updateBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        this.updateEmployeeType(employeeType.type_id);
                                    });
                                }

                            }, 100);

                            showStatusMessage('âœ… Employee type loaded for editing', 'success');
                        } else {
                            console.error('âŒ Page content element not found!');
                            alert('Edit form loaded. Page content element not found.');
                        }
                    }

                    // âœ… Update employee type function
                    async updateEmployeeType(typeId) {
                        console.log('ðŸ’¾ Updating employee type:', typeId);

                        const updateBtn = document.querySelector('.update-employee-type-btn');
                        if (updateBtn) {
                            updateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Updating...';
                            updateBtn.disabled = true;
                        }

                        try {
                            // Collect form data
                            const updateData = {
                                description: document.getElementById('edit-employee-type-description').value.trim(),
                                hierarchy_code: parseInt(document.getElementById('edit-employee-type-hierarchy').value),
                                is_director: document.getElementById('edit-employee-type-is-director').checked,
                                is_active: document.getElementById('edit-employee-type-is-active').checked
                            };

                            console.log('ðŸ“¤ Update data:', updateData);

                            // Validation
                            const errors = [];

                            if (!updateData.description) {
                                errors.push('Description is required');
                                document.getElementById('edit-employee-type-description').style.borderColor = '#ef4444';
                            }

                            if (!updateData.hierarchy_code || updateData.hierarchy_code < 1) {
                                errors.push('Valid hierarchy code is required');
                                document.getElementById('edit-employee-type-hierarchy').style.borderColor = '#ef4444';
                            }

                            if (errors.length > 0) {
                                showStatusMessage('âŒ ' + errors.join(', '), 'error');

                                if (updateBtn) {
                                    updateBtn.innerHTML = '<i class="fas fa-save"></i> Update Employee Type';
                                    updateBtn.disabled = false;
                                }
                                return;
                            }

                            console.log('ðŸ“¤ Sending employee type update:', updateData);

                            // Send PUT request
                            const response = await fetch(`${this.baseURL}/employee-types/${typeId}`, {
                                method: 'PUT',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify(updateData)
                            });

                            const result = await response.json();

                            if (!response.ok) {
                                throw new Error(result.error || `HTTP ${response.status}`);
                            }

                            if (result.success) {
                                showStatusMessage('âœ… Employee type updated successfully!', 'success');

                                // Go back to employee types list and reload
                                updatePageContent('employee-types');

                                setTimeout(() => {
                                    if (window.employeeTypesManager && window.employeeTypesManager.loadEmployeeTypes) {
                                        console.log('ðŸ”„ Reloading employee types list after update...');
                                        window.employeeTypesManager.loadEmployeeTypes();
                                    }
                                }, 300);

                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('âŒ Update error:', error);
                            showStatusMessage(`âŒ Update failed: ${error.message}`, 'error');

                            if (updateBtn) {
                                updateBtn.innerHTML = '<i class="fas fa-save"></i> Update Employee Type';
                                updateBtn.disabled = false;
                            }
                        }
                    }

                    // âœ… Delete employee type with confirmation
                    async deleteEmployeeType(typeId, typeCode, typeName) {
                        if (!confirm(`ðŸ—‘ï¸ Delete employee type "${typeName}" (${typeCode})?\n\nThis action cannot be undone!`)) {
                            return;
                        }

                        try {
                            console.log('ðŸ—‘ï¸ Deleting employee type:', typeId);

                            const response = await fetch(`${this.baseURL}/employee-types/${typeId}`, {
                                method: 'DELETE'
                            });

                            if (!response.ok) {
                                const errorText = await response.text();
                                throw new Error(`Server error ${response.status}: ${errorText.substring(0, 100)}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                showStatusMessage(`âœ… Employee type "${typeName}" deleted successfully!`, 'success');
                                this.loadEmployeeTypes(); // Refresh list
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('âŒ Delete error:', error);
                            showStatusMessage(`Delete failed: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Update pagination info
                    updatePagination(pagination) {
                        this.totalPages = pagination.totalPages;

                        const infoDiv = document.querySelector('.pagination-info');
                        if (infoDiv && pagination) {
                            const start = ((this.currentPage - 1) * this.pageSize) + 1;
                            const end = Math.min(this.currentPage * this.pageSize, pagination.total);

                            infoDiv.textContent = `Showing ${start} to ${end} of ${pagination.total} entries`;
                        }

                        // Update page buttons
                        this.updatePageButtons();
                    }

                    // âœ… Update page buttons state
                    updatePageButtons() {
                        const prevBtn = document.querySelector('.pagination-controls button:first-child');
                        const nextBtn = document.querySelector('.pagination-controls button:last-child');
                        const currentBtn = document.querySelector('.pagination-controls .btn-primary');

                        if (prevBtn) {
                            prevBtn.disabled = this.currentPage === 1;
                            prevBtn.style.opacity = this.currentPage === 1 ? '0.5' : '1';
                            prevBtn.style.cursor = this.currentPage === 1 ? 'not-allowed' : 'pointer';
                        }

                        if (nextBtn) {
                            nextBtn.disabled = this.currentPage >= this.totalPages;
                            nextBtn.style.opacity = this.currentPage >= this.totalPages ? '0.5' : '1';
                            nextBtn.style.cursor = this.currentPage >= this.totalPages ? 'not-allowed' : 'pointer';
                        }

                        // Update current page button
                        if (currentBtn) {
                            currentBtn.textContent = this.currentPage;
                        }
                    }

                    // âœ… Update table info
                    updateTableInfo(currentCount, total) {
                        console.log(`ðŸ“Š Displaying ${currentCount} of ${total} employee types`);
                    }

                    // âœ… Show error message
                    showError(message) {
                        const tbody = document.querySelector('.employee-types-table tbody');
                        if (tbody) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="6" style="text-align: center; padding: 40px; color: #ef4444;">
                        <i class="fas fa-exclamation-triangle"></i>
                        <p style="margin-top: 10px;">${message}</p>
                        <button onclick="window.location.reload()" 
                                style="margin-top: 10px; padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            Retry
                        </button>
                    </td>
                </tr>
            `;
                        }
                    }
                }

                // âœ… Initialize employee types list page
                function initEmployeeTypesList() {
                    const isEmployeeTypesPage = document.querySelector('.employee-types-management') ||
                        window.location.hash === '#employee-types';

                    if (isEmployeeTypesPage) {
                        console.log('ðŸ‘¨â€ðŸ’¼ Employee types management page detected');

                        // Create manager instance
                        window.employeeTypesManager = new EmployeeTypesListManager();

                        // Setup event listeners
                        setTimeout(() => {
                            // Create button
                            const createBtn = document.querySelector('.employee-type-create-btn');
                            if (createBtn) {
                                createBtn.addEventListener('click', (e) => {
                                    e.preventDefault();
                                    sessionStorage.removeItem('editEmployeeTypeId'); // Clear edit mode
                                    updatePageContent('employee-type-create');
                                });
                            }

                            // Fetch button
                            const fetchBtn = document.querySelector('.filters-section .btn-primary');
                            if (fetchBtn) {
                                fetchBtn.addEventListener('click', () => {
                                    window.employeeTypesManager.currentPage = 1;
                                    window.employeeTypesManager.loadEmployeeTypes();
                                });
                            }

                            // Clear button
                            const clearBtn = document.querySelector('.filters-section .btn-outline:nth-child(2)');
                            if (clearBtn) {
                                clearBtn.addEventListener('click', () => {
                                    const searchInput = document.querySelector('.filters-section input');
                                    const statusSelect = document.querySelector('.filters-section select');

                                    if (searchInput) searchInput.value = '';
                                    if (statusSelect) statusSelect.value = 'Active';

                                    window.employeeTypesManager.currentPage = 1;
                                    window.employeeTypesManager.loadEmployeeTypes();
                                });
                            }

                            // Search input (on Enter key)
                            const searchInput = document.querySelector('.filters-section input');
                            if (searchInput) {
                                searchInput.addEventListener('keyup', (e) => {
                                    if (e.key === 'Enter') {
                                        window.employeeTypesManager.currentPage = 1;
                                        window.employeeTypesManager.loadEmployeeTypes();
                                    }
                                });
                            }

                            // Status select change
                            const statusSelect = document.querySelector('.filters-section select');
                            if (statusSelect) {
                                statusSelect.addEventListener('change', () => {
                                    window.employeeTypesManager.currentPage = 1;
                                    window.employeeTypesManager.loadEmployeeTypes();
                                });
                            }

                            // Page size select
                            const pageSizeSelect = document.querySelector('.pagination select');
                            if (pageSizeSelect) {
                                pageSizeSelect.addEventListener('change', (e) => {
                                    window.employeeTypesManager.pageSize = parseInt(e.target.value);
                                    window.employeeTypesManager.currentPage = 1;
                                    window.employeeTypesManager.loadEmployeeTypes();
                                });
                            }

                            // Previous button
                            const prevBtn = document.querySelector('.pagination-controls button:first-child');
                            if (prevBtn) {
                                prevBtn.addEventListener('click', () => {
                                    if (window.employeeTypesManager.currentPage > 1) {
                                        window.employeeTypesManager.currentPage--;
                                        window.employeeTypesManager.loadEmployeeTypes();
                                    }
                                });
                            }

                            // Next button
                            const nextBtn = document.querySelector('.pagination-controls button:last-child');
                            if (nextBtn) {
                                nextBtn.addEventListener('click', () => {
                                    if (window.employeeTypesManager.currentPage < window.employeeTypesManager.totalPages) {
                                        window.employeeTypesManager.currentPage++;
                                        window.employeeTypesManager.loadEmployeeTypes();
                                    }
                                });
                            }

                            // Refresh button (sync icon)
                            const refreshBtn = document.querySelector('.action-buttons .btn-outline:first-child');
                            if (refreshBtn) {
                                refreshBtn.addEventListener('click', () => {
                                    window.employeeTypesManager.loadEmployeeTypes();
                                    showStatusMessage('ðŸ”„ Employee types list refreshed', 'info');
                                });
                            }

                            // Load initial data
                            window.employeeTypesManager.loadEmployeeTypes();

                        }, 300);
                    }
                }

                // âœ… Call on page load
                document.addEventListener('DOMContentLoaded', function () {
                    setTimeout(initEmployeeTypesList, 500);
                });

                // âœ… Call on hash change
                window.addEventListener('hashchange', function () {
                    setTimeout(initEmployeeTypesList, 300);
                });
                // ============= LOAN TYPE FUNCTIONS =============

                // Initialize loan type create form
                function initLoanTypeCreateForm() {
                    console.log('ðŸ’° Initializing loan type create form...');

                    // Setup event listeners
                    setTimeout(() => {
                        // Save button
                        const saveBtn = document.querySelector('#save-loan-type-btn');
                        if (saveBtn) {
                            saveBtn.addEventListener('click', saveLoanType);
                        }

                        // Back button
                        const backBtn = document.querySelector('.loan-back-btn');
                        if (backBtn) {
                            backBtn.addEventListener('click', () => {
                                updatePageContent('loan-types-list');
                            });
                        }

                        // Real-time validation for loan code
                        const codeInput = document.querySelector('#loan-code');
                        if (codeInput) {
                            codeInput.addEventListener('blur', async function () {
                                const code = this.value.trim().toUpperCase();
                                if (code) {
                                    await checkLoanCodeExists(code);
                                }
                            });
                        }

                        // Auto-uppercase loan code
                        const loanCodeInput = document.querySelector('#loan-code');
                        if (loanCodeInput) {
                            loanCodeInput.addEventListener('input', function () {
                                this.value = this.value.toUpperCase();
                            });
                        }

                    }, 100);
                }

                // Check if loan code exists
                async function checkLoanCodeExists(code) {
                    try {
                        if (!code.trim()) return false;

                        const response = await fetch(`/api/loan-types/check-code/${encodeURIComponent(code)}`);

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        const errorDiv = document.querySelector('#loan-code-error');
                        if (errorDiv) {
                            if (result.exists) {
                                errorDiv.textContent = 'âŒ This loan code already exists';
                                errorDiv.style.display = 'block';
                                document.querySelector('#loan-code').style.borderColor = '#ef4444';
                                return true;
                            } else {
                                errorDiv.textContent = 'âœ… Code is available';
                                errorDiv.style.color = '#10b981';
                                errorDiv.style.display = 'block';
                                document.querySelector('#loan-code').style.borderColor = '#10b981';
                                return false;
                            }
                        }

                    } catch (error) {
                        console.error('Code check error:', error);
                        return false;
                    }
                }

                // Save loan type function
                async function saveLoanType() {
                    console.log('ðŸ’¾ Saving loan type...');

                    // Get form elements
                    const saveBtn = document.querySelector('#save-loan-type-btn');
                    const loanCode = document.querySelector('#loan-code').value.trim().toUpperCase();
                    const description = document.querySelector('#loan-description').value.trim();

                    // Clear previous errors
                    const errorDiv = document.querySelector('#loan-code-error');
                    if (errorDiv) {
                        errorDiv.style.display = 'none';
                    }

                    // Validation
                    const errors = [];

                    if (!loanCode) {
                        errors.push('Loan code is required');
                        document.querySelector('#loan-code').style.borderColor = '#ef4444';
                    } else if (loanCode.length > 20) {
                        errors.push('Loan code must be 20 characters or less');
                        document.querySelector('#loan-code').style.borderColor = '#ef4444';
                    }

                    if (!description) {
                        errors.push('Description is required');
                        document.querySelector('#loan-description').style.borderColor = '#ef4444';
                    } else if (description.length > 255) {
                        errors.push('Description must be 255 characters or less');
                        document.querySelector('#loan-description').style.borderColor = '#ef4444';
                    }

                    if (errors.length > 0) {
                        showStatusMessage('âŒ ' + errors.join(', '), 'error');
                        return;
                    }

                    try {
                        // Show loading
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';
                            saveBtn.disabled = true;
                        }

                        // Check if code exists
                        const codeExists = await checkLoanCodeExists(loanCode);
                        if (codeExists) {
                            showStatusMessage('âŒ Loan code already exists', 'error');
                            if (saveBtn) {
                                saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                                saveBtn.disabled = false;
                            }
                            return;
                        }

                        // Prepare loan type data
                        const loanTypeData = {
                            loan_code: loanCode,
                            description: description,
                            is_active: document.querySelector('#loan-is-active').checked,
                            created_by: 1 // Get from session
                        };

                        console.log('ðŸ“¤ Saving loan type:', loanTypeData);

                        // Send to API
                        const response = await fetch('/api/loan-types', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(loanTypeData)
                        });

                        const result = await response.json();

                        if (response.ok && result.success) {
                            showStatusMessage(`âœ… Loan type "${description}" saved successfully!`, 'success');

                            // Reset form and go back after 1.5 seconds
                            setTimeout(() => {
                                updatePageContent('loan-types');
                            }, 1500);
                        } else {
                            throw new Error(result.error || 'Failed to save loan type');
                        }

                    } catch (error) {
                        console.error('âŒ Save loan type error:', error);
                        showStatusMessage('âŒ ' + error.message, 'error');

                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                            saveBtn.disabled = false;
                        }
                    }
                }

                // Call init when loan type create page loads
                document.addEventListener('DOMContentLoaded', function () {
                    if (window.location.hash === '#loan-create') {
                        setTimeout(initLoanTypeCreateForm, 100);
                    }
                });

                // Also call on hash change
                window.addEventListener('hashchange', function () {
                    if (window.location.hash === '#loan-create') {
                        setTimeout(initLoanTypeCreateForm, 300);
                    }
                });
                // ============= LOAN TYPES LIST MANAGER =============
                class LoanTypesListManager {
                    constructor() {
                        this.baseURL = 'http://localhost:5000/api';
                        this.currentPage = 1;
                        this.pageSize = 20;
                        this.searchTerm = '';
                        this.statusFilter = 'all';
                        console.log('ðŸ’° LoanTypesListManager initialized');
                    }

                    // âœ… Load loan types data
                    async loadLoanTypes() {
                        console.log('ðŸ“¥ Loading loan types...');

                        try {
                            const searchInput = document.querySelector('.filters-section input[placeholder*="Search"]');
                            const statusSelect = document.querySelector('.filters-section select');

                            this.searchTerm = searchInput ? searchInput.value : '';
                            this.statusFilter = statusSelect ? statusSelect.value : 'all';

                            // Convert status filter to API format
                            let statusParam = 'all';
                            if (this.statusFilter === 'Active') statusParam = 'active';
                            if (this.statusFilter === 'Inactive') statusParam = 'inactive';

                            const url = `${this.baseURL}/loan-types?page=${this.currentPage}&limit=${this.pageSize}&search=${encodeURIComponent(this.searchTerm)}&status=${statusParam}`;
                            console.log('ðŸŒ Fetching:', url);

                            const response = await fetch(url);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.renderLoanTypes(result.data);
                                this.updatePagination(result.pagination);
                                this.updateTableInfo(result.data.length, result.pagination.total);
                            } else {
                                throw new Error(result.error || 'API failed');
                            }

                        } catch (error) {
                            console.error('âŒ Load error:', error);
                            this.showError(`Failed to load loan types: ${error.message}`);
                        }
                    }

                    // âœ… Render loan types in table
                    renderLoanTypes(loanTypes) {
                        const tbody = document.querySelector('.loan-types-table tbody');
                        if (!tbody) {
                            console.error('âŒ Table body not found!');
                            return;
                        }

                        if (loanTypes.length === 0) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="5" style="text-align: center; padding: 40px; color: #64748b;">
                        <i class="fas fa-file-invoice-dollar" style="font-size: 24px; opacity: 0.5;"></i>
                        <p style="margin-top: 10px;">No loan types found.</p>
                        <button class="loan-type-create-btn" 
                                style="margin-top: 10px; padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: inline-flex; align-items: center; gap: 5px;">
                            <i class="fas fa-plus"></i> Add First Loan Type
                        </button>
                    </td>
                </tr>
            `;

                            // Add event listener to the button
                            setTimeout(() => {
                                const addBtn = tbody.querySelector('.loan-type-create-btn');
                                if (addBtn) {
                                    addBtn.addEventListener('click', () => updatePageContent('loan-create'));
                                }
                            }, 100);

                            return;
                        }

                        tbody.innerHTML = '';

                        loanTypes.forEach(loan => {
                            const row = document.createElement('tr');

                            // Format date
                            const createdDate = loan.created_at
                                ? new Date(loan.created_at).toLocaleDateString('en-GB', {
                                    day: '2-digit',
                                    month: 'short',
                                    year: 'numeric'
                                })
                                : 'N/A';

                            row.innerHTML = `
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; font-weight: 600; color: var(--dark);">
                  
                        <div>
                            <div style="color: #2563eb; font-weight: 600;">${loan.loan_code || '-'}</div>
                            <div style="font-size: 11px; color: #64748b; margin-top: 2px;">
                                ID: ${loan.loan_type_id}
                            </div>
                        </div>
                    </div>
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;">
                    <div style="font-weight: 500; color: var(--dark);">${loan.description || '-'}</div>
                    <div style="font-size: 12px; color: #64748b; margin-top: 3px; max-width: 300px;">
                        <i class="fas fa-info-circle" style="margin-right: 4px;"></i>
                        Used for ${this.getLoanTypeUsage(loan.loan_code)}
                    </div>
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;">
                    ${loan.is_active ?
                                    `<span style="background: #d1fae5; color: #065f46; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; display: inline-flex; align-items: center; gap: 4px;">
                            <i class="fas fa-check-circle"></i> Active
                        </span>` :
                                    `<span style="background: #fef2f2; color: #dc2626; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; display: inline-flex; align-items: center; gap: 4px;">
                            <i class="fas fa-times-circle"></i> Inactive
                        </span>`
                                }
                    ${this.getLoanCategoryBadge(loan.loan_code)}
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; color: #64748b; font-size: 13px;">
                    ${createdDate}
                    ${loan.created_by ? `
                        <div style="font-size: 11px; color: #94a3b8; margin-top: 2px;">
                            <i class="fas fa-user"></i> Created by User ID: ${loan.created_by}
                        </div>
                    ` : ''}
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                    <div style="display: flex; gap: 8px; justify-content: center;">
                        <!-- ðŸ‘ï¸ VIEW BUTTON -->
                        <button class="view-loan-type-btn" 
                                data-id="${loan.loan_type_id}"
                                data-code="${loan.loan_code}"
                                data-name="${loan.description}"
                                style="background: none; border: none; cursor: pointer; color: #10b981; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#d1fae5'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="View Details">
                            <i class="fas fa-eye" style="font-size: 14px;"></i>
                        </button>
                        
                        <!-- âœï¸ EDIT BUTTON -->
                        <button class="edit-loan-type-btn" 
                                data-id="${loan.loan_type_id}"
                                data-code="${loan.loan_code}"
                                data-name="${loan.description}"
                                style="background: none; border: none; cursor: pointer; color: #2563eb; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#dbeafe'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Edit">
                            <i class="fas fa-edit" style="font-size: 14px;"></i>
                        </button>
                        
                        <!-- ðŸ—‘ï¸ DELETE BUTTON -->
                        <button class="delete-loan-type-btn" 
                                data-id="${loan.loan_type_id}"
                                data-code="${loan.loan_code}"
                                data-name="${loan.description}"
                                style="background: none; border: none; cursor: pointer; color: #ef4444; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#fee2e2'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Delete">
                            <i class="fas fa-trash" style="font-size: 14px;"></i>
                        </button>
                    </div>
                </td>
            `;

                            tbody.appendChild(row);
                        });

                        // Add event listeners to buttons
                        this.setupRowButtons();
                    }

                    // âœ… Get loan type usage description
                    getLoanTypeUsage(loanCode) {
                        const usageMap = {
                            'PER': 'personal financing needs',
                            'HOM': 'home purchase or construction',
                            'CAR': 'vehicle purchase',
                            'EDU': 'education expenses',
                            'MED': 'medical emergencies',
                            'BUS': 'business expansion',
                            'GLD': 'gold-based loans',
                            'SML': 'small business requirements'
                        };

                        return usageMap[loanCode] || 'various loan purposes';
                    }

                    // âœ… Get loan category badge
                    getLoanCategoryBadge(loanCode) {
                        const categories = {
                            'PER': { color: '#3b82f6', text: 'Personal' },
                            'HOM': { color: '#ef4444', text: 'Property' },
                            'CAR': { color: '#10b981', text: 'Vehicle' },
                            'EDU': { color: '#8b5cf6', text: 'Education' },
                            'MED': { color: '#ec4899', text: 'Medical' },
                            'BUS': { color: '#f59e0b', text: 'Business' },
                            'GLD': { color: '#fbbf24', text: 'Gold' }
                        };

                        const category = categories[loanCode];
                        if (category) {
                            return `
                <div style="margin-top: 4px;">
                    <span style="background: ${category.color}15; color: ${category.color}; padding: 2px 6px; border-radius: 4px; font-size: 10px; font-weight: 600;">
                        ${category.text}
                    </span>
                </div>
            `;
                        }
                        return '';
                    }

                    // âœ… Setup button event listeners
                    setupRowButtons() {
                        // ðŸ‘ï¸ View buttons
                        document.querySelectorAll('.view-loan-type-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const loanId = btn.dataset.id;
                                const loanName = btn.dataset.name;
                                console.log('ðŸ‘ï¸ View loan type:', loanId, loanName);
                                this.viewLoanType(loanId);
                            });
                        });

                        // âœï¸ Edit buttons
                        document.querySelectorAll('.edit-loan-type-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const loanId = btn.dataset.id;
                                const loanName = btn.dataset.name;
                                console.log('âœï¸ Edit loan type:', loanId, loanName);
                                this.editLoanType(loanId);
                            });
                        });

                        // ðŸ—‘ï¸ Delete buttons
                        document.querySelectorAll('.delete-loan-type-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const loanId = btn.dataset.id;
                                const loanCode = btn.dataset.code;
                                const loanName = btn.dataset.name;
                                this.deleteLoanType(loanId, loanCode, loanName);
                            });
                        });
                    }

                    // âœ… View loan type details
                    async viewLoanType(loanId) {
                        console.log('ðŸ” Viewing loan type:', loanId);

                        try {
                            showStatusMessage('Loading loan type details...', 'info');

                            const response = await fetch(`${this.baseURL}/loan-types/${loanId}`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.showLoanTypeViewPage(result.data);
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('View error:', error);
                            showStatusMessage(`âŒ Failed to load: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Show loan type view as full page
                    showLoanTypeViewPage(loanType) {
                        // Format created date
                        const createdDate = loanType.created_at ?
                            new Date(loanType.created_at).toLocaleDateString('en-GB', {
                                day: '2-digit',
                                month: 'short',
                                year: 'numeric',
                                hour: '2-digit',
                                minute: '2-digit'
                            }) : 'N/A';

                        const updatedDate = loanType.updated_at ?
                            new Date(loanType.updated_at).toLocaleDateString('en-GB', {
                                day: '2-digit',
                                month: 'short',
                                year: 'numeric',
                                hour: '2-digit',
                                minute: '2-digit'
                            }) : 'Not updated yet';

                        const viewPageHTML = `
            <div class="loan-type-view-page">
                <!-- Header Actions -->
                <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary edit-loan-type-from-view-btn" 
                                data-id="${loanType.loan_type_id}"
                                style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-edit"></i> Edit Loan Type
                        </button>
                        <button class="btn btn-primary loan-type-view-back-btn" 
                                style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-arrow-left"></i> Back to List
                        </button>
                    </div>
                    <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                        <i class="fas fa-eye"></i> Viewing Loan Type: ${loanType.loan_code}
                    </div>
                </div>

                <!-- Main Content Section -->
                <div class="form-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                    <!-- Loan Code Header -->
                    <div style="text-align: center; margin-bottom: 30px;">
                        <div style="display: inline-flex; align-items: center; gap: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 15px 30px; border-radius: 12px;">
                            <div style="width: 60px; height: 60px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-file-invoice-dollar" style="font-size: 28px; color: #667eea;"></i>
                            </div>
                            <div style="text-align: left;">
                                <div style="font-size: 24px; font-weight: 700; color: white;">${loanType.loan_code}</div>
                                <div style="font-size: 16px; color: rgba(255,255,255,0.9);">${loanType.description}</div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                        <!-- Left Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 20px;">
                                <!-- Loan Details -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;">
                                        Loan Details
                                    </label>
                                    <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                                            <div style="font-size: 13px; color: #64748b;">Loan Code</div>
                                            <div style="font-size: 15px; font-weight: 600; color: var(--dark); font-family: 'Courier New', monospace;">
                                                ${loanType.loan_code}
                                            </div>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                                            <div style="font-size: 13px; color: #64748b;">Description</div>
                                            <div style="font-size: 15px; font-weight: 600; color: var(--dark); max-width: 200px; text-align: right;">
                                                ${loanType.description}
                                            </div>
                                        </div>
                                        <div style="display: flex; justify-content: space-between;">
                                            <div style="font-size: 13px; color: #64748b;">Loan ID</div>
                                            <div style="font-size: 14px; font-weight: 600; color: #64748b;">
                                                #${loanType.loan_type_id}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Status Information -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;">
                                        Status Information
                                    </label>
                                    <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                            <div>
                                                <div style="font-size: 13px; color: #64748b;">Active Status</div>
                                                <div style="font-size: 11px; color: #94a3b8;">Available for new applications</div>
                                            </div>
                                            <div>
                                                ${loanType.is_active ?
                                `<span style="background: #d1fae5; color: #065f46; padding: 8px 16px; border-radius: 8px; font-size: 13px; font-weight: 600; display: inline-flex; align-items: center; gap: 8px;">
                                                        <i class="fas fa-check-circle"></i> Active
                                                    </span>` :
                                `<span style="background: #fef2f2; color: #dc2626; padding: 8px 16px; border-radius: 8px; font-size: 13px; font-weight: 600; display: inline-flex; align-items: center; gap: 8px;">
                                                        <i class="fas fa-times-circle"></i> Inactive
                                                    </span>`
                            }
                                            </div>
                                        </div>
                                        <div style="display: flex; justify-content: space-between;">
                                            <div style="font-size: 13px; color: #64748b;">Category</div>
                                            <div style="font-size: 13px; font-weight: 600; color: ${this.getLoanCategoryBadge(loanType.loan_code) ? '#3b82f6' : '#64748b'};">
                                                ${this.getLoanCategoryText(loanType.loan_code)}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 20px;">
                                <!-- Audit Information -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;">
                                        Audit Information
                                    </label>
                                    <div style="background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                                            <div style="font-size: 13px; color: #64748b;">Created Date</div>
                                            <div style="font-size: 14px; font-weight: 500; color: var(--dark);">
                                                ${createdDate}
                                            </div>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                                            <div style="font-size: 13px; color: #64748b;">Last Updated</div>
                                            <div style="font-size: 14px; font-weight: 500; color: var(--dark);">
                                                ${updatedDate}
                                            </div>
                                        </div>
                                        <div style="display: flex; justify-content: space-between;">
                                            <div style="font-size: 13px; color: #64748b;">Created By</div>
                                            <div style="font-size: 14px; font-weight: 500; color: var(--dark);">
                                                User ID: ${loanType.created_by || 'N/A'}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Usage Information -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px;">
                                        Usage Information
                                    </label>
                                    <div style="background: #f0f9ff; padding: 20px; border-radius: 8px; border: 1px solid #bae6fd;">
                                        <div style="display: flex; align-items: flex-start; gap: 10px; margin-bottom: 15px;">
                                            <i class="fas fa-info-circle" style="color: #0ea5e9; margin-top: 2px;"></i>
                                            <div style="font-size: 13px; color: #0369a1;">
                                                This loan type is used for ${this.getLoanTypeUsage(loanType.loan_code)}.
                                            </div>
                                        </div>
                                        <div style="font-size: 12px; color: #64748b;">
                                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                                <i class="fas fa-check" style="color: #10b981; font-size: 10px;"></i>
                                                <span>Available for new loan applications</span>
                                            </div>
                                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                                <i class="fas fa-check" style="color: #10b981; font-size: 10px;"></i>
                                                <span>Appears in loan type dropdowns</span>
                                            </div>
                                            <div style="display: flex; align-items: center; gap: 8px;">
                                                <i class="fas fa-check" style="color: #10b981; font-size: 10px;"></i>
                                                <span>Can be assigned to employees</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                    Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
                </div>
            </div>
        `;

                        // Update page content
                        const pageContent = document.getElementById('page-content');
                        if (pageContent) {
                            pageContent.innerHTML = viewPageHTML;

                            // Add event listeners
                            setTimeout(() => {
                                // Back button
                                const backBtn = document.querySelector('.loan-type-view-back-btn');
                                if (backBtn) {
                                    backBtn.addEventListener('click', () => {
                                        updatePageContent('loan-types');

                                        // Reload loan types list after a short delay
                                        setTimeout(() => {
                                            if (window.loanTypesManager && window.loanTypesManager.loadLoanTypes) {
                                                console.log('ðŸ”„ Reloading loan types list from view page...');
                                                window.loanTypesManager.loadLoanTypes();
                                            }
                                        }, 500);
                                    });
                                }

                                // Edit button
                                const editBtn = document.querySelector('.edit-loan-type-from-view-btn');
                                if (editBtn) {
                                    editBtn.addEventListener('click', () => {
                                        // Call the editLoanType method
                                        if (window.loanTypesManager && window.loanTypesManager.editLoanType) {
                                            window.loanTypesManager.editLoanType(loanType.loan_type_id);
                                        } else {
                                            // Fallback: Navigate to edit page
                                            sessionStorage.setItem('editLoanTypeId', loanType.loan_type_id);
                                            updatePageContent('loan-type-edit');
                                        }
                                    });
                                }

                            }, 100);
                        } else {
                            console.error('âŒ Page content element not found!');
                            alert('View page loaded. Page content element not found.');
                        }
                    }

                    // âœ… Get loan category text
                    getLoanCategoryText(loanCode) {
                        const categories = {
                            'PER': 'Personal Loan',
                            'HOM': 'Home Loan',
                            'CAR': 'Car Loan',
                            'EDU': 'Education Loan',
                            'MED': 'Medical Loan',
                            'BUS': 'Business Loan',
                            'GLD': 'Gold Loan'
                        };
                        return categories[loanCode] || 'General Loan';
                    }

                    // âœ… Edit loan type
                    async editLoanType(loanId) {
                        console.log('âœï¸ Edit loan type:', loanId);

                        try {
                            showStatusMessage('Loading loan type details...', 'info');

                            const response = await fetch(`${this.baseURL}/loan-types/${loanId}`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.showLoanTypeEditForm(result.data);
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('Edit error:', error);
                            showStatusMessage(`âŒ Failed to load loan type: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Show loan type edit form
                    showLoanTypeEditForm(loanType) {
                        console.log('ðŸŽ¯ Showing loan type edit form for:', loanType.loan_code);

                        const editFormHTML = `
            <div class="loan-type-edit-form">
                <!-- Header Actions -->
                <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary update-loan-type-btn" 
                                data-loan-id="${loanType.loan_type_id}"
                                style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-save"></i> Update Loan Type
                        </button>
                        <button class="btn btn-primary loan-type-edit-back-btn" 
                                style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-arrow-left"></i> Back to List
                        </button>
                    </div>
                    <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                        <i class="fas fa-edit"></i> Editing Loan Type: ${loanType.loan_code}
                    </div>
                </div>

                <!-- MAIN FORM CONTENT -->
                <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <!-- Left Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <!-- Loan Code -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Loan Code*
                                    </label>
                                    <input type="text" id="edit-loan-code" value="${loanType.loan_code || ''}" 
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px;" readonly>
                                    <div style="font-size: 10px; color: #64748b; margin-top: 4px;">(Code cannot be changed)</div>
                                </div>
                                
                                <!-- Description -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Description*
                                    </label>
                                    <input type="text" id="edit-loan-description" value="${loanType.description || ''}" 
                                           placeholder="Enter loan type description"
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px; margin-top: 40px;">
                                <!-- Is Active - Checkbox -->
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" id="edit-loan-is-active" ${loanType.is_active ? 'checked' : ''} 
                                               style="width: 16px; height: 16px; cursor: pointer;">
                                        Is Active
                                    </label>
                                    <div style="font-size: 10px; color: #64748b; margin-top: 4px;">
                                        Active loan types will appear in dropdown selections
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Info Box -->
                <div style="background: #f0f9ff; padding: 15px; border-radius: 5px; margin-top: 20px; border: 1px solid #bae6fd;">
                    <div style="display: flex; align-items: flex-start; gap: 10px;">
                        <i class="fas fa-info-circle" style="color: #0ea5e9; margin-top: 2px;"></i>
                        <div>
                            <div style="font-weight: 600; color: #0369a1; font-size: 12px; margin-bottom: 5px;">Editing Guidelines:</div>
                            <ul style="margin: 0; padding-left: 20px; color: #64748b; font-size: 12px;">
                                <li><strong>Loan Code</strong> - Cannot be changed once created</li>
                                <li><strong>Description</strong> - Should clearly describe the loan purpose</li>
                                <li><strong>Active Status</strong> - Inactive types won't appear in application forms</li>
                                <li><strong>Impact</strong> - Changes affect all future loan applications</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                    Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
                </div>
            </div>
        `;

                        // Update page content
                        const pageContent = document.getElementById('page-content');
                        if (pageContent) {
                            pageContent.innerHTML = editFormHTML;

                            // Add event listeners
                            setTimeout(() => {
                                // Back button
                                const backBtn = document.querySelector('.loan-type-edit-back-btn');
                                if (backBtn) {
                                    backBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        console.log('ðŸ”™ Back button clicked from edit form');

                                        // Go back to loan types list
                                        updatePageContent('loan-types');

                                        // Force reload loan types with a slight delay
                                        setTimeout(() => {
                                            console.log('ðŸ”„ Reloading loan types list...');
                                            if (window.loanTypesManager && window.loanTypesManager.loadLoanTypes) {
                                                window.loanTypesManager.loadLoanTypes();
                                            }
                                        }, 300);
                                    });
                                }

                                // Update button
                                const updateBtn = document.querySelector('.update-loan-type-btn');
                                if (updateBtn) {
                                    updateBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        this.updateLoanType(loanType.loan_type_id);
                                    });
                                }

                            }, 100);

                            showStatusMessage('âœ… Loan type loaded for editing', 'success');
                        } else {
                            console.error('âŒ Page content element not found!');
                            alert('Edit form loaded. Page content element not found.');
                        }
                    }

                    // âœ… Update loan type function
                    async updateLoanType(loanId) {
                        console.log('ðŸ’¾ Updating loan type:', loanId);

                        const updateBtn = document.querySelector('.update-loan-type-btn');
                        if (updateBtn) {
                            updateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Updating...';
                            updateBtn.disabled = true;
                        }

                        try {
                            // Collect form data
                            const updateData = {
                                description: document.getElementById('edit-loan-description').value.trim(),
                                is_active: document.getElementById('edit-loan-is-active').checked
                            };

                            console.log('ðŸ“¤ Update data:', updateData);

                            // Validation
                            const errors = [];

                            if (!updateData.description) {
                                errors.push('Description is required');
                                document.getElementById('edit-loan-description').style.borderColor = '#ef4444';
                            }

                            if (errors.length > 0) {
                                showStatusMessage('âŒ ' + errors.join(', '), 'error');

                                if (updateBtn) {
                                    updateBtn.innerHTML = '<i class="fas fa-save"></i> Update Loan Type';
                                    updateBtn.disabled = false;
                                }
                                return;
                            }

                            console.log('ðŸ“¤ Sending loan type update:', updateData);

                            // Send PUT request
                            const response = await fetch(`${this.baseURL}/loan-types/${loanId}`, {
                                method: 'PUT',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify(updateData)
                            });

                            const result = await response.json();

                            if (!response.ok) {
                                throw new Error(result.error || `HTTP ${response.status}`);
                            }

                            if (result.success) {
                                showStatusMessage('âœ… Loan type updated successfully!', 'success');

                                // Go back to loan types list and reload
                                updatePageContent('loan-types');

                                setTimeout(() => {
                                    if (window.loanTypesManager && window.loanTypesManager.loadLoanTypes) {
                                        console.log('ðŸ”„ Reloading loan types list after update...');
                                        window.loanTypesManager.loadLoanTypes();
                                    }
                                }, 300);

                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('âŒ Update error:', error);
                            showStatusMessage(`âŒ Update failed: ${error.message}`, 'error');

                            if (updateBtn) {
                                updateBtn.innerHTML = '<i class="fas fa-save"></i> Update Loan Type';
                                updateBtn.disabled = false;
                            }
                        }
                    }

                    // âœ… Delete loan type with confirmation
                    async deleteLoanType(loanId, loanCode, loanName) {
                        if (!confirm(`ðŸ—‘ï¸ Delete loan type "${loanName}" (${loanCode})?\n\nâš ï¸ Warning: This action cannot be undone!\n\nExisting loans using this type may be affected.`)) {
                            return;
                        }

                        try {
                            console.log('ðŸ—‘ï¸ Deleting loan type:', loanId);

                            const response = await fetch(`${this.baseURL}/loan-types/${loanId}`, {
                                method: 'DELETE'
                            });

                            if (!response.ok) {
                                const errorText = await response.text();
                                throw new Error(`Server error ${response.status}: ${errorText.substring(0, 100)}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                showStatusMessage(`âœ… Loan type "${loanName}" deleted successfully!`, 'success');
                                this.loadLoanTypes(); // Refresh list
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('âŒ Delete error:', error);
                            showStatusMessage(`Delete failed: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Update pagination info
                    updatePagination(pagination) {
                        this.totalPages = pagination.totalPages;

                        const infoDiv = document.querySelector('.pagination-info');
                        if (infoDiv && pagination) {
                            const start = ((this.currentPage - 1) * this.pageSize) + 1;
                            const end = Math.min(this.currentPage * this.pageSize, pagination.total);

                            infoDiv.textContent = `Showing ${start} to ${end} of ${pagination.total} entries`;
                        }

                        // Update page buttons
                        this.updatePageButtons();
                    }

                    // âœ… Update page buttons state
                    updatePageButtons() {
                        const prevBtn = document.querySelector('.pagination-controls button:first-child');
                        const nextBtn = document.querySelector('.pagination-controls button:last-child');
                        const currentBtn = document.querySelector('.pagination-controls .btn-primary');

                        if (prevBtn) {
                            prevBtn.disabled = this.currentPage === 1;
                            prevBtn.style.opacity = this.currentPage === 1 ? '0.5' : '1';
                            prevBtn.style.cursor = this.currentPage === 1 ? 'not-allowed' : 'pointer';
                        }

                        if (nextBtn) {
                            nextBtn.disabled = this.currentPage >= this.totalPages;
                            nextBtn.style.opacity = this.currentPage >= this.totalPages ? '0.5' : '1';
                            nextBtn.style.cursor = this.currentPage >= this.totalPages ? 'not-allowed' : 'pointer';
                        }

                        // Update current page button
                        if (currentBtn) {
                            currentBtn.textContent = this.currentPage;
                        }
                    }

                    // âœ… Update table info
                    updateTableInfo(currentCount, total) {
                        console.log(`ðŸ“Š Displaying ${currentCount} of ${total} loan types`);
                    }

                    // âœ… Show error message
                    showError(message) {
                        const tbody = document.querySelector('.loan-types-table tbody');
                        if (tbody) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="5" style="text-align: center; padding: 40px; color: #ef4444;">
                        <i class="fas fa-exclamation-triangle"></i>
                        <p style="margin-top: 10px;">${message}</p>
                        <button onclick="window.location.reload()" 
                                style="margin-top: 10px; padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            Retry
                        </button>
                    </td>
                </tr>
            `;
                        }
                    }
                }

                // âœ… Initialize loan types list page
                function initLoanTypesList() {
                    const isLoanTypesPage = document.querySelector('.loan-types-management') ||
                        window.location.hash === '#loan-types';

                    if (isLoanTypesPage) {
                        console.log('ðŸ’° Loan types management page detected');

                        // Create manager instance
                        window.loanTypesManager = new LoanTypesListManager();

                        // Setup event listeners
                        setTimeout(() => {
                            // Create button
                            const createBtn = document.querySelector('.loan-type-create-btn');
                            if (createBtn) {
                                createBtn.addEventListener('click', (e) => {
                                    e.preventDefault();
                                    sessionStorage.removeItem('editLoanTypeId'); // Clear edit mode
                                    updatePageContent('loan-create');
                                });
                            }

                            // Fetch button
                            const fetchBtn = document.querySelector('.filters-section .btn-primary');
                            if (fetchBtn) {
                                fetchBtn.addEventListener('click', () => {
                                    window.loanTypesManager.currentPage = 1;
                                    window.loanTypesManager.loadLoanTypes();
                                });
                            }

                            // Clear button
                            const clearBtn = document.querySelector('.filters-section .btn-outline:nth-child(2)');
                            if (clearBtn) {
                                clearBtn.addEventListener('click', () => {
                                    const searchInput = document.querySelector('.filters-section input');
                                    const statusSelect = document.querySelector('.filters-section select');

                                    if (searchInput) searchInput.value = '';
                                    if (statusSelect) statusSelect.value = 'Active';

                                    window.loanTypesManager.currentPage = 1;
                                    window.loanTypesManager.loadLoanTypes();
                                });
                            }

                            // Search input (on Enter key)
                            const searchInput = document.querySelector('.filters-section input');
                            if (searchInput) {
                                searchInput.addEventListener('keyup', (e) => {
                                    if (e.key === 'Enter') {
                                        window.loanTypesManager.currentPage = 1;
                                        window.loanTypesManager.loadLoanTypes();
                                    }
                                });
                            }

                            // Status select change
                            const statusSelect = document.querySelector('.filters-section select');
                            if (statusSelect) {
                                statusSelect.addEventListener('change', () => {
                                    window.loanTypesManager.currentPage = 1;
                                    window.loanTypesManager.loadLoanTypes();
                                });
                            }

                            // Page size select
                            const pageSizeSelect = document.querySelector('.pagination select');
                            if (pageSizeSelect) {
                                pageSizeSelect.addEventListener('change', (e) => {
                                    window.loanTypesManager.pageSize = parseInt(e.target.value);
                                    window.loanTypesManager.currentPage = 1;
                                    window.loanTypesManager.loadLoanTypes();
                                });
                            }

                            // Previous button
                            const prevBtn = document.querySelector('.pagination-controls button:first-child');
                            if (prevBtn) {
                                prevBtn.addEventListener('click', () => {
                                    if (window.loanTypesManager.currentPage > 1) {
                                        window.loanTypesManager.currentPage--;
                                        window.loanTypesManager.loadLoanTypes();
                                    }
                                });
                            }

                            // Next button
                            const nextBtn = document.querySelector('.pagination-controls button:last-child');
                            if (nextBtn) {
                                nextBtn.addEventListener('click', () => {
                                    if (window.loanTypesManager.currentPage < window.loanTypesManager.totalPages) {
                                        window.loanTypesManager.currentPage++;
                                        window.loanTypesManager.loadLoanTypes();
                                    }
                                });
                            }

                            // Refresh button (sync icon)
                            const refreshBtn = document.querySelector('.action-buttons .btn-outline:first-child');
                            if (refreshBtn) {
                                refreshBtn.addEventListener('click', () => {
                                    window.loanTypesManager.loadLoanTypes();
                                    showStatusMessage('ðŸ”„ Loan types list refreshed', 'info');
                                });
                            }

                            // Load initial data
                            window.loanTypesManager.loadLoanTypes();

                        }, 300);
                    }
                }

                // âœ… Call on page load
                document.addEventListener('DOMContentLoaded', function () {
                    setTimeout(initLoanTypesList, 500);
                });

                // âœ… Call on hash change
                window.addEventListener('hashchange', function () {
                    setTimeout(initLoanTypesList, 300);
                });
                // ============= PUBLIC HOLIDAY FUNCTIONS =============

                // Initialize holiday create form
                function initHolidayCreateForm() {
                    console.log('ðŸŽ‰ Initializing holiday create form...');

                    // Set current year
                    const yearDisplay = document.getElementById('holiday-year-display');
                    if (yearDisplay) {
                        yearDisplay.textContent = new Date().getFullYear();
                    }

                    // Set default dates to today
                    const today = new Date().toISOString().split('T')[0];
                    const actualDateInput = document.getElementById('holiday-actual-date');
                    const leaveDateInput = document.getElementById('holiday-leave-date');

                    if (actualDateInput) actualDateInput.value = today;
                    if (leaveDateInput) leaveDateInput.value = today;

                    // Load locations for dropdown
                    loadHolidayLocations();

                    // Setup event listeners
                    setTimeout(() => {
                        // Save button
                        const saveBtn = document.getElementById('save-holiday-btn');
                        if (saveBtn) {
                            saveBtn.addEventListener('click', savePublicHoliday);
                        }

                        // Back button
                        const backBtn = document.querySelector('.public-holiday-back-btn');
                        if (backBtn) {
                            backBtn.addEventListener('click', () => {
                                updatePageContent('public-holidays-list');
                            });
                        }

                        // Real-time validation for holiday code
                        const codeInput = document.getElementById('holiday-code');
                        if (codeInput) {
                            codeInput.addEventListener('blur', async function () {
                                const code = this.value.trim();
                                if (code) {
                                    await checkHolidayCodeExists(code);
                                }
                            });
                        }

                        // Auto-update year display based on date
                        const dateInputs = ['holiday-actual-date', 'holiday-leave-date'];
                        dateInputs.forEach(id => {
                            const input = document.getElementById(id);
                            if (input) {
                                input.addEventListener('change', function () {
                                    if (this.value) {
                                        const year = new Date(this.value).getFullYear();
                                        const yearDisplay = document.getElementById('holiday-year-display');
                                        if (yearDisplay) {
                                            yearDisplay.textContent = year;
                                        }
                                    }
                                });
                            }
                        });

                    }, 100);
                }

                // Load locations for dropdown
                async function loadHolidayLocations() {
                    try {
                        const response = await fetch('/api/public-holidays/locations');

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        if (result.success && result.data) {
                            const locationSelect = document.getElementById('holiday-location');
                            if (locationSelect) {
                                // Clear existing options except first one
                                while (locationSelect.options.length > 1) {
                                    locationSelect.remove(1);
                                }

                                // Add location options
                                result.data.forEach(location => {
                                    const option = document.createElement('option');
                                    option.value = location.location_id;
                                    option.textContent = `${location.location_code} - ${location.location_name}`;
                                    locationSelect.appendChild(option);
                                });
                            }
                        }
                    } catch (error) {
                        console.error('âŒ Load locations error:', error);
                    }
                }

                // Check if holiday code exists
                async function checkHolidayCodeExists(code) {
                    try {
                        if (!code.trim()) return false;

                        const response = await fetch(`/api/public-holidays/check-code/${encodeURIComponent(code)}`);

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        const errorDiv = document.getElementById('holiday-code-error');
                        if (errorDiv) {
                            if (result.exists) {
                                errorDiv.textContent = 'âŒ This holiday code already exists';
                                errorDiv.style.display = 'block';
                                document.getElementById('holiday-code').style.borderColor = '#ef4444';
                                return true;
                            } else {
                                errorDiv.textContent = 'âœ… Code is available';
                                errorDiv.style.color = '#10b981';
                                errorDiv.style.display = 'block';
                                document.getElementById('holiday-code').style.borderColor = '#10b981';
                                return false;
                            }
                        }

                    } catch (error) {
                        console.error('Code check error:', error);
                        return false;
                    }
                }

                // Save public holiday
                async function savePublicHoliday() {
                    console.log('ðŸ’¾ Saving public holiday...');

                    // Get form elements
                    const saveBtn = document.getElementById('save-holiday-btn');
                    const holidayCode = document.getElementById('holiday-code').value.trim();
                    const description = document.getElementById('holiday-description').value.trim();
                    const actualDate = document.getElementById('holiday-actual-date').value;
                    const leaveDate = document.getElementById('holiday-leave-date').value;

                    // Clear previous errors
                    document.getElementById('holiday-code-error').style.display = 'none';

                    // Validation
                    const errors = [];

                    if (!holidayCode) {
                        errors.push('Holiday code is required');
                        document.getElementById('holiday-code').style.borderColor = '#ef4444';
                    }

                    if (!description) {
                        errors.push('Description is required');
                        document.getElementById('holiday-description').style.borderColor = '#ef4444';
                    }

                    if (!actualDate) {
                        errors.push('Actual date is required');
                        document.getElementById('holiday-actual-date').style.borderColor = '#ef4444';
                    }

                    if (!leaveDate) {
                        errors.push('Leave date is required');
                        document.getElementById('holiday-leave-date').style.borderColor = '#ef4444';
                    }

                    if (actualDate && leaveDate && new Date(leaveDate) < new Date(actualDate)) {
                        errors.push('Leave date cannot be before actual date');
                        document.getElementById('holiday-leave-date').style.borderColor = '#ef4444';
                    }

                    if (errors.length > 0) {
                        showStatusMessage('âŒ ' + errors.join(', '), 'error');
                        return;
                    }

                    try {
                        // Show loading
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';
                            saveBtn.disabled = true;
                        }

                        // Check if code exists
                        const codeExists = await checkHolidayCodeExists(holidayCode);
                        if (codeExists) {
                            showStatusMessage('âŒ Holiday code already exists', 'error');
                            if (saveBtn) {
                                saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                                saveBtn.disabled = false;
                            }
                            return;
                        }

                        // Prepare holiday data
                        const holidayData = {
                            holiday_code: holidayCode,
                            description: description,
                            actual_date: actualDate,
                            leave_date: leaveDate,
                            holiday_type: document.getElementById('holiday-type').value,
                            location_id: document.getElementById('holiday-location').value || null,
                            is_recurring: document.getElementById('holiday-is-recurring').checked,
                            is_national: document.getElementById('holiday-is-national').checked,
                            created_by: 1 // Get from session
                        };

                        console.log('ðŸ“¤ Saving holiday:', holidayData);

                        // Send to API
                        const response = await fetch('/api/public-holidays', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(holidayData)
                        });

                        const result = await response.json();

                        if (response.ok && result.success) {
                            showStatusMessage(`âœ… Holiday "${description}" saved successfully!`, 'success');

                            // Reset form and go back after 1.5 seconds
                            setTimeout(() => {
                                updatePageContent('public-holidays');
                            }, 1500);
                        } else {
                            throw new Error(result.error || 'Failed to save holiday');
                        }

                    } catch (error) {
                        console.error('âŒ Save holiday error:', error);
                        showStatusMessage('âŒ ' + error.message, 'error');

                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                            saveBtn.disabled = false;
                        }
                    }
                }

                // Initialize when page loads
                document.addEventListener('DOMContentLoaded', function () {
                    if (window.location.hash === '#public-holiday-create') {
                        setTimeout(initHolidayCreateForm, 100);
                    }
                });

                window.addEventListener('hashchange', function () {
                    if (window.location.hash === '#public-holiday-create') {
                        setTimeout(initHolidayCreateForm, 300);
                    }
                });
                // ============= PUBLIC HOLIDAYS LIST MANAGER =============
                class PublicHolidaysManager {
                    constructor() {
                        this.baseURL = 'http://localhost:5000/api';
                        this.currentPage = 1;
                        this.pageSize = 20;
                        this.searchTerm = '';
                        this.yearFilter = new Date().getFullYear().toString();
                        this.typeFilter = '';
                        this.locationFilter = '';
                        console.log('ðŸŽ‰ PublicHolidaysManager initialized');
                    }

                    // âœ… Load holidays data
                    async loadHolidays() {
                        console.log('ðŸ“¥ Loading holidays...');

                        try {
                            // Update filters from UI
                            this.updateFiltersFromUI();

                            // Build query parameters
                            const params = new URLSearchParams({
                                page: this.currentPage,
                                limit: this.pageSize,
                                search: this.searchTerm,
                                year: this.yearFilter || '',
                                location_id: this.locationFilter || ''
                            });

                            if (this.typeFilter) {
                                params.append('type', this.typeFilter);
                            }

                            const url = `${this.baseURL}/public-holidays?${params.toString()}`;
                            console.log('ðŸŒ Fetching:', url);

                            const response = await fetch(url);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.renderHolidays(result.data);
                                this.updatePagination(result.pagination);
                                this.updateTableInfo(result.data.length, result.pagination.total);
                            } else {
                                throw new Error(result.error || 'API failed');
                            }

                        } catch (error) {
                            console.error('âŒ Load error:', error);
                            this.showError(`Failed to load holidays: ${error.message}`);
                        }
                    }

                    // âœ… Update filters from UI
                    updateFiltersFromUI() {
                        const searchInput = document.getElementById('holiday-search');
                        const yearSelect = document.getElementById('holiday-year');
                        const typeSelect = document.getElementById('holiday-type-filter');
                        const locationSelect = document.getElementById('holiday-location-filter');

                        this.searchTerm = searchInput ? searchInput.value : '';
                        this.yearFilter = yearSelect ? yearSelect.value : '';
                        this.typeFilter = typeSelect ? typeSelect.value : '';
                        this.locationFilter = locationSelect ? locationSelect.value : '';
                    }

                    // âœ… Render holidays in table
                    renderHolidays(holidays) {
                        const tbody = document.getElementById('holidays-table-body');
                        if (!tbody) {
                            console.error('âŒ Table body not found!');
                            return;
                        }

                        if (holidays.length === 0) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="6" style="text-align: center; padding: 40px; color: #64748b;">
                        <i class="fas fa-calendar-times" style="font-size: 24px; opacity: 0.5; margin-bottom: 10px; display: block;"></i>
                        <p style="margin-bottom: 10px;">No holidays found for the selected filters.</p>
                        <button class="public-holiday-create-btn" 
                                style="margin-top: 10px; padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: inline-flex; align-items: center; gap: 5px;">
                            <i class="fas fa-plus"></i> Add First Holiday
                        </button>
                    </td>
                </tr>
            `;

                            // Add event listener to the button
                            setTimeout(() => {
                                const addBtn = tbody.querySelector('.public-holiday-create-btn');
                                if (addBtn) {
                                    addBtn.addEventListener('click', () => updatePageContent('public-holiday-create'));
                                }
                            }, 100);

                            return;
                        }

                        tbody.innerHTML = '';

                        holidays.forEach(holiday => {
                            const row = document.createElement('tr');

                            // Format dates
                            const formatDate = (dateString) => {
                                if (!dateString) return 'N/A';
                                const date = new Date(dateString);
                                return date.toLocaleDateString('en-GB', {
                                    day: '2-digit',
                                    month: 'short',
                                    year: 'numeric'
                                });
                            };

                            // Determine location text
                            let locationText = holiday.applicable_location || 'All Locations';
                            if (locationText === 'All Locations') {
                                locationText = `<span style="color: #059669; font-weight: 600;">${locationText}</span>`;
                            }

                            // Determine type badge color
                            const typeColors = {
                                'National': '#dc2626',
                                'State': '#2563eb',
                                'Company': '#059669',
                                'Religious': '#7c3aed',
                                'Other': '#64748b'
                            };

                            const typeColor = typeColors[holiday.holiday_type] || '#64748b';

                            // Check if it's recurring
                            const recurringBadge = holiday.is_recurring ?
                                `<span style="background: #fef3c7; color: #92400e; padding: 2px 6px; border-radius: 10px; font-size: 10px; margin-left: 5px; font-weight: 600;">
                    <i class="fas fa-redo"></i> Recurring
                </span>` : '';

                            // Check if it's national holiday
                            const nationalBadge = holiday.is_national ?
                                `<span style="background: #fee2e2; color: #dc2626; padding: 2px 6px; border-radius: 10px; font-size: 10px; margin-left: 5px; font-weight: 600;">
                    <i class="fas fa-flag"></i> National
                </span>` : '';

                            row.innerHTML = `
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;">
                    <div style="font-weight: 600; color: var(--dark); font-family: 'Courier New', monospace;">
                        ${holiday.holiday_code || '-'}
                    </div>
                    <div style="font-size: 11px; color: #64748b; margin-top: 3px;">
                        ID: ${holiday.holiday_id}
                        ${recurringBadge}
                    </div>
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;">
                    <div style="font-weight: 500; color: var(--dark);">
                        ${holiday.description || '-'}
                    </div>
                    ${holiday.notes ? `
                        <div style="font-size: 11px; color: #64748b; margin-top: 3px; font-style: italic;">
                            <i class="fas fa-sticky-note"></i> ${holiday.notes.substring(0, 50)}${holiday.notes.length > 50 ? '...' : ''}
                        </div>
                    ` : ''}
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; color: var(--dark); font-size: 13px; font-weight: 500;">
                    ${formatDate(holiday.actual_date)}
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; color: var(--dark); font-size: 13px; font-weight: 500;">
                    ${formatDate(holiday.leave_date)}
                    ${nationalBadge}
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;">
                    <div style="display: flex; flex-direction: column; gap: 4px;">
                        <span style="background: ${typeColor}15; color: ${typeColor}; padding: 4px 8px; border-radius: 12px; font-size: 11px; font-weight: 600; display: inline-block; width: fit-content;">
                            ${holiday.holiday_type || 'Other'}
                        </span>
                        <div style="font-size: 11px; color: #64748b;">
                            <i class="fas fa-map-marker-alt" style="margin-right: 3px;"></i> 
                            ${locationText}
                        </div>
                    </div>
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                    <div style="display: flex; gap: 8px; justify-content: center;">
                        <!-- ðŸ‘ï¸ VIEW BUTTON -->
                        <button class="view-holiday-btn" 
                                data-id="${holiday.holiday_id}"
                                data-code="${holiday.holiday_code}"
                                data-description="${holiday.description}"
                                style="background: none; border: none; cursor: pointer; color: #10b981; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#d1fae5'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="View Details">
                            <i class="fas fa-eye" style="font-size: 14px;"></i>
                        </button>
                        
                        <!-- âœï¸ EDIT BUTTON -->
                        <button class="edit-holiday-btn" 
                                data-id="${holiday.holiday_id}"
                                data-code="${holiday.holiday_code}"
                                data-description="${holiday.description}"
                                style="background: none; border: none; cursor: pointer; color: #2563eb; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#dbeafe'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Edit">
                            <i class="fas fa-edit" style="font-size: 14px;"></i>
                        </button>
                        
                        <!-- ðŸ—‘ï¸ DELETE BUTTON -->
                        <button class="delete-holiday-btn" 
                                data-id="${holiday.holiday_id}"
                                data-code="${holiday.holiday_code}"
                                data-description="${holiday.description}"
                                style="background: none; border: none; cursor: pointer; color: #ef4444; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#fee2e2'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Delete">
                            <i class="fas fa-trash" style="font-size: 14px;"></i>
                        </button>
                    </div>
                </td>
            `;

                            tbody.appendChild(row);
                        });

                        // Add event listeners to buttons
                        this.setupRowButtons();
                    }

                    // âœ… Setup button event listeners
                    setupRowButtons() {
                        // ðŸ‘ï¸ View buttons
                        document.querySelectorAll('.view-holiday-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const holidayId = btn.dataset.id;
                                const holidayCode = btn.dataset.code;
                                console.log('ðŸ‘ï¸ View holiday:', holidayId, holidayCode);
                                this.viewHoliday(holidayId);
                            });
                        });

                        // âœï¸ Edit buttons
                        document.querySelectorAll('.edit-holiday-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const holidayId = btn.dataset.id;
                                const holidayCode = btn.dataset.code;
                                console.log('âœï¸ Edit holiday:', holidayId, holidayCode);
                                this.editHoliday(holidayId);
                            });
                        });

                        // ðŸ—‘ï¸ Delete buttons
                        document.querySelectorAll('.delete-holiday-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const holidayId = btn.dataset.id;
                                const holidayCode = btn.dataset.code;
                                const holidayDescription = btn.dataset.description;
                                this.deleteHoliday(holidayId, holidayCode, holidayDescription);
                            });
                        });
                    }

                    // âœ… View holiday details
                    async viewHoliday(holidayId) {
                        console.log('ðŸ” Viewing holiday:', holidayId);

                        try {
                            const response = await fetch(`${this.baseURL}/public-holidays/${holidayId}`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.showHolidayViewForm(result.data);
                            } else {
                                throw new Error(result.error);
                            }
                        } catch (error) {
                            console.error('View error:', error);
                            showStatusMessage(`âŒ Failed to load details: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Edit holiday
                    async editHoliday(holidayId) {
                        console.log('âœï¸ Edit holiday:', holidayId);

                        try {
                            // Show loading
                            showStatusMessage('Loading holiday details...', 'info');

                            // Fetch holiday data
                            const response = await fetch(`${this.baseURL}/public-holidays/${holidayId}`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                const holiday = result.data;
                                this.showHolidayEditForm(holiday);
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('Edit error:', error);
                            showStatusMessage(`âŒ Failed to load holiday: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Delete holiday with confirmation
                    async deleteHoliday(holidayId, holidayCode, holidayDescription) {
                        if (!confirm(`ðŸ—‘ï¸ Delete holiday "${holidayDescription}" (${holidayCode})?\n\nThis action cannot be undone!`)) {
                            return;
                        }

                        try {
                            console.log('ðŸ—‘ï¸ Deleting holiday:', holidayId);

                            const response = await fetch(`${this.baseURL}/public-holidays/${holidayId}`, {
                                method: 'DELETE'
                            });

                            if (!response.ok) {
                                const errorText = await response.text();
                                throw new Error(`Server error ${response.status}: ${errorText.substring(0, 100)}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                showStatusMessage(`âœ… Holiday "${holidayDescription}" deleted successfully!`, 'success');
                                this.loadHolidays(); // Refresh list
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('âŒ Delete error:', error);
                            showStatusMessage(`Delete failed: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Show holiday view page
                    // âœ… Show holiday view form (Beautiful UI/UX)
                    showHolidayViewForm(holiday) {
                        console.log('Showing holiday view:', holiday);

                        // Format dates nicely
                        const formatDate = (dateString, withTime = false) => {
                            if (!dateString) return 'N/A';
                            const date = new Date(dateString);
                            const options = {
                                day: '2-digit',
                                month: 'short',
                                year: 'numeric',
                                weekday: 'short'
                            };

                            if (withTime) {
                                options.hour = '2-digit';
                                options.minute = '2-digit';
                            }

                            return date.toLocaleDateString('en-GB', options);
                        };

                        // Calculate days between dates
                        const getDaysDifference = (date1, date2) => {
                            if (!date1 || !date2) return 0;
                            const d1 = new Date(date1);
                            const d2 = new Date(date2);
                            const diffTime = Math.abs(d2 - d1);
                            return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                        };

                        // Determine type badge color
                        const getTypeBadge = (type) => {
                            const typeConfigs = {
                                'National': { bg: '#fee2e2', color: '#dc2626', icon: 'fa-flag' },
                                'State': { bg: '#dbeafe', color: '#2563eb', icon: 'fa-building' },
                                'Company': { bg: '#d1fae5', color: '#059669', icon: 'fa-building' },
                                'Religious': { bg: '#ede9fe', color: '#7c3aed', icon: 'fa-pray' },
                                'Other': { bg: '#f3f4f6', color: '#6b7280', icon: 'fa-calendar' }
                            };

                            const config = typeConfigs[type] || typeConfigs.Other;
                            return `
            <span style="background: ${config.bg}; color: ${config.color}; padding: 6px 12px; border-radius: 12px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                <i class="fas ${config.icon}"></i> ${type}
            </span>
        `;
                        };

                        // Determine status badge
                        const getStatusBadge = (isActive) => {
                            return isActive ?
                                '<span style="background: #d1fae5; color: #065f46; padding: 6px 12px; border-radius: 12px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;"><i class="fas fa-check-circle"></i> Active</span>' :
                                '<span style="background: #fef2f2; color: #dc2626; padding: 6px 12px; border-radius: 12px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;"><i class="fas fa-times-circle"></i> Inactive</span>';
                        };

                        // Calculate if holiday is upcoming
                        const today = new Date();
                        const leaveDate = new Date(holiday.leave_date);
                        const isUpcoming = leaveDate >= today;
                        const daysUntil = Math.ceil((leaveDate - today) / (1000 * 60 * 60 * 24));

                        const viewFormHTML = `
        <div class="holiday-view-form">
            <!-- Header Actions -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary edit-holiday-from-view-btn" 
                            data-id="${holiday.holiday_id}"
                            style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-edit"></i> Edit Holiday
                    </button>
                    <button class="btn btn-primary holiday-view-back-btn" 
                            style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back to List
                    </button>
                </div>
                <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                    <i class="fas fa-eye"></i> Viewing Holiday: ${holiday.holiday_code}
                </div>
            </div>

            <!-- Holiday Status Banner -->
            ${isUpcoming ? `
                <div style="background: linear-gradient(135deg, #3b82f6, #1d4ed8); color: white; padding: 15px 20px; border-radius: 8px; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center;">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-calendar-check" style="font-size: 24px;"></i>
                        <div>
                            <div style="font-weight: 600; font-size: 14px;">Upcoming Holiday</div>
                            <div style="font-size: 12px; opacity: 0.9;">
                                ${daysUntil === 0 ? 'Today!' : daysUntil === 1 ? 'Tomorrow!' : `In ${daysUntil} days`}
                            </div>
                        </div>
                    </div>
                    <div style="font-size: 12px; font-weight: 600; background: rgba(255,255,255,0.2); padding: 4px 12px; border-radius: 20px;">
                        <i class="fas fa-clock"></i> ${formatDate(holiday.leave_date)}
                    </div>
                </div>
            ` : ''}

            <!-- Main Form Section -->
            <div class="form-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Holiday Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Code</label>
                                <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                    <span style="font-family: 'Courier New', monospace; font-weight: 600; color: #2563eb;">${holiday.holiday_code || '-'}</span>
                                </div>
                            </div>
                            
                            <!-- Description -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Description</label>
                                <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; min-height: 60px; display: flex; align-items: center;">
                                    <div style="font-weight: 500; font-size: 14px;">${holiday.description || '-'}</div>
                                </div>
                            </div>
                            
                            <!-- Type -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Type</label>
                                <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center; gap: 10px;">
                                    ${getTypeBadge(holiday.holiday_type || 'Other')}
                                    ${holiday.is_national ? `
                                        <span style="background: #fef3c7; color: #92400e; padding: 4px 8px; border-radius: 10px; font-size: 10px; font-weight: 600; display: inline-flex; align-items: center; gap: 4px;">
                                            <i class="fas fa-globe"></i> National
                                        </span>
                                    ` : ''}
                                </div>
                            </div>
                            
                            <!-- Status -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Status</label>
                                <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center; gap: 10px;">
                                    ${getStatusBadge(holiday.is_active)}
                                    ${holiday.is_recurring ? `
                                        <span style="background: #f0f9ff; color: #0369a1; padding: 4px 8px; border-radius: 10px; font-size: 10px; font-weight: 600; display: inline-flex; align-items: center; gap: 4px;">
                                            <i class="fas fa-redo"></i> Recurring
                                        </span>
                                    ` : ''}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Dates Section -->
                            <div style="background: #f0f9ff; padding: 15px; border-radius: 8px; border: 1px solid #bae6fd;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                                    <i class="fas fa-calendar-alt" style="color: #0369a1;"></i>
                                    <span style="font-weight: 600; color: #0369a1; font-size: 12px;">Holiday Dates</span>
                                </div>
                                
                                <!-- Actual Date -->
                                <div style="margin-bottom: 12px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                        <div style="font-size: 11px; color: #64748b; font-weight: 500;">Actual Date</div>
                                        <div style="font-size: 11px; color: #64748b;">
                                            ${formatDate(holiday.actual_date)}
                                        </div>
                                    </div>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #bae6fd; border-radius: 5px; font-size: 13px; background: white; height: 36px; display: flex; align-items: center; justify-content: center; font-weight: 600; color: var(--dark);">
                                        <i class="fas fa-calendar-day" style="margin-right: 8px; color: #3b82f6;"></i>
                                        ${formatDate(holiday.actual_date)}
                                    </div>
                                </div>
                                
                                <!-- Leave Date -->
                                <div>
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                        <div style="font-size: 11px; color: #64748b; font-weight: 500;">Leave Date (Observed)</div>
                                        <div style="font-size: 11px; color: #64748b;">
                                            ${formatDate(holiday.leave_date)}
                                        </div>
                                    </div>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #bae6fd; border-radius: 5px; font-size: 13px; background: white; height: 36px; display: flex; align-items: center; justify-content: center; font-weight: 600; color: var(--dark);">
                                        <i class="fas fa-moon" style="margin-right: 8px; color: #8b5cf6;"></i>
                                        ${formatDate(holiday.leave_date)}
                                    </div>
                                </div>
                                
                                <!-- Date Difference -->
                                ${holiday.actual_date && holiday.leave_date && holiday.actual_date !== holiday.leave_date ? `
                                    <div style="margin-top: 10px; padding: 8px; background: #fef3c7; border-radius: 5px; border: 1px solid #f59e0b;">
                                        <div style="display: flex; align-items: center; gap: 8px; font-size: 11px; color: #92400e;">
                                            <i class="fas fa-info-circle"></i>
                                            <span>Note: Leave is observed ${getDaysDifference(holiday.actual_date, holiday.leave_date)} day(s) after actual date</span>
                                        </div>
                                    </div>
                                ` : ''}
                            </div>
                            
                            <!-- Location Information -->
                            <div style="background: #f3f4f6; padding: 15px; border-radius: 8px; border: 1px solid #e5e7eb;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                                    <i class="fas fa-map-marker-alt" style="color: #6b7280;"></i>
                                    <span style="font-weight: 600; color: #6b7280; font-size: 12px;">Location Information</span>
                                </div>
                                
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                    <div style="width: 36px; height: 36px; background: white; border-radius: 8px; display: flex; align-items: center; justify-content: center; border: 1px solid #d1d5db;">
                                        <i class="fas fa-building" style="color: #9ca3af;"></i>
                                    </div>
                                    <div style="flex: 1;">
                                        <div style="font-size: 11px; color: #6b7280;">Applicable Location</div>
                                        <div style="font-size: 13px; font-weight: 600; color: var(--dark);">
                                            ${holiday.applicable_location || 'All Locations'}
                                        </div>
                                    </div>
                                </div>
                                
                                ${holiday.location_code ? `
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div style="width: 36px; height: 36px; background: white; border-radius: 8px; display: flex; align-items: center; justify-content: center; border: 1px solid #d1d5db;">
                                            <i class="fas fa-code" style="color: #9ca3af;"></i>
                                        </div>
                                        <div style="flex: 1;">
                                            <div style="font-size: 11px; color: #6b7280;">Location Code</div>
                                            <div style="font-size: 13px; font-weight: 600; color: var(--dark); font-family: 'Courier New', monospace;">
                                                ${holiday.location_code}
                                            </div>
                                        </div>
                                    </div>
                                ` : ''}
                            </div>
                            
                            <!-- Additional Notes -->
                            ${holiday.notes ? `
                                <div style="background: #fef3c7; padding: 15px; border-radius: 8px; border: 1px solid #f59e0b;">
                                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                        <i class="fas fa-sticky-note" style="color: #d97706;"></i>
                                        <span style="font-weight: 600; color: #92400e; font-size: 12px;">Additional Notes</span>
                                    </div>
                                    <div style="font-size: 12px; color: #92400e; line-height: 1.5;">
                                        ${holiday.notes}
                                    </div>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                </div>
            </div>

            <!-- Year Information -->
            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 20px;">
                <div style="background: #f8fafc; padding: 15px; border-radius: 8px; border: 1px solid #e2e8f0; text-align: center;">
                    <div style="color: #64748b; font-size: 11px; margin-bottom: 5px;">Holiday Year</div>
                    <div style="font-size: 24px; font-weight: 700; color: #059669;">
                        ${new Date(holiday.leave_date).getFullYear()}
                    </div>
                </div>
                
                <div style="background: #f8fafc; padding: 15px; border-radius: 8px; border: 1px solid #e2e8f0; text-align: center;">
                    <div style="color: #64748b; font-size: 11px; margin-bottom: 5px;">Month</div>
                    <div style="font-size: 18px; font-weight: 600; color: #3b82f6;">
                        ${new Date(holiday.leave_date).toLocaleDateString('en-GB', { month: 'long' })}
                    </div>
                </div>
                
                <div style="background: #f8fafc; padding: 15px; border-radius: 8px; border: 1px solid #e2e8f0; text-align: center;">
                    <div style="color: #64748b; font-size: 11px; margin-bottom: 5px;">Day of Week</div>
                    <div style="font-size: 18px; font-weight: 600; color: #8b5cf6;">
                        ${new Date(holiday.leave_date).toLocaleDateString('en-GB', { weekday: 'long' })}
                    </div>
                </div>
                
                <div style="background: #f8fafc; padding: 15px; border-radius: 8px; border: 1px solid #e2e8f0; text-align: center;">
                    <div style="color: #64748b; font-size: 11px; margin-bottom: 5px;">Day Number</div>
                    <div style="font-size: 24px; font-weight: 700; color: #ef4444;">
                        ${new Date(holiday.leave_date).getDate()}
                    </div>
                </div>
            </div>

            <!-- Audit Information -->
            <div style="margin-top: 20px; padding: 20px; background: #f8fafc; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                    <i class="fas fa-history" style="color: #6b7280;"></i>
                    <span style="font-weight: 600; color: #6b7280; font-size: 12px;">Audit Information</span>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div>
                        <div style="color: #6b7280; font-size: 11px; margin-bottom: 4px;">Created At</div>
                        <div style="font-size: 12px; font-weight: 500; display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-calendar-plus" style="color: #10b981;"></i>
                            ${formatDate(holiday.created_at, true)}
                        </div>
                    </div>
                    <div>
                        <div style="color: #6b7280; font-size: 11px; margin-bottom: 4px;">Last Updated</div>
                        <div style="font-size: 12px; font-weight: 500; display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-sync-alt" style="color: #3b82f6;"></i>
                            ${holiday.updated_at ? formatDate(holiday.updated_at, true) : 'Never Updated'}
                        </div>
                    </div>
                </div>
                
                ${holiday.created_by ? `
                    <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid #e2e8f0;">
                        <div style="color: #6b7280; font-size: 11px; margin-bottom: 4px;">Created By</div>
                        <div style="font-size: 12px; font-weight: 500; display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-user" style="color: #8b5cf6;"></i>
                            User ID: ${holiday.created_by}
                        </div>
                    </div>
                ` : ''}
            </div>

            <!-- Footer -->
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `;

                        // Update page content
                        const pageContent = document.getElementById('page-content');
                        if (pageContent) {
                            pageContent.innerHTML = viewFormHTML;

                            // Add event listeners
                            setTimeout(() => {
                                // Back button
                                const backBtn = document.querySelector('.holiday-view-back-btn');
                                if (backBtn) {
                                    backBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        updatePageContent('public-holidays');

                                        // Reload holidays list
                                        setTimeout(() => {
                                            if (window.holidaysManager && window.holidaysManager.loadHolidays) {
                                                console.log('ðŸ”„ Reloading holidays list from view form...');
                                                window.holidaysManager.loadHolidays();
                                            }
                                        }, 500);
                                    });
                                }

                                // Edit button
                                const editBtn = document.querySelector('.edit-holiday-from-view-btn');
                                if (editBtn) {
                                    editBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        this.editHoliday(holiday.holiday_id);
                                    });
                                }

                            }, 100);
                        }
                    }
                    // âœ… Show holiday edit form (Beautiful UI/UX - Same pattern as UOM)
                    showHolidayEditForm(holiday) {
                        console.log('ðŸŽ¯ Showing holiday edit form for:', holiday.holiday_code);

                        // Format dates for input fields
                        const formatDateForInput = (dateString) => {
                            if (!dateString) return '';
                            const date = new Date(dateString);
                            return date.toISOString().split('T')[0];
                        };

                        const editFormHTML = `
        <div class="holiday-edit-form">
            <!-- Header Actions -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary update-holiday-btn" 
                            data-holiday-id="${holiday.holiday_id}"
                            style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Update Holiday
                    </button>
                    <button class="btn btn-primary holiday-edit-back-btn" 
                            style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back to List
                    </button>
                </div>
                <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                    <i class="fas fa-edit"></i> Editing Holiday: ${holiday.holiday_code}
                </div>
            </div>

            <!-- MAIN FORM CONTENT -->
            <div class="form-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Holiday Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Holiday Code*
                                </label>
                                <input type="text" id="edit-holiday-code" value="${holiday.holiday_code || ''}" 
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px;" readonly>
                                <div style="font-size: 10px; color: #64748b; margin-top: 4px;">(Code cannot be changed)</div>
                            </div>
                            
                            <!-- Description -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Description*
                                </label>
                                <input type="text" id="edit-holiday-description" value="${holiday.description || ''}" 
                                       placeholder="e.g., New Year's Day, Deepavali, Christmas"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Holiday Type -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Holiday Type*
                                </label>
                                <select id="edit-holiday-type" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option value="National" ${holiday.holiday_type === 'National' ? 'selected' : ''}>National Holiday</option>
                                    <option value="State" ${holiday.holiday_type === 'State' ? 'selected' : ''}>State Holiday</option>
                                    <option value="Company" ${holiday.holiday_type === 'Company' ? 'selected' : ''}>Company Holiday</option>
                                    <option value="Religious" ${holiday.holiday_type === 'Religious' ? 'selected' : ''}>Religious Holiday</option>
                                    <option value="Other" ${holiday.holiday_type === 'Other' ? 'selected' : ''}>Other</option>
                                </select>
                            </div>
                            
                            <!-- Location -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Location <span style="color: #64748b; font-size: 11px;">(Leave empty for all locations)</span>
                                </label>
                                <select id="edit-holiday-location" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option value="">All Locations</option>
                                    <!-- Will be populated dynamically -->
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Dates Section -->
                            <div style="background: #f0f9ff; padding: 15px; border-radius: 8px; border: 1px solid #bae6fd;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                                    <i class="fas fa-calendar-alt" style="color: #0369a1;"></i>
                                    <span style="font-weight: 600; color: #0369a1; font-size: 12px;">Holiday Dates*</span>
                                </div>
                                
                                <!-- Actual Date -->
                                <div class="form-group" style="margin-bottom: 12px;">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Actual Date
                                    </label>
                                    <input type="date" id="edit-holiday-actual-date" value="${formatDateForInput(holiday.actual_date)}"
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #bae6fd; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                </div>
                                
                                <!-- Leave Date -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Leave Date
                                    </label>
                                    <input type="date" id="edit-holiday-leave-date" value="${formatDateForInput(holiday.leave_date)}"
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #bae6fd; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                </div>
                            </div>
                            
                            <!-- Flags Section -->
                            <div style="background: #f8fafc; padding: 15px; border-radius: 8px; border: 1px solid #e2e8f0;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                                    <i class="fas fa-flag" style="color: #6b7280;"></i>
                                    <span style="font-weight: 600; color: #6b7280; font-size: 12px;">Holiday Flags</span>
                                </div>
                                
                                <!-- Recurring -->
                                <div class="form-group" style="margin-bottom: 12px;">
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <input type="checkbox" id="edit-holiday-recurring" ${holiday.is_recurring ? 'checked' : ''} style="width: 16px; height: 16px;">
                                        <div style="flex: 1;">
                                            <label for="edit-holiday-recurring" style="font-weight: 600; color: var(--dark); font-size: 12px; margin: 0;">Recurring Yearly</label>
                                            <div style="font-size: 10px; color: #64748b; margin-top: 2px;">
                                                Auto-create this holiday every year
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- National -->
                                <div class="form-group" style="margin-bottom: 12px;">
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <input type="checkbox" id="edit-holiday-national" ${holiday.is_national ? 'checked' : ''} style="width: 16px; height: 16px;">
                                        <div style="flex: 1;">
                                            <label for="edit-holiday-national" style="font-weight: 600; color: var(--dark); font-size: 12px; margin: 0;">National Holiday</label>
                                            <div style="font-size: 10px; color: #64748b; margin-top: 2px;">
                                                Applies nationwide (overrides location)
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                               
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Info Section -->
            <div style="margin-top: 20px; padding: 15px; background: #fef3c7; border-radius: 8px; border: 1px solid #f59e0b;">
                <div style="display: flex; align-items: flex-start; gap: 10px;">
                    <i class="fas fa-info-circle" style="color: #d97706; margin-top: 2px;"></i>
                    <div>
                        <div style="font-weight: 600; color: #92400e; font-size: 12px; margin-bottom: 5px;">Editing Guidelines:</div>
                        <ul style="margin: 0; padding-left: 20px; color: #92400e; font-size: 12px;">
                            <li><strong>Actual Date:</strong> The actual calendar date of the holiday</li>
                            <li><strong>Leave Date:</strong> The date when leave will be granted (may differ if holiday falls on weekend)</li>
                            <li><strong>Recurring:</strong> If checked, system will auto-create this holiday every year</li>
                            <li><strong>National:</strong> If checked, holiday applies to all locations nationwide</li>
                            <li><strong>Location:</strong> Leave empty to make this a company-wide holiday</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Audit Information -->
            <div style="margin-top: 20px; padding: 20px; background: #f8fafc; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                    <i class="fas fa-history" style="color: #6b7280;"></i>
                    <span style="font-weight: 600; color: #6b7280; font-size: 12px;">Audit Information</span>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div>
                        <div style="color: #6b7280; font-size: 11px; margin-bottom: 4px;">Created At</div>
                        <div style="font-size: 12px; font-weight: 500;">
                            ${holiday.created_at ? new Date(holiday.created_at).toLocaleDateString('en-GB', {
                            day: '2-digit',
                            month: 'short',
                            year: 'numeric',
                            hour: '2-digit',
                            minute: '2-digit'
                        }) : 'N/A'}
                        </div>
                    </div>
                    <div>
                        <div style="color: #6b7280; font-size: 11px; margin-bottom: 4px;">Last Updated</div>
                        <div style="font-size: 12px; font-weight: 500;">
                            ${holiday.updated_at ? new Date(holiday.updated_at).toLocaleDateString('en-GB', {
                            day: '2-digit',
                            month: 'short',
                            year: 'numeric',
                            hour: '2-digit',
                            minute: '2-digit'
                        }) : 'Never Updated'}
                        </div>
                    </div>
                </div>
                
                ${holiday.created_by ? `
                    <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid #e2e8f0;">
                        <div style="color: #6b7280; font-size: 11px; margin-bottom: 4px;">Created By</div>
                        <div style="font-size: 12px; font-weight: 500;">
                            User ID: ${holiday.created_by}
                        </div>
                    </div>
                ` : ''}
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `;

                        // Update page content
                        const pageContent = document.getElementById('page-content');
                        if (pageContent) {
                            pageContent.innerHTML = editFormHTML;

                            // Add event listeners
                            setTimeout(() => {
                                // Back button
                                const backBtn = document.querySelector('.holiday-edit-back-btn');
                                if (backBtn) {
                                    backBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        console.log('ðŸ”™ Back button clicked from edit form');

                                        // Go back to holidays list
                                        updatePageContent('public-holidays');

                                        // IMPORTANT: Force reload holidays with a slight delay
                                        setTimeout(() => {
                                            console.log('ðŸ”„ Reloading holidays list...');
                                            if (window.holidaysManager && window.holidaysManager.loadHolidays) {
                                                window.holidaysManager.loadHolidays();
                                            }
                                        }, 300);
                                    });
                                }

                                // Update button
                                const updateBtn = document.querySelector('.update-holiday-btn');
                                if (updateBtn) {
                                    updateBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        this.updateHoliday(holiday.holiday_id);
                                    });
                                }

                                // Load locations for dropdown
                                this.loadLocationsForEdit(holiday.location_id);

                                // Setup form validation
                                this.setupEditHolidayFormLogic(holiday);

                            }, 100);

                            showStatusMessage('âœ… Holiday loaded for editing', 'success');
                        } else {
                            console.error('âŒ Page content element not found!');
                            alert('Edit form loaded. Page content element not found.');
                        }
                    }

                    // âœ… Load locations for edit form dropdown
                    async loadLocationsForEdit(selectedLocationId) {
                        try {
                            const response = await fetch(`${this.baseURL}/public-holidays/locations`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success && result.data) {
                                const locationSelect = document.getElementById('edit-holiday-location');
                                if (locationSelect) {
                                    // Clear existing options except first one
                                    while (locationSelect.options.length > 1) {
                                        locationSelect.remove(1);
                                    }

                                    // Add location options
                                    result.data.forEach(location => {
                                        const option = document.createElement('option');
                                        option.value = location.location_id;
                                        option.textContent = `${location.location_code} - ${location.location_name}`;

                                        // Select the current location
                                        if (location.location_id == selectedLocationId) {
                                            option.selected = true;
                                        }

                                        locationSelect.appendChild(option);
                                    });
                                }
                            }
                        } catch (error) {
                            console.error('âŒ Load locations error:', error);
                        }
                    }

                    // âœ… Setup edit form logic
                    // âœ… Setup edit form logic (FIXED VERSION)
                    setupEditHolidayFormLogic(holiday) {
                        // Wait a bit for DOM to be fully loaded
                        setTimeout(() => {
                            const nationalCheckbox = document.getElementById('edit-holiday-national');
                            const locationSelect = document.getElementById('edit-holiday-location');
                            const actualDateInput = document.getElementById('edit-holiday-actual-date');
                            const leaveDateInput = document.getElementById('edit-holiday-leave-date');

                            // Check if elements exist
                            if (!nationalCheckbox || !locationSelect || !actualDateInput || !leaveDateInput) {
                                console.warn('âš ï¸ Some form elements not found during setup');
                                return;
                            }

                            // Function to toggle location select based on national checkbox
                            function toggleLocationField() {
                                if (nationalCheckbox.checked) {
                                    // If it's national holiday, disable location select
                                    locationSelect.disabled = true;
                                    locationSelect.style.backgroundColor = '#f9fafb';
                                    locationSelect.value = ''; // Clear location for national holidays
                                } else {
                                    // If it's not national holiday, enable location select
                                    locationSelect.disabled = false;
                                    locationSelect.style.backgroundColor = 'white';

                                    // Restore previously selected location
                                    if (holiday.location_id) {
                                        locationSelect.value = holiday.location_id;
                                    }
                                }
                            }

                            // Initial state
                            toggleLocationField();

                            // Listen to national checkbox changes
                            nationalCheckbox.addEventListener('change', toggleLocationField);

                            // Date validation - ensure leave date is not before actual date
                            function validateDates() {
                                if (actualDateInput.value && leaveDateInput.value) {
                                    const actualDate = new Date(actualDateInput.value);
                                    const leaveDate = new Date(leaveDateInput.value);

                                    if (leaveDate < actualDate) {
                                        leaveDateInput.style.borderColor = '#ef4444';
                                        showStatusMessage('âš ï¸ Leave date cannot be before actual date', 'warning');
                                    } else {
                                        leaveDateInput.style.borderColor = '#10b981';
                                    }
                                }
                            }

                            // Set up date validation
                            actualDateInput.addEventListener('change', validateDates);
                            leaveDateInput.addEventListener('change', validateDates);

                            // Also validate on form submission
                            const updateBtn = document.querySelector('.update-holiday-btn');
                            if (updateBtn) {
                                updateBtn.addEventListener('click', validateDates);
                            }

                        }, 200); // Small delay to ensure DOM is ready
                    }

                    // âœ… Update holiday function
                    // âœ… Update holiday function (FIXED VERSION)
                    async updateHoliday(holidayId) {
                        console.log('ðŸ’¾ Updating holiday:', holidayId);

                        const updateBtn = document.querySelector('.update-holiday-btn');
                        if (updateBtn) {
                            updateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Updating...';
                            updateBtn.disabled = true;
                        }

                        try {
                            // SAFELY Collect form data - check if elements exist
                            const getElementValue = (id, defaultValue = '') => {
                                const element = document.getElementById(id);
                                return element ? element.value : defaultValue;
                            };

                            const getElementChecked = (id, defaultValue = false) => {
                                const element = document.getElementById(id);
                                return element ? element.checked : defaultValue;
                            };

                            const getElementSelectedValue = (id, defaultValue = '') => {
                                const element = document.getElementById(id);
                                return element ? element.value : defaultValue;
                            };

                            // Collect form data safely
                            const updateData = {
                                description: getElementValue('edit-holiday-description', '').trim(),
                                holiday_type: getElementSelectedValue('edit-holiday-type', 'Other'),
                                actual_date: getElementValue('edit-holiday-actual-date', ''),
                                leave_date: getElementValue('edit-holiday-leave-date', ''),
                                is_recurring: getElementChecked('edit-holiday-recurring', false),
                                is_national: getElementChecked('edit-holiday-national', false),


                            };

                            // Get location if not national
                            if (!updateData.is_national) {
                                const locationId = getElementSelectedValue('edit-holiday-location', '');
                                updateData.location_id = locationId || null;
                            } else {
                                updateData.location_id = null;
                            }

                            console.log('ðŸ“¤ Update data:', updateData);

                            // Validation - with safe element access
                            const errors = [];

                            // Helper function to highlight errors
                            const highlightError = (elementId, hasError) => {
                                const element = document.getElementById(elementId);
                                if (element) {
                                    element.style.borderColor = hasError ? '#ef4444' : '#d1d5db';
                                }
                            };

                            // Validate required fields
                            if (!updateData.description) {
                                errors.push('Description is required');
                                highlightError('edit-holiday-description', true);
                            } else {
                                highlightError('edit-holiday-description', false);
                            }

                            if (!updateData.actual_date) {
                                errors.push('Actual date is required');
                                highlightError('edit-holiday-actual-date', true);
                            } else {
                                highlightError('edit-holiday-actual-date', false);
                            }

                            if (!updateData.leave_date) {
                                errors.push('Leave date is required');
                                highlightError('edit-holiday-leave-date', true);
                            } else {
                                highlightError('edit-holiday-leave-date', false);
                            }

                            // Validate date order
                            if (updateData.actual_date && updateData.leave_date) {
                                const actualDate = new Date(updateData.actual_date);
                                const leaveDate = new Date(updateData.leave_date);

                                if (leaveDate < actualDate) {
                                    errors.push('Leave date cannot be before actual date');
                                    highlightError('edit-holiday-leave-date', true);
                                } else {
                                    highlightError('edit-holiday-leave-date', false);
                                }
                            }

                            if (errors.length > 0) {
                                showStatusMessage('âŒ ' + errors.join(', '), 'error');

                                if (updateBtn) {
                                    updateBtn.innerHTML = '<i class="fas fa-save"></i> Update Holiday';
                                    updateBtn.disabled = false;
                                }
                                return;
                            }

                            // Clear any previous error highlights
                            ['edit-holiday-description', 'edit-holiday-actual-date', 'edit-holiday-leave-date'].forEach(id => {
                                highlightError(id, false);
                            });

                            // Send PUT request
                            const response = await fetch(`${this.baseURL}/public-holidays/${holidayId}`, {
                                method: 'PUT',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify(updateData)
                            });

                            const result = await response.json();

                            if (!response.ok) {
                                throw new Error(result.error || `HTTP ${response.status}`);
                            }

                            if (result.success) {
                                showStatusMessage('âœ… Holiday updated successfully!', 'success');

                                // Go back to holidays list and reload
                                updatePageContent('public-holidays');

                                setTimeout(() => {
                                    if (window.holidaysManager && window.holidaysManager.loadHolidays) {
                                        console.log('ðŸ”„ Reloading holidays list after update...');
                                        window.holidaysManager.loadHolidays();
                                    }
                                }, 300);

                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('âŒ Update error:', error);
                            showStatusMessage(`âŒ Update failed: ${error.message}`, 'error');

                            if (updateBtn) {
                                updateBtn.innerHTML = '<i class="fas fa-save"></i> Update Holiday';
                                updateBtn.disabled = false;
                            }
                        }
                    }
                    // âœ… Load locations for filter dropdown
                    async loadLocationsForFilter() {
                        try {
                            const response = await fetch(`${this.baseURL}/public-holidays/locations`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success && result.data) {
                                const locationSelect = document.getElementById('holiday-location-filter');
                                if (locationSelect) {
                                    // Clear existing options except first one
                                    while (locationSelect.options.length > 1) {
                                        locationSelect.remove(1);
                                    }

                                    // Add location options
                                    result.data.forEach(location => {
                                        const option = document.createElement('option');
                                        option.value = location.location_id;
                                        option.textContent = `${location.location_code} - ${location.location_name}`;
                                        locationSelect.appendChild(option);
                                    });
                                }
                            }
                        } catch (error) {
                            console.error('âŒ Load locations error:', error);
                        }
                    }

                    // âœ… Update pagination
                    updatePagination(pagination) {
                        this.totalPages = pagination.totalPages;

                        // Update pagination info
                        const infoDiv = document.querySelector('.pagination-info');
                        if (infoDiv && pagination) {
                            const start = ((this.currentPage - 1) * this.pageSize) + 1;
                            const end = Math.min(this.currentPage * this.pageSize, pagination.total);

                            infoDiv.textContent = `Showing ${start} to ${end} of ${pagination.total} entries`;
                        }

                        // Update page buttons
                        this.updatePageButtons();
                    }

                    // âœ… Update page buttons
                    updatePageButtons() {
                        const prevBtn = document.getElementById('prev-page-btn');
                        const nextBtn = document.getElementById('next-page-btn');
                        const pageNumbersDiv = document.getElementById('page-numbers');

                        if (prevBtn) {
                            prevBtn.disabled = this.currentPage === 1;
                            prevBtn.style.opacity = this.currentPage === 1 ? '0.5' : '1';
                            prevBtn.style.cursor = this.currentPage === 1 ? 'not-allowed' : 'pointer';
                        }

                        if (nextBtn) {
                            nextBtn.disabled = this.currentPage >= this.totalPages;
                            nextBtn.style.opacity = this.currentPage >= this.totalPages ? '0.5' : '1';
                            nextBtn.style.cursor = this.currentPage >= this.totalPages ? 'not-allowed' : 'pointer';
                        }

                        // Generate page number buttons
                        if (pageNumbersDiv) {
                            pageNumbersDiv.innerHTML = '';

                            // Show max 5 page buttons
                            let startPage = Math.max(1, this.currentPage - 2);
                            let endPage = Math.min(this.totalPages, startPage + 4);

                            // Adjust if we're near the end
                            if (endPage - startPage < 4 && startPage > 1) {
                                startPage = Math.max(1, endPage - 4);
                            }

                            for (let i = startPage; i <= endPage; i++) {
                                const pageBtn = document.createElement('button');
                                pageBtn.className = i === this.currentPage ? 'btn btn-primary' : 'btn btn-outline';
                                pageBtn.textContent = i;
                                pageBtn.style.padding = '6px 12px';
                                pageBtn.style.margin = '0 2px';
                                pageBtn.style.minWidth = '40px';
                                pageBtn.style.fontSize = '12px';

                                pageBtn.addEventListener('click', () => {
                                    this.currentPage = i;
                                    this.loadHolidays();
                                });

                                pageNumbersDiv.appendChild(pageBtn);
                            }
                        }
                    }

                    // âœ… Update table info
                    updateTableInfo(currentCount, total) {
                        console.log(`ðŸ“Š Displaying ${currentCount} of ${total} holidays`);
                    }

                    // âœ… Show error message
                    showError(message) {
                        const tbody = document.getElementById('holidays-table-body');
                        if (tbody) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="6" style="text-align: center; padding: 40px; color: #ef4444;">
                        <i class="fas fa-exclamation-triangle" style="font-size: 24px; margin-bottom: 10px; display: block;"></i>
                        <p style="margin-bottom: 10px;">${message}</p>
                        <button onclick="window.location.reload()" 
                                style="margin-top: 10px; padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            Retry
                        </button>
                    </td>
                </tr>
            `;
                        }
                    }
                }

                // âœ… Initialize public holidays list page
                function initPublicHolidaysList() {
                    const isHolidaysPage = document.querySelector('.public-holidays-management') ||
                        window.location.hash === '#public-holidays';

                    if (isHolidaysPage) {
                        console.log('ðŸŽ‰ Public holidays management page detected');

                        // Create manager instance
                        window.holidaysManager = new PublicHolidaysManager();

                        // Setup event listeners
                        setTimeout(() => {
                            // Create button
                            const createBtn = document.querySelector('.public-holiday-create-btn');
                            if (createBtn) {
                                createBtn.addEventListener('click', (e) => {
                                    e.preventDefault();
                                    updatePageContent('public-holiday-create');
                                });
                            }

                            // Fetch button
                            const fetchBtn = document.getElementById('fetch-holidays-btn');
                            if (fetchBtn) {
                                fetchBtn.addEventListener('click', () => {
                                    window.holidaysManager.currentPage = 1;
                                    window.holidaysManager.loadHolidays();
                                });
                            }

                            // Clear button
                            const clearBtn = document.getElementById('clear-holidays-filter-btn');
                            if (clearBtn) {
                                clearBtn.addEventListener('click', () => {
                                    document.getElementById('holiday-search').value = '';
                                    document.getElementById('holiday-year').value = new Date().getFullYear().toString();
                                    document.getElementById('holiday-type-filter').value = '';
                                    document.getElementById('holiday-location-filter').value = '';

                                    window.holidaysManager.currentPage = 1;
                                    window.holidaysManager.loadHolidays();
                                });
                            }

                            // Refresh button
                            const refreshBtn = document.getElementById('refresh-holidays-btn');
                            if (refreshBtn) {
                                refreshBtn.addEventListener('click', () => {
                                    window.holidaysManager.loadHolidays();
                                    showStatusMessage('ðŸ”„ Holidays list refreshed', 'info');
                                });
                            }

                            // Export button
                            const exportBtn = document.getElementById('export-holidays-btn');
                            if (exportBtn) {
                                exportBtn.addEventListener('click', () => {
                                    this.exportHolidays();
                                });
                            }

                            // Search input (on Enter key)
                            const searchInput = document.getElementById('holiday-search');
                            if (searchInput) {
                                searchInput.addEventListener('keyup', (e) => {
                                    if (e.key === 'Enter') {
                                        window.holidaysManager.currentPage = 1;
                                        window.holidaysManager.loadHolidays();
                                    }
                                });
                            }

                            // Filter change events
                            const filterSelects = ['holiday-year', 'holiday-type-filter', 'holiday-location-filter'];
                            filterSelects.forEach(id => {
                                const select = document.getElementById(id);
                                if (select) {
                                    select.addEventListener('change', () => {
                                        window.holidaysManager.currentPage = 1;
                                        window.holidaysManager.loadHolidays();
                                    });
                                }
                            });

                            // Page size select
                            const pageSizeSelect = document.getElementById('holidays-page-size');
                            if (pageSizeSelect) {
                                pageSizeSelect.addEventListener('change', (e) => {
                                    window.holidaysManager.pageSize = parseInt(e.target.value);
                                    window.holidaysManager.currentPage = 1;
                                    window.holidaysManager.loadHolidays();
                                });
                            }

                            // Previous button
                            const prevBtn = document.getElementById('prev-page-btn');
                            if (prevBtn) {
                                prevBtn.addEventListener('click', () => {
                                    if (window.holidaysManager.currentPage > 1) {
                                        window.holidaysManager.currentPage--;
                                        window.holidaysManager.loadHolidays();
                                    }
                                });
                            }

                            // Next button
                            const nextBtn = document.getElementById('next-page-btn');
                            if (nextBtn) {
                                nextBtn.addEventListener('click', () => {
                                    if (window.holidaysManager.currentPage < window.holidaysManager.totalPages) {
                                        window.holidaysManager.currentPage++;
                                        window.holidaysManager.loadHolidays();
                                    }
                                });
                            }

                            // Load locations for filter
                            window.holidaysManager.loadLocationsForFilter();

                            // Load initial data
                            window.holidaysManager.loadHolidays();

                        }, 300);
                    }
                }

                // âœ… Call on page load
                document.addEventListener('DOMContentLoaded', function () {
                    setTimeout(initPublicHolidaysList, 500);
                });

                // âœ… Call on hash change
                window.addEventListener('hashchange', function () {
                    setTimeout(initPublicHolidaysList, 300);
                });

                // âœ… Export holidays function
                async function exportHolidays() {
                    try {
                        showStatusMessage('Exporting holidays...', 'info');

                        // Get current filters
                        const manager = window.holidaysManager;
                        const params = new URLSearchParams({
                            search: manager.searchTerm,
                            year: manager.yearFilter || '',
                            type: manager.typeFilter || '',
                            location_id: manager.locationFilter || '',
                            limit: 1000 // Get all records for export
                        });

                        const response = await fetch(`${manager.baseURL}/public-holidays?${params.toString()}`);

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        if (result.success) {
                            // Create CSV content
                            let csvContent = 'Holiday Code,Description,Actual Date,Leave Date,Type,Location,Recurring,National\n';

                            result.data.forEach(holiday => {
                                csvContent += `"${holiday.holiday_code}","${holiday.description}","${holiday.actual_date}","${holiday.leave_date}","${holiday.holiday_type}","${holiday.applicable_location || 'All Locations'}","${holiday.is_recurring ? 'Yes' : 'No'}","${holiday.is_national ? 'Yes' : 'No'}"\n`;
                            });

                            // Create download link
                            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
                            const link = document.createElement('a');
                            const url = URL.createObjectURL(blob);

                            link.setAttribute('href', url);
                            link.setAttribute('download', `holidays_${new Date().toISOString().split('T')[0]}.csv`);
                            link.style.visibility = 'hidden';

                            document.body.appendChild(link);
                            link.click();
                            document.body.removeChild(link);

                            showStatusMessage('âœ… Holidays exported successfully!', 'success');
                        }

                    } catch (error) {
                        console.error('Export error:', error);
                        showStatusMessage(`âŒ Export failed: ${error.message}`, 'error');
                    }
                }
                // ============= OT TYPES FUNCTIONS =============

                // Initialize OT types create form
                function initOTTypesCreateForm() {
                    console.log('â° Initializing OT types create form...');

                    // Get next sort code on page load
                    getNextOTTypeSortCode();

                    // Setup event listeners
                    setTimeout(() => {
                        // Save button
                        const saveBtn = document.getElementById('save-ot-type-btn');
                        if (saveBtn) {
                            saveBtn.addEventListener('click', saveOTType);
                        }

                        // Refresh sort code button
                        const refreshBtn = document.getElementById('refresh-ot-sort-btn');
                        if (refreshBtn) {
                            refreshBtn.addEventListener('click', getNextOTTypeSortCode);
                        }

                        // Back button
                        const backBtn = document.querySelector('.ot-types-back-btn');
                        if (backBtn) {
                            backBtn.addEventListener('click', () => {
                                updatePageContent('ot-types-list'); // or your OT types list page
                            });
                        }

                        // Real-time validation for OT type code
                        const codeInput = document.getElementById('ot-type-code');
                        if (codeInput) {
                            codeInput.addEventListener('blur', async function () {
                                const code = this.value.trim();
                                if (code) {
                                    await checkOTTypeCodeExists(code);
                                }
                            });
                        }

                    }, 100);
                }

                // Get next available sort code for OT types
                async function getNextOTTypeSortCode() {
                    try {
                        console.log('ðŸ”¢ Getting next OT type sort code...');
                        const sortCodeInput = document.getElementById('ot-type-sort-code');
                        const refreshBtn = document.getElementById('refresh-ot-sort-btn');

                        if (!sortCodeInput) return;

                        // Show loading
                        if (refreshBtn) {
                            refreshBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
                            refreshBtn.disabled = true;
                        }

                        // Call API to get next sort code
                        const response = await fetch('/api/ot-types/next-sort-code');

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        if (result.success) {
                            sortCodeInput.value = result.next_sort_code;
                            console.log('âœ… Next OT type sort code:', result.next_sort_code);

                            if (refreshBtn) {
                                refreshBtn.innerHTML = '<i class="fas fa-sync-alt"></i> Refresh';
                                refreshBtn.disabled = false;
                            }

                            // Show success message
                            const hint = document.getElementById('ot-sort-code-hint');
                            if (hint) {
                                hint.innerHTML = `(Auto-generated: ${result.next_sort_code})`;
                                hint.style.color = '#059669';
                            }
                        } else {
                            throw new Error(result.error || 'Failed to get sort code');
                        }

                    } catch (error) {
                        console.error('âŒ OT Type sort code error:', error);

                        // Fallback: Use simple increment
                        const sortCodeInput = document.getElementById('ot-type-sort-code');
                        if (sortCodeInput) {
                            const current = parseInt(sortCodeInput.value) || 0;
                            sortCodeInput.value = current + 1;

                            const hint = document.getElementById('ot-sort-code-hint');
                            if (hint) {
                                hint.innerHTML = '(Local calculation)';
                                hint.style.color = '#f59e0b';
                            }
                        }

                        // Reset button
                        const refreshBtn = document.getElementById('refresh-ot-sort-btn');
                        if (refreshBtn) {
                            refreshBtn.innerHTML = '<i class="fas fa-sync-alt"></i> Refresh';
                            refreshBtn.disabled = false;
                        }

                        showStatusMessage('âš ï¸ Using local sort code calculation', 'warning');
                    }
                }

                // Check if OT type code exists
                async function checkOTTypeCodeExists(code) {
                    try {
                        if (!code.trim()) return false;

                        const response = await fetch(`/api/ot-types/check-code/${encodeURIComponent(code)}`);

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        const errorDiv = document.getElementById('ot-type-code-error');
                        if (errorDiv) {
                            if (result.exists) {
                                errorDiv.textContent = 'âŒ This OT type code already exists';
                                errorDiv.style.display = 'block';
                                document.getElementById('ot-type-code').style.borderColor = '#ef4444';
                                return true;
                            } else {
                                errorDiv.textContent = 'âœ… Code is available';
                                errorDiv.style.color = '#10b981';
                                errorDiv.style.display = 'block';
                                document.getElementById('ot-type-code').style.borderColor = '#10b981';
                                return false;
                            }
                        }

                    } catch (error) {
                        console.error('OT Type code check error:', error);
                        return false;
                    }
                }

                // Save OT type function
                async function saveOTType() {
                    console.log('ðŸ’¾ Saving OT type...');

                    // Get form elements
                    const saveBtn = document.getElementById('save-ot-type-btn');
                    const otTypeCode = document.getElementById('ot-type-code').value.trim();
                    const otTypeName = document.getElementById('ot-type-name').value.trim();
                    const sortCode = parseInt(document.getElementById('ot-type-sort-code').value);

                    // Clear previous errors
                    const errorDiv = document.getElementById('ot-type-code-error');
                    if (errorDiv) errorDiv.style.display = 'none';

                    // Validation
                    const errors = [];

                    if (!otTypeCode) {
                        errors.push('OT type code is required');
                        document.getElementById('ot-type-code').style.borderColor = '#ef4444';
                    }

                    if (!otTypeName) {
                        errors.push('OT type name is required');
                        document.getElementById('ot-type-name').style.borderColor = '#ef4444';
                    }

                    if (!sortCode || sortCode < 1) {
                        errors.push('Valid sort code is required');
                        document.getElementById('ot-type-sort-code').style.borderColor = '#ef4444';
                    }

                    const minHours = parseFloat(document.getElementById('ot-type-min-hours').value);
                    if (isNaN(minHours) || minHours < 0) {
                        errors.push('Valid minimum hours is required');
                        document.getElementById('ot-type-min-hours').style.borderColor = '#ef4444';
                    }

                    if (errors.length > 0) {
                        showStatusMessage('âŒ ' + errors.join(', '), 'error');
                        return;
                    }

                    try {
                        // Show loading
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';
                            saveBtn.disabled = true;
                        }

                        // Check if code exists
                        const codeExists = await checkOTTypeCodeExists(otTypeCode);
                        if (codeExists) {
                            showStatusMessage('âŒ OT type code already exists', 'error');
                            if (saveBtn) {
                                saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                                saveBtn.disabled = false;
                            }
                            return;
                        }

                        // Prepare OT type data
                        const otTypeData = {
                            ot_type_code: otTypeCode,
                            ot_type_name: otTypeName,
                            ot_type_category: document.getElementById('ot-type-category').value,
                            min_hours_for_break: minHours,
                            sort_code: sortCode,
                            is_active: document.getElementById('ot-type-is-active').checked,
                            created_by: 1 // Get from session
                        };

                        console.log('ðŸ“¤ Saving OT type:', otTypeData);

                        // Send to API
                        const response = await fetch('/api/ot-types', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(otTypeData)
                        });

                        const result = await response.json();

                        if (response.ok && result.success) {
                            showStatusMessage(`âœ… OT type "${otTypeName}" saved successfully!`, 'success');

                            // Reset form and go back after 1.5 seconds
                            setTimeout(() => {
                                updatePageContent('ot-types'); // or your OT types list page
                            }, 1500);
                        } else {
                            throw new Error(result.error || 'Failed to save OT type');
                        }

                    } catch (error) {
                        console.error('âŒ Save OT type error:', error);
                        showStatusMessage('âŒ ' + error.message, 'error');

                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                            saveBtn.disabled = false;
                        }
                    }
                }

                // Call init when OT types page loads
                document.addEventListener('DOMContentLoaded', function () {
                    if (window.location.hash === '#ot-types-create') {
                        setTimeout(initOTTypesCreateForm, 100);
                    }
                });

                // Also call on hash change
                window.addEventListener('hashchange', function () {
                    if (window.location.hash === '#ot-types-create') {
                        setTimeout(initOTTypesCreateForm, 300);
                    }
                });
                // ============= OT TYPES LIST MANAGER =============
                class OTTypesListManager {
                    constructor() {
                        this.baseURL = 'http://localhost:5000/api';
                        this.currentPage = 1;
                        this.pageSize = 20;
                        this.searchTerm = '';
                        this.statusFilter = 'all';
                        this.categoryFilter = 'all';
                        console.log('â° OTTypesListManager initialized');
                    }

                    // âœ… Load OT Types data
                    async loadOTTypes() {
                        console.log('ðŸ“¥ Loading OT types...');

                        try {
                            // Show loading state
                            const tbody = document.getElementById('ot-types-table-body');
                            if (tbody) {
                                tbody.innerHTML = `
                    <tr id="ot-types-loading">
                        <td colspan="6" style="padding: 40px; text-align: center; color: #64748b;">
                            <i class="fas fa-spinner fa-spin fa-2x"></i>
                            <p style="margin-top: 10px;">Loading OT Types...</p>
                        </td>
                    </tr>
                `;
                            }

                            const url = `${this.baseURL}/ot-types?page=${this.currentPage}&limit=${this.pageSize}&search=${encodeURIComponent(this.searchTerm)}&status=${this.statusFilter}&category=${this.categoryFilter}`;
                            console.log('ðŸŒ Fetching OT types:', url);

                            const response = await fetch(url);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.renderOTTypes(result.data);
                                this.updatePagination(result.pagination);
                                this.updateTableInfo(result.data.length, result.pagination.total);
                            } else {
                                throw new Error(result.error || 'API failed');
                            }

                        } catch (error) {
                            console.error('âŒ Load error:', error);
                            this.showError(`Failed to load OT types: ${error.message}`);
                        }
                    }

                    // âœ… Render OT Types in table
                    renderOTTypes(otTypes) {
                        const tbody = document.getElementById('ot-types-table-body');
                        if (!tbody) {
                            console.error('âŒ Table body not found!');
                            return;
                        }

                        if (otTypes.length === 0) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="6" style="text-align: center; padding: 40px; color: #64748b;">
                        <i class="fas fa-clock" style="font-size: 24px; opacity: 0.5;"></i>
                        <p style="margin-top: 10px;">No OT types found.</p>
                        <button class="ot-types-create-btn" 
                                style="margin-top: 10px; padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: inline-flex; align-items: center; gap: 5px;">
                            <i class="fas fa-plus"></i> Add First OT Type
                        </button>
                    </td>
                </tr>
            `;

                            // Add event listener to the button
                            setTimeout(() => {
                                const addBtn = tbody.querySelector('.ot-types-create-btn');
                                if (addBtn) {
                                    addBtn.addEventListener('click', () => updatePageContent('ot-types-create'));
                                }
                            }, 100);

                            return;
                        }

                        tbody.innerHTML = '';

                        otTypes.forEach(ot => {
                            const row = document.createElement('tr');

                            // Format date
                            const createdDate = ot.created_at
                                ? new Date(ot.created_at).toLocaleDateString('en-GB', {
                                    day: '2-digit',
                                    month: 'short',
                                    year: 'numeric'
                                })
                                : 'N/A';

                            // Category badge colors
                            const categoryColors = {
                                'Daily': { bg: '#dbeafe', color: '#1d4ed8' },
                                'Weekly': { bg: '#f0f9ff', color: '#0c4a6e' },
                                'Monthly': { bg: '#fef2f2', color: '#b91c1c' },
                                'Custom': { bg: '#f5f3ff', color: '#7c3aed' }
                            };

                            const categoryColor = categoryColors[ot.ot_type_category] || { bg: '#f3f4f6', color: '#374151' };

                            row.innerHTML = `
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; font-weight: 600; color: var(--dark);">
                    <div style="color: #2563eb; font-weight: 600;">${ot.ot_type_code || '-'}</div>
                    <div style="font-size: 11px; color: #64748b; margin-top: 2px;">
                        Created: ${createdDate}
                    </div>
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;">
                    <div style="font-weight: 500; color: var(--dark);">${ot.ot_type_name || '-'}</div>
                    <div style="font-size: 12px; color: #64748b; margin-top: 3px;">
                        Min break: ${ot.min_hours_for_break || 0} hours
                    </div>
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;">
                    <span style="background: ${categoryColor.bg}; color: ${categoryColor.color}; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; display: inline-block;">
                        ${ot.ot_type_category || 'Daily'}
                    </span>
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; text-align: center; font-weight: 700; color: #059669;">
                    ${ot.sort_code || '0'}
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                    ${ot.is_active ?
                                    `<span style="background: #d1fae5; color: #065f46; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; display: inline-block;">
                            <i class="fas fa-check-circle" style="margin-right: 4px;"></i> Active
                        </span>` :
                                    `<span style="background: #fef2f2; color: #dc2626; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; display: inline-block;">
                            <i class="fas fa-times-circle" style="margin-right: 4px;"></i> Inactive
                        </span>`
                                }
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                    <div style="display: flex; gap: 8px; justify-content: center;">
                        <!-- ðŸ‘ï¸ VIEW BUTTON -->
                        <button class="view-ot-type-btn" 
                                data-id="${ot.ot_type_id}"
                                data-code="${ot.ot_type_code}"
                                data-name="${ot.ot_type_name}"
                                style="background: none; border: none; cursor: pointer; color: #10b981; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#d1fae5'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="View Details">
                            <i class="fas fa-eye" style="font-size: 14px;"></i>
                        </button>
                        
                        <!-- âœï¸ EDIT BUTTON -->
                        <button class="edit-ot-type-btn" 
                                data-id="${ot.ot_type_id}"
                                data-code="${ot.ot_type_code}"
                                data-name="${ot.ot_type_name}"
                                style="background: none; border: none; cursor: pointer; color: #2563eb; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#dbeafe'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Edit">
                            <i class="fas fa-edit" style="font-size: 14px;"></i>
                        </button>
                        
                        <!-- ðŸ—‘ï¸ DELETE BUTTON -->
                        <button class="delete-ot-type-btn" 
                                data-id="${ot.ot_type_id}"
                                data-code="${ot.ot_type_code}"
                                data-name="${ot.ot_type_name}"
                                style="background: none; border: none; cursor: pointer; color: #ef4444; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#fee2e2'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Delete">
                            <i class="fas fa-trash" style="font-size: 14px;"></i>
                        </button>
                    </div>
                </td>
            `;

                            tbody.appendChild(row);
                        });

                        // Add event listeners to buttons
                        this.setupRowButtons();
                    }

                    // âœ… Setup button event listeners
                    setupRowButtons() {
                        // ðŸ‘ï¸ View buttons
                        document.querySelectorAll('.view-ot-type-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const otId = btn.dataset.id;
                                const otName = btn.dataset.name;
                                console.log('ðŸ‘ï¸ View OT type:', otId, otName);
                                this.viewOTType(otId);
                            });
                        });

                        // âœï¸ Edit buttons
                        document.querySelectorAll('.edit-ot-type-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const otId = btn.dataset.id;
                                const otName = btn.dataset.name;
                                console.log('âœï¸ Edit OT type:', otId, otName);
                                this.editOTType(otId);
                            });
                        });

                        // ðŸ—‘ï¸ Delete buttons
                        document.querySelectorAll('.delete-ot-type-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const otId = btn.dataset.id;
                                const otCode = btn.dataset.code;
                                const otName = btn.dataset.name;
                                this.deleteOTType(otId, otCode, otName);
                            });
                        });
                    }

                    // âœ… View OT type details
                    async viewOTType(otId) {
                        console.log('ðŸ” Viewing OT type:', otId);

                        try {
                            showStatusMessage('Loading OT type details...', 'info');

                            const response = await fetch(`${this.baseURL}/ot-types/${otId}`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                // Create view page
                                this.showOTTypeViewPage(result.data);
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('View error:', error);
                            showStatusMessage(`âŒ Failed to load: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Show OT type view page
                    showOTTypeViewPage(otType) {
                        const viewPageHTML = `
            <div class="ot-type-view-page">
                <!-- Header Actions -->
                <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary edit-ot-type-from-view-btn" 
                                data-id="${otType.ot_type_id}"
                                style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-edit"></i> Edit OT Type
                        </button>
                        <button class="btn btn-primary ot-type-view-back-btn" 
                                style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-arrow-left"></i> Back to List
                        </button>
                    </div>
                    <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                        <i class="fas fa-eye"></i> Viewing OT Type: ${otType.ot_type_code}
                    </div>
                </div>

                <!-- Main Content -->
                <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <!-- Left Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <!-- OT Type Code -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Code</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                        <span style="font-family: 'Courier New', monospace; font-weight: 600; color: #2563eb;">${otType.ot_type_code || 'Not provided'}</span>
                                    </div>
                                </div>
                                
                                <!-- OT Type Name -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Name</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                        ${otType.ot_type_name || 'Not provided'}
                                    </div>
                                </div>
                                
                                <!-- Category -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Category</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                        ${otType.ot_type_category || 'Daily'}
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <!-- Sort Code -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Sort Code</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center; justify-content: center;">
                                        <span style="font-size: 16px; font-weight: 700; color: #059669;">${otType.sort_code || '0'}</span>
                                    </div>
                                </div>
                                
                                <!-- Minimum Hours -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Minimum Hours for Break</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center; justify-content: center;">
                                        <span style="font-size: 16px; font-weight: 700; color: #7c3aed;">${otType.min_hours_for_break || 0} hours</span>
                                    </div>
                                </div>
                                
                                <!-- Status -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Status</label>
                                    <div>
                                        ${otType.is_active ?
                                `<span style="background: #d1fae5; color: #065f46; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                                                <i class="fas fa-check-circle"></i> Active
                                            </span>` :
                                `<span style="background: #fef2f2; color: #dc2626; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                                                <i class="fas fa-times-circle"></i> Inactive
                                            </span>`
                            }
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `;

                        // Update page content
                        const pageContent = document.getElementById('page-content');
                        if (pageContent) {
                            pageContent.innerHTML = viewPageHTML;

                            // Add event listeners
                            setTimeout(() => {
                                // Back button
                                const backBtn = document.querySelector('.ot-type-view-back-btn');
                                if (backBtn) {
                                    backBtn.addEventListener('click', () => {
                                        updatePageContent('ot-types');
                                        setTimeout(() => {
                                            if (window.otTypesManager && window.otTypesManager.loadOTTypes) {
                                                window.otTypesManager.loadOTTypes();
                                            }
                                        }, 500);
                                    });
                                }

                                // Edit button
                                const editBtn = document.querySelector('.edit-ot-type-from-view-btn');
                                if (editBtn) {
                                    editBtn.addEventListener('click', () => {
                                        if (window.otTypesManager && window.otTypesManager.editOTType) {
                                            window.otTypesManager.editOTType(otType.ot_type_id);
                                        }
                                    });
                                }
                            }, 100);
                        }
                    }

                    // âœ… Edit OT type
                    // âœ… Edit OT Type function
                    async editOTType(otId) {
                        console.log('âœï¸ Edit OT Type:', otId);

                        try {
                            // Show loading
                            showStatusMessage('Loading OT type details...', 'info');

                            // Fetch OT Type data
                            const response = await fetch(`${this.baseURL}/ot-types/${otId}`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                const otType = result.data;

                                // Format time for display
                                const startTime = otType.office_start_time ?
                                    otType.office_start_time.substring(0, 5) : '09:00';
                                const endTime = otType.office_end_time ?
                                    otType.office_end_time.substring(0, 5) : '18:00';

                                // Create EDIT FORM
                                const editFormHTML = `
                <div class="ot-type-edit-form">
                    <!-- Header Actions -->
                    <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-primary update-ot-type-btn" 
                                    data-ot-type-id="${otId}"
                                    style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                                <i class="fas fa-save"></i> Update OT Type
                            </button>
                            <button class="btn btn-primary ot-type-edit-back-btn" 
                                    style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                                <i class="fas fa-arrow-left"></i> Back to List
                            </button>
                        </div>
                        <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                            <i class="fas fa-edit"></i> Editing OT Type: ${otType.ot_type_code}
                        </div>
                    </div>

                    <!-- MAIN FORM CONTENT -->
                    <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            
                            <!-- Left Column -->
                            <div class="form-column">
                                <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                    <!-- OT Type Code -->
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                            Code*
                                        </label>
                                        <input type="text" id="edit-ot-type-code" value="${otType.ot_type_code || ''}" 
                                               style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px;" readonly>
                                        <div style="font-size: 10px; color: #64748b; margin-top: 4px;">(Code cannot be changed)</div>
                                    </div>
                                    
                                    <!-- OT Type Name -->
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                            Name*
                                        </label>
                                        <input type="text" id="edit-ot-type-name" value="${otType.ot_type_name || ''}" 
                                               placeholder="e.g., Daily OT, Weekly OT, Monthly OT"
                                               style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    </div>
                                    
                         
                            
                            <!-- Right Column -->
                            <div class="form-column">
                                <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                    <!-- OT Type Category -->
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                            OT Type*
                                        </label>
                                        <select id="edit-ot-type-category" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                            <option value="Daily" ${otType.ot_type_category === 'Daily' ? 'selected' : ''}>Daily</option>
                                            <option value="Weekly" ${otType.ot_type_category === 'Weekly' ? 'selected' : ''}>Weekly</option>
                                            <option value="Monthly" ${otType.ot_type_category === 'Monthly' ? 'selected' : ''}>Monthly</option>
                                            <option value="Custom" ${otType.ot_type_category === 'Custom' ? 'selected' : ''}>Custom</option>
                                        </select>
                                    </div>
                                    
                                    <!-- Sort Code -->
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                            Sort Code*
                                        </label>
                                        <input type="number" id="edit-ot-type-sort-code" value="${otType.sort_code || ''}"
                                               style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                                        <div style="font-size: 10px; color: #64748b; margin-top: 4px;">Used for ordering OT types</div>
                                    </div>
                                    
                                  
                                    
                                    <!-- Time Configuration -->
                                    <div style="background: #fef3c7; padding: 15px; border-radius: 5px; border: 1px solid #fcd34d;">
                                        <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 13px; font-weight: 600;">Time Configuration</h4>
                                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                            <div class="form-group">
                                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                                    Min Hours for Break*
                                                </label>
                                                <div style="display: flex; align-items: center; gap: 8px;">
                                                    <input type="number" id="edit-ot-type-min-hours" value="${otType.min_hours_for_break || 1.00}" 
                                                           step="0.25" min="0" max="24"
                                                           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                                                    <span style="color: #64748b; font-size: 12px;">hours</span>
                                                </div>
                                            </div>
                                        
                                        </div>
                                    </div>
                                    
                                    <!-- Active Status -->
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                            Active Status
                                        </label>
                                        <div style="display: flex; align-items: center; gap: 15px;">
                                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                                <input type="radio" name="edit-ot-type-active" value="1" ${otType.is_active !== false ? 'checked' : ''} style="accent-color: var(--primary);">
                                                <span style="font-size: 13px;">Active</span>
                                            </label>
                                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                                <input type="radio" name="edit-ot-type-active" value="0" ${otType.is_active === false ? 'checked' : ''} style="accent-color: var(--primary);">
                                                <span style="font-size: 13px;">Inactive</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
            `;

                                // Update page content
                                const pageContent = document.getElementById('page-content');
                                if (pageContent) {
                                    pageContent.innerHTML = editFormHTML;

                                    // Add event listeners
                                    setTimeout(() => {
                                        // Back button
                                        const backBtn = document.querySelector('.ot-type-edit-back-btn');
                                        if (backBtn) {
                                            backBtn.addEventListener('click', (e) => {
                                                e.preventDefault();
                                                updatePageContent('ot-types');

                                                // Force reload data
                                                setTimeout(() => {
                                                    if (window.otTypesManager && window.otTypesManager.loadOTTypes) {
                                                        console.log('ðŸ”„ Reloading OT types list from edit form...');
                                                        window.otTypesManager.loadOTTypes();
                                                    }
                                                }, 500);
                                            });
                                        }

                                        // Update button
                                        const updateBtn = document.querySelector('.update-ot-type-btn');
                                        if (updateBtn) {
                                            updateBtn.addEventListener('click', (e) => {
                                                e.preventDefault();
                                                this.updateOTType(otId);
                                            });
                                        }

                                        // Setup form logic
                                        this.setupEditOTTypeFormLogic(otType);

                                    }, 100);
                                }

                                showStatusMessage('âœ… OT type loaded for editing', 'success');

                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('Edit error:', error);
                            showStatusMessage(`âŒ Failed to load OT type: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Setup form logic for edit OT Type
                    setupEditOTTypeFormLogic(otType) {
                        const categorySelect = document.getElementById('edit-ot-type-category');
                        const officeHoursSection = document.getElementById('edit-office-hours-section');

                        if (!categorySelect || !officeHoursSection) return;

                        // Toggle office hours based on category
                        function toggleOfficeHours() {
                            if (categorySelect.value === 'Daily') {
                                officeHoursSection.style.display = 'block';
                            } else {
                                officeHoursSection.style.display = 'none';
                            }
                        }

                        // Initial state
                        toggleOfficeHours();

                        // Listen to category changes
                        categorySelect.addEventListener('change', toggleOfficeHours);
                    }

                    // âœ… Update OT Type function
                    async updateOTType(otId) {
                        console.log('ðŸ’¾ Updating OT type:', otId);

                        const updateBtn = document.querySelector('.update-ot-type-btn');
                        if (updateBtn) {
                            updateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Updating...';
                            updateBtn.disabled = true;
                        }

                        try {
                            // Collect form data
                            const updateData = {
                                ot_type_name: document.getElementById('edit-ot-type-name').value.trim(),
                                ot_type_category: document.getElementById('edit-ot-type-category').value,
                                min_hours_for_break: parseFloat(document.getElementById('edit-ot-type-min-hours').value) || 1.00,
                                sort_code: parseInt(document.getElementById('edit-ot-type-sort-code').value),
                                is_active: document.querySelector('input[name="edit-ot-type-active"]:checked').value === '1',
                            };

                            // Add office hours if Daily category


                            console.log('ðŸ“¤ Update data:', updateData);

                            // Validation
                            const errors = [];

                            if (!updateData.ot_type_name) {
                                errors.push('OT type name is required');
                                document.getElementById('edit-ot-type-name').style.borderColor = '#ef4444';
                            }

                            if (!updateData.sort_code || updateData.sort_code < 1) {
                                errors.push('Valid sort code is required');
                                document.getElementById('edit-ot-type-sort-code').style.borderColor = '#ef4444';
                            }

                            if (updateData.min_hours_for_break < 0 || updateData.min_hours_for_break > 24) {
                                errors.push('Minimum hours must be between 0-24');
                                document.getElementById('edit-ot-type-min-hours').style.borderColor = '#ef4444';
                            }





                            if (errors.length > 0) {
                                showStatusMessage('âŒ ' + errors.join(', '), 'error');

                                if (updateBtn) {
                                    updateBtn.innerHTML = '<i class="fas fa-save"></i> Update OT Type';
                                    updateBtn.disabled = false;
                                }
                                return;
                            }

                            console.log('ðŸ“¤ Sending OT type update:', updateData);

                            // Send PUT request
                            const response = await fetch(`${this.baseURL}/ot-types/${otId}`, {
                                method: 'PUT',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify(updateData)
                            });

                            const result = await response.json();

                            if (!response.ok) {
                                throw new Error(result.error || `HTTP ${response.status}`);
                            }

                            if (result.success) {
                                showStatusMessage('âœ… OT type updated successfully!', 'success');

                                // Clear any edit mode flags
                                sessionStorage.removeItem('editOTTypeData');

                                // Go back to OT types list and reload
                                updatePageContent('ot-types');

                                setTimeout(() => {
                                    if (window.otTypesManager && window.otTypesManager.loadOTTypes) {
                                        console.log('ðŸ”„ Reloading OT types list after update...');
                                        window.otTypesManager.loadOTTypes();
                                    }
                                }, 300);

                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('âŒ Update error:', error);
                            showStatusMessage(`âŒ Update failed: ${error.message}`, 'error');

                            if (updateBtn) {
                                updateBtn.innerHTML = '<i class="fas fa-save"></i> Update OT Type';
                                updateBtn.disabled = false;
                            }
                        }
                    }

                    // âœ… Delete OT type with confirmation
                    async deleteOTType(otId, otCode, otName) {
                        if (!confirm(`ðŸ—‘ï¸ Delete OT type "${otName}" (${otCode})?\n\nThis action cannot be undone!`)) {
                            return;
                        }

                        try {
                            console.log('ðŸ—‘ï¸ Deleting OT type:', otId);

                            const response = await fetch(`${this.baseURL}/ot-types/${otId}`, {
                                method: 'DELETE'
                            });

                            if (!response.ok) {
                                const errorText = await response.text();
                                throw new Error(`Server error ${response.status}: ${errorText.substring(0, 100)}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                showStatusMessage(`âœ… OT type "${otName}" deleted successfully!`, 'success');
                                this.loadOTTypes(); // Refresh list
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('âŒ Delete error:', error);
                            showStatusMessage(`Delete failed: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Update pagination info
                    updatePagination(pagination) {
                        this.totalPages = pagination.totalPages;

                        const infoDiv = document.getElementById('ot-types-pagination-info');
                        if (infoDiv && pagination) {
                            const start = ((this.currentPage - 1) * this.pageSize) + 1;
                            const end = Math.min(this.currentPage * this.pageSize, pagination.total);

                            infoDiv.textContent = `Showing ${start} to ${end} of ${pagination.total} entries`;
                        }

                        // Update page buttons
                        this.updatePageButtons();
                    }

                    // âœ… Update page buttons state
                    updatePageButtons() {
                        const prevBtn = document.getElementById('ot-types-prev-btn');
                        const nextBtn = document.getElementById('ot-types-next-btn');

                        if (prevBtn) {
                            prevBtn.disabled = this.currentPage === 1;
                            prevBtn.style.opacity = this.currentPage === 1 ? '0.5' : '1';
                            prevBtn.style.cursor = this.currentPage === 1 ? 'not-allowed' : 'pointer';
                        }

                        if (nextBtn) {
                            nextBtn.disabled = this.currentPage >= this.totalPages;
                            nextBtn.style.opacity = this.currentPage >= this.totalPages ? '0.5' : '1';
                            nextBtn.style.cursor = this.currentPage >= this.totalPages ? 'not-allowed' : 'pointer';
                        }

                        // Update page numbers
                        this.updatePageNumbers();
                    }

                    // âœ… Update page numbers
                    updatePageNumbers() {
                        const pageNumbersDiv = document.getElementById('ot-types-page-numbers');
                        if (!pageNumbersDiv || !this.totalPages) return;

                        pageNumbersDiv.innerHTML = '';

                        // Show max 5 page numbers
                        let startPage = Math.max(1, this.currentPage - 2);
                        let endPage = Math.min(this.totalPages, this.currentPage + 2);

                        for (let i = startPage; i <= endPage; i++) {
                            const btn = document.createElement('button');
                            btn.className = i === this.currentPage ? 'btn btn-primary ot-types-page-btn' : 'btn btn-outline ot-types-page-btn';
                            btn.dataset.page = i;
                            btn.textContent = i;
                            btn.style.padding = '6px 12px';
                            btn.style.borderRadius = '5px';
                            btn.style.cursor = 'pointer';
                            btn.style.fontSize = '12px';

                            if (i === this.currentPage) {
                                btn.style.background = 'var(--primary)';
                                btn.style.color = 'white';
                                btn.style.border = 'none';
                            } else {
                                btn.style.background = 'white';
                                btn.style.color = 'var(--secondary)';
                                btn.style.border = '1px solid #d1d5db';
                            }

                            btn.addEventListener('click', () => {
                                this.currentPage = i;
                                this.loadOTTypes();
                            });

                            pageNumbersDiv.appendChild(btn);
                        }
                    }

                    // âœ… Update table info
                    updateTableInfo(currentCount, total) {
                        console.log(`ðŸ“Š Displaying ${currentCount} of ${total} OT types`);
                    }

                    // âœ… Show error message
                    showError(message) {
                        const tbody = document.getElementById('ot-types-table-body');
                        if (tbody) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="6" style="text-align: center; padding: 40px; color: #ef4444;">
                        <i class="fas fa-exclamation-triangle"></i>
                        <p style="margin-top: 10px;">${message}</p>
                        <button onclick="window.location.reload()" 
                                style="margin-top: 10px; padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            Retry
                        </button>
                    </td>
                </tr>
            `;
                        }
                    }
                }

                // âœ… Initialize OT types list page
                function initOTTypesList() {
                    const isOTTypesPage = document.querySelector('.ot-types-management') ||
                        window.location.hash === '#ot-types';

                    if (isOTTypesPage) {
                        console.log('â° OT types management page detected');

                        // Create manager instance
                        window.otTypesManager = new OTTypesListManager();

                        // Setup event listeners
                        setTimeout(() => {
                            // Create button
                            const createBtn = document.querySelector('.ot-types-create-btn');
                            if (createBtn) {
                                createBtn.addEventListener('click', (e) => {
                                    e.preventDefault();
                                    updatePageContent('ot-types-create');
                                });
                            }

                            // Refresh button
                            const refreshBtn = document.getElementById('refresh-ot-types-btn');
                            if (refreshBtn) {
                                refreshBtn.addEventListener('click', () => {
                                    window.otTypesManager.loadOTTypes();
                                    showStatusMessage('ðŸ”„ OT types list refreshed', 'info');
                                });
                            }

                            // Fetch button
                            const fetchBtn = document.getElementById('fetch-ot-types-btn');
                            if (fetchBtn) {
                                fetchBtn.addEventListener('click', () => {
                                    window.otTypesManager.currentPage = 1;
                                    window.otTypesManager.searchTerm = document.getElementById('ot-types-search').value;
                                    window.otTypesManager.statusFilter = document.getElementById('ot-types-status').value;
                                    window.otTypesManager.categoryFilter = document.getElementById('ot-types-category').value;
                                    window.otTypesManager.loadOTTypes();
                                });
                            }

                            // Clear button
                            const clearBtn = document.getElementById('clear-ot-types-btn');
                            if (clearBtn) {
                                clearBtn.addEventListener('click', () => {
                                    document.getElementById('ot-types-search').value = '';
                                    document.getElementById('ot-types-status').value = 'all';
                                    document.getElementById('ot-types-category').value = 'all';

                                    window.otTypesManager.currentPage = 1;
                                    window.otTypesManager.searchTerm = '';
                                    window.otTypesManager.statusFilter = 'all';
                                    window.otTypesManager.categoryFilter = 'all';
                                    window.otTypesManager.loadOTTypes();
                                });
                            }

                            // Search input (on Enter key)
                            const searchInput = document.getElementById('ot-types-search');
                            if (searchInput) {
                                searchInput.addEventListener('keyup', (e) => {
                                    if (e.key === 'Enter') {
                                        window.otTypesManager.currentPage = 1;
                                        window.otTypesManager.searchTerm = searchInput.value;
                                        window.otTypesManager.loadOTTypes();
                                    }
                                });
                            }

                            // Status filter change
                            const statusSelect = document.getElementById('ot-types-status');
                            if (statusSelect) {
                                statusSelect.addEventListener('change', () => {
                                    window.otTypesManager.currentPage = 1;
                                    window.otTypesManager.statusFilter = statusSelect.value;
                                    window.otTypesManager.loadOTTypes();
                                });
                            }

                            // Category filter change
                            const categorySelect = document.getElementById('ot-types-category');
                            if (categorySelect) {
                                categorySelect.addEventListener('change', () => {
                                    window.otTypesManager.currentPage = 1;
                                    window.otTypesManager.categoryFilter = categorySelect.value;
                                    window.otTypesManager.loadOTTypes();
                                });
                            }

                            // Page size select
                            const pageSizeSelect = document.getElementById('ot-types-page-size');
                            if (pageSizeSelect) {
                                pageSizeSelect.addEventListener('change', (e) => {
                                    window.otTypesManager.pageSize = parseInt(e.target.value);
                                    window.otTypesManager.currentPage = 1;
                                    window.otTypesManager.loadOTTypes();
                                });
                            }

                            // Previous button
                            const prevBtn = document.getElementById('ot-types-prev-btn');
                            if (prevBtn) {
                                prevBtn.addEventListener('click', () => {
                                    if (window.otTypesManager.currentPage > 1) {
                                        window.otTypesManager.currentPage--;
                                        window.otTypesManager.loadOTTypes();
                                    }
                                });
                            }

                            // Next button
                            const nextBtn = document.getElementById('ot-types-next-btn');
                            if (nextBtn) {
                                nextBtn.addEventListener('click', () => {
                                    if (window.otTypesManager.currentPage < window.otTypesManager.totalPages) {
                                        window.otTypesManager.currentPage++;
                                        window.otTypesManager.loadOTTypes();
                                    }
                                });
                            }

                            // Load initial data
                            window.otTypesManager.loadOTTypes();

                        }, 300);
                    }
                }

                // âœ… Call on page load
                document.addEventListener('DOMContentLoaded', function () {
                    setTimeout(initOTTypesList, 500);
                });

                // âœ… Call on hash change
                window.addEventListener('hashchange', function () {
                    setTimeout(initOTTypesList, 300);
                });
                // ============= PAYMODE FUNCTIONS =============

                // Check if paymode code already exists
                async function checkPaymodeCodeExists(code) {
                    try {
                        if (!code.trim()) return false;

                        const response = await fetch(`/api/paymodes/check-code?code=${encodeURIComponent(code)}`);

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();
                        return result.exists || false;

                    } catch (error) {
                        console.error('âŒ Code check error:', error);
                        return false;
                    }
                }

                // Real-time code validation
                function setupPaymodeCodeValidation() {
                    const codeInput = document.getElementById('paymode-code');
                    const errorDiv = document.getElementById('paymode-code-error');

                    if (!codeInput || !errorDiv) return;

                    codeInput.addEventListener('input', function () {
                        const code = this.value.trim();

                        errorDiv.style.display = 'none';
                        errorDiv.textContent = '';

                        if (code === '') {
                            this.style.borderColor = '#d1d5db';
                            return;
                        }

                        // Validate format: alphanumeric + dash/underscore
                        const isValidFormat = /^[A-Za-z0-9_-]{1,20}$/.test(code);

                        if (!isValidFormat) {
                            errorDiv.textContent = 'âŒ Only letters, numbers, dash (-) and underscore (_) allowed. Max 20 chars.';
                            errorDiv.style.display = 'block';
                            this.style.borderColor = '#ef4444';
                        } else {
                            this.style.borderColor = '#10b981';
                        }
                    });

                    // Check if code exists when user leaves the field
                    codeInput.addEventListener('blur', async function () {
                        const code = this.value.trim();

                        if (!code) return;

                        const isValidFormat = /^[A-Za-z0-9_-]{1,20}$/.test(code);
                        if (!isValidFormat) {
                            errorDiv.textContent = 'âŒ Invalid code format';
                            errorDiv.style.display = 'block';
                            this.style.borderColor = '#ef4444';
                            return;
                        }

                        const exists = await checkPaymodeCodeExists(code);

                        if (exists) {
                            errorDiv.textContent = 'âŒ This paymode code already exists. Please use a different code.';
                            errorDiv.style.display = 'block';
                            this.style.borderColor = '#ef4444';
                        } else {
                            errorDiv.textContent = 'âœ… Code is available';
                            errorDiv.style.color = '#10b981';
                            errorDiv.style.display = 'block';
                            this.style.borderColor = '#10b981';
                        }
                    });
                }

                // Save paymode function
                window.savePaymode = async function () {
                    // Get form elements
                    const saveBtn = document.querySelector('.btn-primary[onclick*="savePaymode"]') ||
                        document.querySelector('.btn-primary:has(i.fa-save)');
                    const paymodeCode = document.getElementById('paymode-code').value.trim();
                    const paymodeDescription = document.getElementById('paymode-description').value.trim();
                    const isBank = document.getElementById('paymode-is-bank').checked;
                    const isDefault = document.getElementById('paymode-is-default').checked;

                    // Validation
                    const errors = [];

                    if (!paymodeCode) {
                        errors.push('Paymode code is required');
                        document.getElementById('paymode-code').style.borderColor = '#ef4444';
                    }

                    if (!paymodeDescription) {
                        errors.push('Description is required');
                        document.getElementById('paymode-description').style.borderColor = '#ef4444';
                    }

                    if (errors.length > 0) {
                        showStatusMessage('âŒ ' + errors.join(', '), 'error');
                        return;
                    }

                    try {
                        // Show loading
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';
                            saveBtn.disabled = true;
                        }

                        // Check if code exists
                        const codeExists = await checkPaymodeCodeExists(paymodeCode);
                        if (codeExists) {
                            showStatusMessage('âŒ Paymode code already exists. Please use a different code.', 'error');
                            document.getElementById('paymode-code').focus();

                            if (saveBtn) {
                                saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                                saveBtn.disabled = false;
                            }
                            return;
                        }

                        // Collect form data
                        const formData = {
                            paymode_code: paymodeCode,
                            paymode_description: paymodeDescription,
                            is_bank: isBank,
                            is_default: isDefault
                        };

                        console.log('ðŸ“¤ Saving paymode:', formData);

                        // Send to API
                        const response = await fetch('/api/paymodes', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(formData)
                        });

                        const result = await response.json();

                        if (response.ok && result.success) {
                            showStatusMessage(`âœ… Paymode "${paymodeCode}" saved successfully!`, 'success');

                            // Reset form and go back after 1.5 seconds
                            setTimeout(() => {
                                updatePageContent('accounts-settings-paymode'); // Adjust to your paymode list page
                            }, 1500);
                        } else {
                            throw new Error(result.error || 'Failed to save paymode');
                        }

                    } catch (error) {
                        console.error('âŒ Save paymode error:', error);
                        showStatusMessage('âŒ ' + error.message, 'error');

                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                            saveBtn.disabled = false;
                        }
                    }
                }

                // Initialize paymode form
                function initPaymodeCreateForm() {
                    // Setup code validation
                    setupPaymodeCodeValidation();

                    // Add event listener to Save button
                    const saveBtn = document.querySelector('.btn-primary:has(i.fa-save)');
                    if (saveBtn && !saveBtn.hasAttribute('onclick')) {
                        saveBtn.setAttribute('onclick', 'savePaymode()');
                    }

                    // Back button functionality
                    const backBtn = document.querySelector('.paymode-back-btn');
                    if (backBtn) {
                        backBtn.addEventListener('click', (e) => {
                            e.preventDefault();
                            updatePageContent('accounts-settings-paymode'); // Adjust to your paymode list page
                        });
                    }

                    // Focus on code field
                    setTimeout(() => {
                        const codeInput = document.getElementById('paymode-code');
                        if (codeInput) codeInput.focus();
                    }, 200);
                }
                // Call this when paymode create page loads
                document.addEventListener('DOMContentLoaded', function () {
                    if (window.location.hash === '#paymode-create') {
                        setTimeout(initPaymodeCreateForm, 100);
                    }
                });

                // Also call on hash change
                window.addEventListener('hashchange', function () {
                    if (window.location.hash === '#paymode-create') {
                        setTimeout(initPaymodeCreateForm, 300);
                    }
                });
                // ============= PAYMODE LIST MANAGER =============
                class PaymodeListManager {
                    constructor() {
                        this.baseURL = 'http://localhost:5000/api';
                        this.currentPage = 1;
                        this.pageSize = 20;
                        this.totalPages = 1;
                        console.log('ðŸ“‚ PaymodeListManager initialized');
                    }

                    // âœ… Load paymodes
                    async loadPaymodes() {
                        console.log('ðŸ“¥ Loading paymodes...');

                        try {
                            const searchInput = document.querySelector('.filters-section input[placeholder="Code or Description"]');
                            const defaultSelect = document.querySelector('.filters-section select:first-of-type');

                            const search = searchInput ? searchInput.value : '';
                            const defaultStatus = defaultSelect ? defaultSelect.value : 'All';

                            // Build query parameters
                            let url = `${this.baseURL}/paymodes?page=${this.currentPage}&limit=${this.pageSize}`;

                            if (search) {
                                url += `&search=${encodeURIComponent(search)}`;
                            }

                            console.log('ðŸŒ Fetching:', url);

                            const response = await fetch(url);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                let paymodes = result.data;

                                // Apply default status filter client-side
                                if (defaultStatus === 'Default') {
                                    paymodes = paymodes.filter(p => p.is_default === true);
                                } else if (defaultStatus === 'Non-Default') {
                                    paymodes = paymodes.filter(p => p.is_default === false);
                                }

                                this.renderPaymodes(paymodes);
                                this.updatePagination(result.pagination);
                            } else {
                                throw new Error(result.error || 'API failed');
                            }

                        } catch (error) {
                            console.error('âŒ Load error:', error);
                            this.showError(`Failed to load: ${error.message}`);
                        }
                    }

                    // âœ… Render paymodes in table
                    renderPaymodes(paymodes) {
                        const tbody = document.querySelector('.paymode-table tbody');
                        if (!tbody) {
                            console.error('âŒ Table body not found!');
                            return;
                        }

                        if (paymodes.length === 0) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="4" style="text-align: center; padding: 40px; color: #64748b;">
                        <i class="fas fa-database"></i>
                        <p style="margin-top: 10px;">No paymodes found.</p>
                        <button class="paymode-create-btn"
                                style="margin-top: 10px; padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-plus"></i> Add First Paymode
                        </button>
                    </td>
                </tr>
            `;

                            // Add event listener to the button
                            const addBtn = tbody.querySelector('.paymode-create-btn');
                            if (addBtn) {
                                addBtn.addEventListener('click', (e) => {
                                    e.preventDefault();
                                    updatePageContent('paymode-create');
                                });
                            }

                            return;
                        }

                        tbody.innerHTML = '';

                        paymodes.forEach(paymode => {
                            const row = document.createElement('tr');
                            row.style.borderBottom = '1px solid #e2e8f0';

                            row.innerHTML = `
                <td style="padding: 15px; color: var(--dark); font-weight: 600;">
                    ${paymode.paymode_code || '-'}
                    ${paymode.is_bank ? `
                        <span style="background: #dbeafe; color: #1e40af; padding: 2px 6px; border-radius: 4px; font-size: 11px; display: inline-block; margin-left: 5px;">
                            Bank
                        </span>
                    ` : ''}
                </td>
                <td style="padding: 15px; color: var(--dark);">
                    <div style="font-weight: 500;">${paymode.paymode_description || '-'}</div>
                    ${!paymode.is_active ? `
                        <span style="background: #fef2f2; color: #dc2626; padding: 2px 6px; border-radius: 4px; font-size: 11px; display: inline-block; margin-top: 3px;">
                            Inactive
                        </span>
                    ` : ''}
                </td>
                <td style="padding: 15px; text-align: center; color: #64748b;">
                    <div style="display: flex; align-items: center; justify-content: center;">
                        <input type="checkbox" 
                               class="default-toggle" 
                               data-id="${paymode.paymode_id}"
                               ${paymode.is_default ? 'checked' : ''}
                               style="accent-color: var(--primary); cursor: pointer;"
                               title="${paymode.is_default ? 'Default Paymode' : 'Set as Default'}">
                    </div>
                </td>
                <td style="padding: 15px; text-align: center;">
                    <div style="display: flex; justify-content: center; gap: 8px;">
                        <!-- ðŸ‘ï¸ VIEW BUTTON -->
                        <button class="view-paymode-btn" 
                                data-id="${paymode.paymode_id}"
                                data-code="${paymode.paymode_code}"
                                style="background: none; border: none; cursor: pointer; color: #10b981; padding: 6px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#d1fae5'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="View Details">
                            <i class="fas fa-eye" style="font-size: 14px;"></i>
                        </button>
                        
                        <!-- âœï¸ EDIT BUTTON -->
                        <button class="edit-paymode-btn" 
                                data-id="${paymode.paymode_id}"
                                data-code="${paymode.paymode_code}"
                                style="background: none; border: none; cursor: pointer; color: #2563eb; padding: 6px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#dbeafe'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Edit">
                            <i class="fas fa-edit" style="font-size: 14px;"></i>
                        </button>
                        
                        <!-- ðŸ—‘ï¸ DELETE BUTTON -->
                        <button class="delete-paymode-btn" 
                                data-id="${paymode.paymode_id}"
                                data-code="${paymode.paymode_code}"
                                style="background: none; border: none; cursor: pointer; color: #ef4444; padding: 6px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#fee2e2'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Delete">
                            <i class="fas fa-trash" style="font-size: 14px;"></i>
                        </button>
                    </div>
                </td>
            `;

                            tbody.appendChild(row);
                        });

                        // Add event listeners
                        this.setupRowButtons();
                        this.setupDefaultToggles();
                    }

                    // âœ… Setup button listeners
                    setupRowButtons() {
                        // ðŸ‘ï¸ View buttons
                        document.querySelectorAll('.view-paymode-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const paymodeId = btn.dataset.id;
                                console.log('ðŸ‘ï¸ View paymode:', paymodeId);
                                this.viewPaymode(paymodeId);
                            });
                        });

                        // âœï¸ Edit buttons
                        document.querySelectorAll('.edit-paymode-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const paymodeId = btn.dataset.id;
                                const paymodeCode = btn.dataset.code;
                                console.log('âœï¸ Edit paymode:', paymodeId, paymodeCode);
                                this.editPaymode(paymodeId);
                            });
                        });

                        // ðŸ—‘ï¸ Delete buttons
                        document.querySelectorAll('.delete-paymode-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const paymodeId = btn.dataset.id;
                                const paymodeCode = btn.dataset.code;
                                this.deletePaymode(paymodeId, paymodeCode);
                            });
                        });
                    }

                    // âœ… Setup default toggle listeners
                    setupDefaultToggles() {
                        document.querySelectorAll('.default-toggle').forEach(toggle => {
                            toggle.addEventListener('change', async (e) => {
                                const paymodeId = toggle.dataset.id;
                                const isChecked = toggle.checked;

                                console.log(`ðŸ”˜ Toggling default for paymode ${paymodeId}: ${isChecked}`);

                                if (isChecked) {
                                    try {
                                        const response = await fetch(`${this.baseURL}/paymodes/${paymodeId}/toggle-default`, {
                                            method: 'PATCH'
                                        });

                                        const result = await response.json();

                                        if (response.ok && result.success) {
                                            showStatusMessage('âœ… Default paymode updated', 'success');
                                            // Reload to update all checkboxes
                                            this.loadPaymodes();
                                        } else {
                                            throw new Error(result.error);
                                        }
                                    } catch (error) {
                                        console.error('âŒ Toggle error:', error);
                                        showStatusMessage(`âŒ Failed: ${error.message}`, 'error');
                                        // Revert checkbox
                                        toggle.checked = !isChecked;
                                    }
                                } else {
                                    // Don't allow unchecking - must select another default
                                    toggle.checked = true;
                                    showStatusMessage('âš ï¸ Please select another paymode as default first', 'warning');
                                }
                            });
                        });
                    }

                    // âœ… View paymode function
                    async viewPaymode(paymodeId) {
                        console.log('ðŸ” Viewing paymode:', paymodeId);

                        try {
                            const response = await fetch(`${this.baseURL}/paymodes/${paymodeId}`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.showPaymodeViewForm(result.data);
                            } else {
                                throw new Error(result.error);
                            }
                        } catch (error) {
                            console.error('View error:', error);
                            showStatusMessage(`âŒ Failed to load details: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Show paymode view form
                    showPaymodeViewForm(paymode) {
                        const viewFormHTML = `
            <div class="paymode-view-form">
                <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary edit-paymode-from-view-btn" 
                                data-id="${paymode.paymode_id}"
                                style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-edit"></i> Edit Paymode
                        </button>
                        <button class="btn btn-primary paymode-view-back-btn" 
                                style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-arrow-left"></i> Back to List
                        </button>
                    </div>
                    <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                        <i class="fas fa-eye"></i> Viewing Paymode: ${paymode.paymode_code}
                    </div>
                </div>

                <!-- Main Form Section -->
                <div class="form-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <!-- Left Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Code</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                        <span style="font-family: 'Courier New', monospace; font-weight: 600;">${paymode.paymode_code || 'Not provided'}</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Description</label>
                                    <div style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; min-height: 80px; white-space: pre-line;">
                                        ${paymode.paymode_description || '<span style="color: #94a3b8; font-style: italic;">No description provided</span>'}
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Status</label>
                                    <div style="display: flex; flex-wrap: wrap; gap: 15px;">
                                        <div style="display: flex; align-items: center; gap: 6px;">
                                            <div style="
                                                width: 16px;
                                                height: 16px;
                                                border: 1px solid #d1d5db;
                                                border-radius: 3px;
                                                display: flex;
                                                align-items: center;
                                                justify-content: center;
                                                background: ${paymode.is_bank ? '#10b981' : '#f9fafb'};
                                            ">
                                                ${paymode.is_bank ? 'âœ“' : ''}
                                            </div>
                                            <span style="font-size: 12px; color: var(--dark);">Bank Type</span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 6px;">
                                            <div style="
                                                width: 16px;
                                                height: 16px;
                                                border: 1px solid #d1d5db;
                                                border-radius: 3px;
                                                display: flex;
                                                align-items: center;
                                                justify-content: center;
                                                background: ${paymode.is_default ? '#f59e0b' : '#f9fafb'};
                                            ">
                                                ${paymode.is_default ? 'âœ“' : ''}
                                            </div>
                                            <span style="font-size: 12px; color: var(--dark);">Default Paymode</span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 6px;">
                                            <div style="
                                                width: 16px;
                                                height: 16px;
                                                border: 1px solid #d1d5db;
                                                border-radius: 3px;
                                                display: flex;
                                                align-items: center;
                                                justify-content: center;
                                                background: ${paymode.is_active ? '#10b981' : '#f9fafb'};
                                            ">
                                                ${paymode.is_active ? 'âœ“' : ''}
                                            </div>
                                            <span style="font-size: 12px; color: var(--dark);">Active</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Audit Information -->
                <div style="margin-top: 20px; padding: 15px; background: #f8fafc; border-radius: 8px; border: 1px solid #e2e8f0;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div>
                            <div style="color: #6b7280; font-size: 11px; margin-bottom: 4px;">Created At</div>
                            <div style="font-size: 12px; font-weight: 500;">
                                ${paymode.created_at ? new Date(paymode.created_at).toLocaleDateString('en-GB', {
                            day: '2-digit',
                            month: 'short',
                            year: 'numeric',
                            hour: '2-digit',
                            minute: '2-digit'
                        }) : 'N/A'}
                            </div>
                        </div>
                        <div>
                            <div style="color: #6b7280; font-size: 11px; margin-bottom: 4px;">Last Updated</div>
                            <div style="font-size: 12px; font-weight: 500;">
                                ${paymode.updated_at ? new Date(paymode.updated_at).toLocaleDateString('en-GB', {
                            day: '2-digit',
                            month: 'short',
                            year: 'numeric',
                            hour: '2-digit',
                            minute: '2-digit'
                        }) : 'N/A'}
                            </div>
                        </div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                    Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
                </div>
            </div>
        `;

                        // Update page content
                        const pageContent = document.getElementById('page-content');
                        if (pageContent) {
                            pageContent.innerHTML = viewFormHTML;

                            // Add event listeners
                            setTimeout(() => {
                                // Back button
                                const backBtn = document.querySelector('.paymode-view-back-btn');
                                if (backBtn) {
                                    backBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        updatePageContent('accounts-settings-paymode');

                                        // Reload paymode list
                                        setTimeout(() => {
                                            if (window.paymodeManager && window.paymodeManager.loadPaymodes) {
                                                console.log('ðŸ”„ Reloading paymode list from view form...');
                                                window.paymodeManager.loadPaymodes();
                                            }
                                        }, 500);
                                    });
                                }

                                // Edit button
                                const editBtn = document.querySelector('.edit-paymode-from-view-btn');
                                if (editBtn) {
                                    editBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        this.editPaymode(paymode.paymode_id);
                                    });
                                }

                            }, 100);
                        }
                    }

                    // âœ… Edit paymode function
                    async editPaymode(paymodeId) {
                        console.log('âœï¸ Edit paymode:', paymodeId);

                        try {
                            showStatusMessage('Loading paymode details...', 'info');

                            const response = await fetch(`${this.baseURL}/paymodes/${paymodeId}`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.showPaymodeEditForm(result.data);
                            } else {
                                throw new Error(result.error);
                            }
                        } catch (error) {
                            console.error('Edit error:', error);
                            showStatusMessage('Failed to load paymode details', 'error');
                        }
                    }

                    // âœ… Show paymode edit form
                    showPaymodeEditForm(paymode) {
                        const editFormHTML = `
            <div class="paymode-edit-form">
                <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary update-paymode-btn" 
                                data-paymode-id="${paymode.paymode_id}"
                                style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-save"></i> Update Paymode
                        </button>
                        <button class="btn btn-primary paymode-edit-back-btn" 
                                style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-arrow-left"></i> Back to List
                        </button>
                    </div>
                    <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                        <i class="fas fa-edit"></i> Editing Paymode: ${paymode.paymode_code}
                    </div>
                </div>

                <!-- MAIN FORM CONTENT -->
                <div class="form-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <!-- Left Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Code</label>
                                    <input type="text" id="edit-paymode-code" value="${paymode.paymode_code || ''}" 
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px;" readonly>
                                </div>
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Description*</label>
                                    <textarea id="edit-paymode-description" 
                                              style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; min-height: 80px; resize: vertical;">${paymode.paymode_description || ''}</textarea>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <div class="form-group" style="display: flex; align-items: center; gap: 10px;">
                                    <input type="checkbox" id="edit-paymode-is-bank" ${paymode.is_bank ? 'checked' : ''} style="width: 16px; height: 16px;">
                                    <label for="edit-paymode-is-bank" style="font-weight: 600; color: var(--dark); font-size: 12px; margin: 0;">Is Bank</label>
                                </div>
                                <div class="form-group" style="display: flex; align-items: center; gap: 10px;">
                                    <input type="checkbox" id="edit-paymode-is-default" ${paymode.is_default ? 'checked' : ''} style="width: 16px; height: 16px;">
                                    <label for="edit-paymode-is-default" style="font-weight: 600; color: var(--dark); font-size: 12px; margin: 0;">Is Default</label>
                                </div>
                                <div class="form-group" style="display: flex; align-items: center; gap: 10px;">
                                    <input type="checkbox" id="edit-paymode-is-active" ${paymode.is_active !== false ? 'checked' : ''} style="width: 16px; height: 16px;">
                                    <label for="edit-paymode-is-active" style="font-weight: 600; color: var(--dark); font-size: 12px; margin: 0;">Is Active</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                    Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
                </div>
            </div>
        `;

                        // Update page content
                        const pageContent = document.getElementById('page-content');
                        if (pageContent) {
                            pageContent.innerHTML = editFormHTML;

                            // Add event listeners
                            setTimeout(() => {
                                // Back button
                                const backBtn = document.querySelector('.paymode-edit-back-btn');
                                if (backBtn) {
                                    backBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        updatePageContent('accounts-settings-paymode');

                                        // Force reload data
                                        setTimeout(() => {
                                            if (window.paymodeManager && window.paymodeManager.loadPaymodes) {
                                                console.log('ðŸ”„ Reloading paymode list from edit form...');
                                                window.paymodeManager.loadPaymodes();
                                            }
                                        }, 500);
                                    });
                                }

                                // Update button
                                const updateBtn = document.querySelector('.update-paymode-btn');
                                if (updateBtn) {
                                    updateBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        this.updatePaymode(paymode.paymode_id);
                                    });
                                }

                            }, 100);
                        }

                        showStatusMessage('Paymode loaded for editing', 'success');
                    }

                    // âœ… Update paymode function
                    async updatePaymode(paymodeId) {
                        console.log('ðŸ’¾ Updating paymode:', paymodeId);

                        const updateBtn = document.querySelector('.update-paymode-btn');
                        if (updateBtn) {
                            updateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Updating...';
                            updateBtn.disabled = true;
                        }

                        try {
                            // Collect form data
                            const updateData = {
                                paymode_description: document.getElementById('edit-paymode-description').value.trim(),
                                is_bank: document.getElementById('edit-paymode-is-bank').checked,
                                is_default: document.getElementById('edit-paymode-is-default').checked,
                                is_active: document.getElementById('edit-paymode-is-active').checked
                            };

                            // Validation
                            const description = updateData.paymode_description;
                            if (!description) {
                                showStatusMessage('âŒ Description is required!', 'error');
                                if (updateBtn) {
                                    updateBtn.innerHTML = '<i class="fas fa-save"></i> Update Paymode';
                                    updateBtn.disabled = false;
                                }
                                return;
                            }

                            console.log('ðŸ“¤ Sending paymode update:', updateData);

                            // Send PUT request
                            const response = await fetch(`${this.baseURL}/paymodes/${paymodeId}`, {
                                method: 'PUT',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify(updateData)
                            });

                            const result = await response.json();

                            if (!response.ok) {
                                throw new Error(result.error || `HTTP ${response.status}`);
                            }

                            if (result.success) {
                                showStatusMessage('âœ… Paymode updated successfully!', 'success');

                                // Go back to paymode list and reload
                                updatePageContent('accounts-settings-paymode');

                                setTimeout(() => {
                                    if (window.paymodeManager && window.paymodeManager.loadPaymodes) {
                                        console.log('ðŸ”„ Auto-reloading paymode list after update...');
                                        window.paymodeManager.loadPaymodes();
                                    }
                                }, 300);
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('âŒ Update error:', error);
                            showStatusMessage(`Update failed: ${error.message}`, 'error');

                            if (updateBtn) {
                                updateBtn.innerHTML = '<i class="fas fa-save"></i> Update Paymode';
                                updateBtn.disabled = false;
                            }
                        }
                    }

                    // âœ… Delete paymode
                    async deletePaymode(paymodeId, paymodeCode) {
                        if (!confirm(`ðŸ—‘ï¸ Delete paymode "${paymodeCode}"?\n\nThis action cannot be undone!`)) {
                            return;
                        }

                        try {
                            console.log('ðŸ—‘ï¸ Deleting paymode:', paymodeId);

                            const response = await fetch(`${this.baseURL}/paymodes/${paymodeId}`, {
                                method: 'DELETE'
                            });

                            if (!response.ok) {
                                const errorText = await response.text();
                                throw new Error(`Server error ${response.status}: ${errorText.substring(0, 100)}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                showStatusMessage(`âœ… Paymode "${paymodeCode}" deleted successfully!`, 'success');
                                this.loadPaymodes(); // Refresh list
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('âŒ Delete error:', error);
                            showStatusMessage(`Delete failed: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Update pagination
                    updatePagination(pagination) {
                        const infoDiv = document.querySelector('.pagination-info');
                        if (infoDiv && pagination) {
                            const start = ((this.currentPage - 1) * this.pageSize) + 1;
                            const end = Math.min(this.currentPage * this.pageSize, pagination.total);

                            infoDiv.textContent = `Showing ${start} to ${end} of ${pagination.total} entries`;
                            this.totalPages = pagination.totalPages;
                        }
                    }

                    // âœ… Show error
                    showError(message) {
                        const tbody = document.querySelector('.paymode-table tbody');
                        if (tbody) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="4" style="text-align: center; padding: 40px; color: #ef4444;">
                        <i class="fas fa-exclamation-triangle"></i>
                        <p style="margin-top: 10px;">${message}</p>
                        <button onclick="window.location.reload()" 
                                style="margin-top: 10px; padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            Retry
                        </button>
                    </td>
                </tr>
            `;
                        }
                    }

                    // âœ… Clear filters
                    clearFilters() {
                        const searchInput = document.querySelector('.filters-section input[placeholder="Code or Description"]');
                        const defaultSelect = document.querySelector('.filters-section select:first-of-type');

                        if (searchInput) searchInput.value = '';
                        if (defaultSelect) defaultSelect.value = 'All';

                        this.currentPage = 1;
                        this.loadPaymodes();
                    }
                }
                // âœ… Initialize paymode list
                function initPaymodeList() {
                    const isPaymodePage = document.querySelector('.paymode-management') ||
                        window.location.hash === '#accounts-settings-paymode';

                    if (isPaymodePage) {
                        console.log('âœ… Paymode management page detected');

                        // Create manager
                        window.paymodeManager = new PaymodeListManager();

                        // Setup event listeners
                        setTimeout(() => {
                            // Create New button
                            const createBtn = document.querySelector('.paymode-create-btn');
                            if (createBtn) {
                                createBtn.addEventListener('click', (e) => {
                                    e.preventDefault();
                                    updatePageContent('paymode-create');
                                });
                            }

                            // Fetch button
                            const fetchBtn = document.querySelector('.filters-section .btn-primary:has(i.fa-download)');
                            if (fetchBtn) {
                                fetchBtn.addEventListener('click', () => {
                                    window.paymodeManager.currentPage = 1;
                                    window.paymodeManager.loadPaymodes();
                                });
                            }

                            // Clear button
                            const clearBtn = document.querySelector('.filters-section .btn-outline:has(i.fa-times)');
                            if (clearBtn) {
                                clearBtn.addEventListener('click', () => {
                                    window.paymodeManager.clearFilters();
                                });
                            }

                            // Search input (on Enter key)
                            const searchInput = document.querySelector('.filters-section input[placeholder="Code or Description"]');
                            if (searchInput) {
                                searchInput.addEventListener('keyup', (e) => {
                                    if (e.key === 'Enter') {
                                        window.paymodeManager.currentPage = 1;
                                        window.paymodeManager.loadPaymodes();
                                    }
                                });
                            }

                            // Default status filter
                            const defaultSelect = document.querySelector('.filters-section select:first-of-type');
                            if (defaultSelect) {
                                defaultSelect.addEventListener('change', () => {
                                    window.paymodeManager.currentPage = 1;
                                    window.paymodeManager.loadPaymodes();
                                });
                            }

                            // Page size select
                            const pageSizeSelect = document.querySelector('.pagination select');
                            if (pageSizeSelect) {
                                pageSizeSelect.addEventListener('change', (e) => {
                                    window.paymodeManager.pageSize = parseInt(e.target.value);
                                    window.paymodeManager.currentPage = 1;
                                    window.paymodeManager.loadPaymodes();
                                });
                            }

                            // Previous button
                            const prevBtn = document.querySelector('.pagination-controls button:first-child');
                            if (prevBtn) {
                                prevBtn.addEventListener('click', () => {
                                    if (window.paymodeManager.currentPage > 1) {
                                        window.paymodeManager.currentPage--;
                                        window.paymodeManager.loadPaymodes();
                                    }
                                });
                            }

                            // Next button
                            const nextBtn = document.querySelector('.pagination-controls button:last-child');
                            if (nextBtn) {
                                nextBtn.addEventListener('click', () => {
                                    if (window.paymodeManager.currentPage < window.paymodeManager.totalPages) {
                                        window.paymodeManager.currentPage++;
                                        window.paymodeManager.loadPaymodes();
                                    }
                                });
                            }

                            // Refresh button
                            const refreshBtn = document.querySelector('.btn-outline:has(i.fa-sync-alt)');
                            if (refreshBtn) {
                                refreshBtn.addEventListener('click', () => {
                                    window.paymodeManager.loadPaymodes();
                                    showStatusMessage('Refreshed paymode list', 'info');
                                });
                            }

                            // Load data
                            window.paymodeManager.loadPaymodes();

                        }, 300);
                    }
                }

                // âœ… Call on page load
                document.addEventListener('DOMContentLoaded', function () {
                    setTimeout(initPaymodeList, 500);
                });

                // âœ… Call on hash change
                window.addEventListener('hashchange', function () {
                    setTimeout(initPaymodeList, 300);
                });
                // ============= ACCOUNT DIVISION FUNCTIONS =============

                // Initialize account division create form
                function initAccountDivisionCreateForm() {
                    console.log('ðŸ’° Initializing account division create form...');

                    // Setup event listeners
                    setTimeout(() => {
                        // Save button
                        const saveBtn = document.querySelector('.account-division-save-btn');
                        if (saveBtn) {
                            saveBtn.addEventListener('click', saveAccountDivision);
                        }

                        // Back button
                        const backBtn = document.querySelector('.account-division-back-btn');
                        if (backBtn) {
                            backBtn.addEventListener('click', () => {
                                updatePageContent('account-division-list'); // or your list page
                            });
                        }

                        // Real-time validation for division code
                        const codeInput = document.querySelector('.account-division-create input[type="text"]:first-child');
                        if (codeInput) {
                            codeInput.addEventListener('blur', async function () {
                                const code = this.value.trim();
                                if (code) {
                                    await checkDivisionCodeExists(code);
                                }
                            });
                        }

                    }, 100);
                }

                // Check if division code exists
                async function checkDivisionCodeExists(code) {
                    try {
                        if (!code.trim()) return false;

                        const response = await fetch(`/api/account-divisions/check-code/${encodeURIComponent(code)}`);

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        // Create error div if doesn't exist
                        let errorDiv = document.querySelector('.account-division-create .code-error');
                        if (!errorDiv) {
                            const codeInput = document.querySelector('.account-division-create input[type="text"]:first-child');
                            errorDiv = document.createElement('div');
                            errorDiv.className = 'code-error';
                            errorDiv.style.cssText = 'color: #ef4444; font-size: 11px; margin-top: 4px; display: none;';
                            codeInput.parentNode.appendChild(errorDiv);
                        }

                        if (result.exists) {
                            errorDiv.textContent = 'âŒ This division code already exists';
                            errorDiv.style.display = 'block';
                            errorDiv.style.color = '#ef4444';
                            codeInput.style.borderColor = '#ef4444';
                            return true;
                        } else {
                            errorDiv.textContent = 'âœ… Code is available';
                            errorDiv.style.color = '#10b981';
                            errorDiv.style.display = 'block';
                            codeInput.style.borderColor = '#10b981';
                            return false;
                        }

                    } catch (error) {
                        console.error('Code check error:', error);
                        return false;
                    }
                }

                // Save account division function
                async function saveAccountDivision() {
                    console.log('ðŸ’¾ Saving account division...');

                    // Get form elements
                    const saveBtn = document.querySelector('.account-division-save-btn');
                    const inputs = document.querySelectorAll('.account-division-create input, .account-division-create select, .account-division-create textarea');

                    const divisionCode = inputs[0].value.trim();
                    const divisionName = inputs[1].value.trim();
                    const description = inputs[2].value.trim();
                    const currencyCode = inputs[3].value;
                    const isActive = inputs[4].checked;
                    const isDefault = inputs[5].checked;

                    // Clear previous errors
                    const errorDiv = document.querySelector('.account-division-create .code-error');
                    if (errorDiv) errorDiv.style.display = 'none';

                    // Validation
                    const errors = [];

                    if (!divisionCode) {
                        errors.push('Division code is required');
                        inputs[0].style.borderColor = '#ef4444';
                    }

                    if (!divisionName) {
                        errors.push('Division name is required');
                        inputs[1].style.borderColor = '#ef4444';
                    }

                    if (!currencyCode) {
                        errors.push('Currency is required');
                        inputs[3].style.borderColor = '#ef4444';
                    }

                    if (errors.length > 0) {
                        showStatusMessage('âŒ ' + errors.join(', '), 'error');
                        return;
                    }

                    try {
                        // Show loading
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';
                            saveBtn.disabled = true;
                        }

                        // Check if code exists
                        const codeExists = await checkDivisionCodeExists(divisionCode);
                        if (codeExists) {
                            showStatusMessage('âŒ Division code already exists', 'error');
                            if (saveBtn) {
                                saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                                saveBtn.disabled = false;
                            }
                            return;
                        }

                        // Prepare division data
                        const divisionData = {
                            division_code: divisionCode,
                            division_name: divisionName,
                            description: description,
                            currency_code: currencyCode,
                            is_active: isActive,
                            is_default: isDefault,
                            created_by: getCurrentUserId() // Replace with actual user ID from session
                        };

                        console.log('ðŸ“¤ Saving division:', divisionData);

                        // Send to API
                        const response = await fetch('/api/account-divisions', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(divisionData)
                        });

                        const result = await response.json();

                        if (response.ok && result.success) {
                            showStatusMessage(`âœ… Account Division "${divisionName}" saved successfully!`, 'success');

                            // Reset form and go back after 1.5 seconds
                            setTimeout(() => {
                                updatePageContent('accounts-settings-account-division'); // or your list page
                            }, 1500);
                        } else {
                            throw new Error(result.error || 'Failed to save division');
                        }

                    } catch (error) {
                        console.error('âŒ Save division error:', error);
                        showStatusMessage('âŒ ' + error.message, 'error');

                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                            saveBtn.disabled = false;
                        }
                    }
                }

                // Helper function to get current user ID (replace with your auth system)
                function getCurrentUserId() {
                    return 1; // Replace with actual user ID from session/cookie
                }

                // Call init when account division create page loads
                document.addEventListener('DOMContentLoaded', function () {
                    if (window.location.hash === '#account-division-create') {
                        setTimeout(initAccountDivisionCreateForm, 100);
                    }
                });

                // Also call on hash change
                window.addEventListener('hashchange', function () {
                    if (window.location.hash === '#account-division-create') {
                        setTimeout(initAccountDivisionCreateForm, 300);
                    }
                });
                // ============= ACCOUNT DIVISION LIST MANAGER =============
                class AccountDivisionListManager {
                    constructor() {
                        this.baseURL = 'http://localhost:5000/api';
                        this.currentPage = 1;
                        this.pageSize = 20;
                        this.searchTerm = '';
                        this.statusFilter = 'all';
                        console.log('ðŸ’° AccountDivisionListManager initialized');
                    }

                    // âœ… Load account divisions data
                    async loadAccountDivisions() {
                        console.log('ðŸ“¥ Loading account divisions...');

                        try {
                            const searchInput = document.querySelector('.filters-section input[placeholder="Division Name"]');
                            const statusSelect = document.querySelector('.filters-section select');

                            this.searchTerm = searchInput ? searchInput.value : '';
                            this.statusFilter = statusSelect ? statusSelect.value : 'All Divisions';

                            // Convert status filter to API format
                            let statusParam = 'all';
                            if (this.statusFilter.includes('Active Only')) statusParam = 'active';
                            if (this.statusFilter.includes('Inactive')) statusParam = 'inactive';

                            const url = `${this.baseURL}/account-divisions?page=${this.currentPage}&limit=${this.pageSize}&search=${encodeURIComponent(this.searchTerm)}&status=${statusParam}`;
                            console.log('ðŸŒ Fetching:', url);

                            const response = await fetch(url);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.renderAccountDivisions(result.data);
                                this.updatePagination(result.pagination);
                                this.updateTableInfo(result.data.length, result.pagination.total);
                            } else {
                                throw new Error(result.error || 'API failed');
                            }

                        } catch (error) {
                            console.error('âŒ Load error:', error);
                            this.showError(`Failed to load account divisions: ${error.message}`);
                        }
                    }

                    // âœ… Render account divisions in table
                    renderAccountDivisions(divisions) {
                        const tbody = document.querySelector('.accounts-division-table tbody');
                        if (!tbody) {
                            console.error('âŒ Table body not found!');
                            return;
                        }

                        if (divisions.length === 0) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="5" style="text-align: center; padding: 40px; color: #64748b;">
                        <i class="fas fa-chart-pie" style="font-size: 24px; opacity: 0.5;"></i>
                        <p style="margin-top: 10px;">No account divisions found.</p>
                        <button class="account-division-create-btn" 
                                style="margin-top: 10px; padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: inline-flex; align-items: center; gap: 5px;">
                            <i class="fas fa-plus"></i> Create First Division
                        </button>
                    </td>
                </tr>
            `;

                            // Add event listener to the button
                            setTimeout(() => {
                                const addBtn = tbody.querySelector('.account-division-create-btn');
                                if (addBtn) {
                                    addBtn.addEventListener('click', () => updatePageContent('account-division-create'));
                                }
                            }, 100);

                            return;
                        }

                        tbody.innerHTML = '';

                        divisions.forEach(div => {
                            const row = document.createElement('tr');

                            // Truncate description if too long
                            const description = div.description ?
                                (div.description.length > 30 ? div.description.substring(0, 30) + '...' : div.description) :
                                '-';

                            row.innerHTML = `
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; font-weight: 600; color: var(--dark);">
                    <div style="color: #7c3aed; font-weight: 600;">${div.division_code || '-'}</div>
                    ${div.is_default ? `
                        <div style="font-size: 10px; color: #059669; margin-top: 2px; background: #d1fae5; padding: 1px 6px; border-radius: 10px; display: inline-block;">
                            <i class="fas fa-star" style="font-size: 8px;"></i> Default
                        </div>
                    ` : ''}
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0;">
                    <div style="font-weight: 500; color: var(--dark);">${div.division_name || '-'}</div>
                    <div style="font-size: 11px; color: #64748b; margin-top: 3px;">
                        ${div.is_active ?
                                    `<span style="background: #d1fae5; color: #065f46; padding: 2px 8px; border-radius: 10px; font-size: 10px; font-weight: 600; display: inline-flex; align-items: center; gap: 3px;">
                                <i class="fas fa-check-circle" style="font-size: 9px;"></i> Active
                            </span>` :
                                    `<span style="background: #fef2f2; color: #dc2626; padding: 2px 8px; border-radius: 10px; font-size: 10px; font-weight: 600; display: inline-flex; align-items: center; gap: 3px;">
                                <i class="fas fa-times-circle" style="font-size: 9px;"></i> Inactive
                            </span>`
                                }
                    </div>
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; color: #64748b; font-size: 13px;">
                    ${description}
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; font-weight: 500; color: var(--dark);">
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="font-weight: 600;">${div.currency_code || 'SGD'}</span>
                        ${div.currency_code === 'SGD' ?
                                    '<i class="fas fa-dollar-sign" style="font-size: 12px; color: #059669;"></i>' :
                                    div.currency_code === 'USD' ?
                                        '<i class="fas fa-dollar-sign" style="font-size: 12px; color: #2563eb;"></i>' :
                                        div.currency_code === 'EUR' ?
                                            '<i class="fas fa-euro-sign" style="font-size: 12px; color: #7c3aed;"></i>' :
                                            '<i class="fas fa-money-bill-wave" style="font-size: 12px; color: #64748b;"></i>'
                                }
                    </div>
                </td>
                <td style="padding: 15px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                    <div style="display: flex; gap: 8px; justify-content: center;">
                        <!-- ðŸ‘ï¸ VIEW BUTTON -->
                        <button class="view-account-division-btn" 
                                data-id="${div.division_id}"
                                data-code="${div.division_code}"
                                data-name="${div.division_name}"
                                style="background: none; border: none; cursor: pointer; color: #10b981; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#d1fae5'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="View Details">
                            <i class="fas fa-eye" style="font-size: 14px;"></i>
                        </button>
                        
                        <!-- âœï¸ EDIT BUTTON -->
                        <button class="edit-account-division-btn" 
                                data-id="${div.division_id}"
                                data-code="${div.division_code}"
                                data-name="${div.division_name}"
                                style="background: none; border: none; cursor: pointer; color: #2563eb; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#dbeafe'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Edit">
                            <i class="fas fa-edit" style="font-size: 14px;"></i>
                        </button>
                        
                        <!-- ðŸ—‘ï¸ DELETE BUTTON -->
                        <button class="delete-account-division-btn" 
                                data-id="${div.division_id}"
                                data-code="${div.division_code}"
                                data-name="${div.division_name}"
                                style="background: none; border: none; cursor: pointer; color: #ef4444; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#fee2e2'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Delete">
                            <i class="fas fa-trash" style="font-size: 14px;"></i>
                        </button>
                    </div>
                </td>
            `;

                            tbody.appendChild(row);
                        });

                        // Add event listeners to buttons
                        this.setupRowButtons();
                    }

                    // âœ… Setup button event listeners
                    setupRowButtons() {
                        // ðŸ‘ï¸ View buttons
                        document.querySelectorAll('.view-account-division-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const divId = btn.dataset.id;
                                const divName = btn.dataset.name;
                                console.log('ðŸ‘ï¸ View account division:', divId, divName);
                                this.viewAccountDivision(divId);
                            });
                        });

                        // âœï¸ Edit buttons
                        document.querySelectorAll('.edit-account-division-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const divId = btn.dataset.id;
                                const divName = btn.dataset.name;
                                console.log('âœï¸ Edit account division:', divId, divName);
                                this.editAccountDivision(divId);
                            });
                        });

                        // ðŸ—‘ï¸ Delete buttons
                        document.querySelectorAll('.delete-account-division-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const divId = btn.dataset.id;
                                const divCode = btn.dataset.code;
                                const divName = btn.dataset.name;
                                this.deleteAccountDivision(divId, divCode, divName);
                            });
                        });
                    }

                    // âœ… View account division details
                    async viewAccountDivision(divId) {
                        console.log('ðŸ” Viewing account division:', divId);

                        try {
                            showStatusMessage('Loading division details...', 'info');

                            const response = await fetch(`${this.baseURL}/account-divisions/${divId}`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.showAccountDivisionViewPage(result.data);
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('View error:', error);
                            showStatusMessage(`âŒ Failed to load: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Show account division view as full page
                    showAccountDivisionViewPage(division) {
                        // Format created date
                        const createdDate = division.created_at ?
                            new Date(division.created_at).toLocaleDateString('en-GB', {
                                day: '2-digit',
                                month: 'short',
                                year: 'numeric',
                                hour: '2-digit',
                                minute: '2-digit'
                            }) : 'N/A';

                        // Currency icon
                        const getCurrencyIcon = (currency) => {
                            switch (currency) {
                                case 'SGD': return '<i class="fas fa-dollar-sign" style="color: #059669;"></i>';
                                case 'USD': return '<i class="fas fa-dollar-sign" style="color: #2563eb;"></i>';
                                case 'EUR': return '<i class="fas fa-euro-sign" style="color: #7c3aed;"></i>';
                                default: return '<i class="fas fa-money-bill-wave" style="color: #64748b;"></i>';
                            }
                        };

                        const viewPageHTML = `
            <div class="account-division-view-page">
                <!-- Header Actions -->
                <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary edit-account-division-from-view-btn" 
                                data-id="${division.division_id}"
                                style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-edit"></i> Edit Division
                        </button>
                        <button class="btn btn-primary account-division-view-back-btn" 
                                style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-arrow-left"></i> Back to List
                        </button>
                    </div>
                    <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                        <i class="fas fa-chart-pie"></i> Viewing Account Division: ${division.division_code}
                    </div>
                </div>

                <!-- Main Content Section -->
                <div class="form-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <!-- Left Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <!-- Division Code -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Code</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center; justify-content: space-between;">
                                        <span style="font-family: 'Courier New', monospace; font-weight: 600; color: #7c3aed;">${division.division_code || 'Not provided'}</span>
                                        ${division.is_default ?
                                `<span style="background: #fef3c7; color: #92400e; padding: 2px 8px; border-radius: 12px; font-size: 10px; font-weight: 600; display: inline-flex; align-items: center; gap: 3px;">
                                                <i class="fas fa-star" style="font-size: 9px;"></i> Default Division
                                            </span>` : ''
                            }
                                    </div>
                                </div>
                                
                                <!-- Division Name -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Name</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                        ${division.division_name || 'Not provided'}
                                    </div>
                                </div>
                                
                                <!-- Description -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Description</label>
                                    <div style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; min-height: 80px; display: flex; align-items: flex-start;">
                                        ${division.description || '<span style="color: #94a3b8; font-style: italic;">No description provided</span>'}
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <!-- Currency -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Currency</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center; justify-content: space-between;">
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            ${getCurrencyIcon(division.currency_code)}
                                            <span style="font-weight: 600; font-size: 14px;">${division.currency_code || 'SGD'}</span>
                                            <span style="color: #64748b; font-size: 12px;">(${this.getCurrencyName(division.currency_code)})</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Status Information -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Status Information</label>
                                    <div style="background: #f8fafc; padding: 12px; border-radius: 5px; border: 1px solid #e2e8f0;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                            <div style="font-size: 13px; color: #475569;">Active Status</div>
                                            ${division.is_active ?
                                `<span style="background: #d1fae5; color: #065f46; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; display: inline-flex; align-items: center; gap: 5px;">
                                                    <i class="fas fa-check-circle"></i> Active
                                                </span>` :
                                `<span style="background: #fef2f2; color: #dc2626; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; display: inline-flex; align-items: center; gap: 5px;">
                                                    <i class="fas fa-times-circle"></i> Inactive
                                                </span>`
                            }
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center;">
                                            <div style="font-size: 13px; color: #475569;">Default Division</div>
                                            <div style="font-weight: 500; color: ${division.is_default ? '#92400e' : '#64748b'}">
                                                ${division.is_default ? 'Yes' : 'No'}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Created Information -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Audit Information</label>
                                    <div style="background: #f0f9ff; padding: 12px; border-radius: 5px; border: 1px solid #bae6fd;">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                            <div style="font-size: 12px; color: #0369a1;">Created At</div>
                                            <div style="font-size: 12px; font-weight: 500; color: var(--dark);">${createdDate}</div>
                                        </div>
                                        <div style="display: flex; justify-content: space-between;">
                                            <div style="font-size: 12px; color: #0369a1;">Last Updated</div>
                                            <div style="font-size: 12px; font-weight: 500; color: var(--dark);">
                                                ${division.updated_at ?
                                new Date(division.updated_at).toLocaleDateString('en-GB', {
                                    day: '2-digit',
                                    month: 'short',
                                    year: 'numeric',
                                    hour: '2-digit',
                                    minute: '2-digit'
                                }) :
                                'N/A'
                            }
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                    Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
                </div>
            </div>
        `;

                        // Update page content
                        const pageContent = document.getElementById('page-content');
                        if (pageContent) {
                            pageContent.innerHTML = viewPageHTML;

                            // Add event listeners
                            setTimeout(() => {
                                // Back button
                                const backBtn = document.querySelector('.account-division-view-back-btn');
                                if (backBtn) {
                                    backBtn.addEventListener('click', () => {
                                        updatePageContent('accounts-settings-account-division');

                                        // Reload divisions list after a short delay
                                        setTimeout(() => {
                                            if (window.accountDivisionManager && window.accountDivisionManager.loadAccountDivisions) {
                                                console.log('ðŸ”„ Reloading divisions list from view page...');
                                                window.accountDivisionManager.loadAccountDivisions();
                                            }
                                        }, 500);
                                    });
                                }

                                // Edit button
                                const editBtn = document.querySelector('.edit-account-division-from-view-btn');
                                if (editBtn) {
                                    editBtn.addEventListener('click', () => {
                                        // Call the editAccountDivision method
                                        if (window.accountDivisionManager && window.accountDivisionManager.editAccountDivision) {
                                            window.accountDivisionManager.editAccountDivision(division.division_id);
                                        } else {
                                            // Fallback: Navigate to edit page
                                            sessionStorage.setItem('editAccountDivisionId', division.division_id);
                                            updatePageContent('account-division-edit');
                                        }
                                    });
                                }

                            }, 100);
                        }
                    }

                    // Helper: Get currency full name
                    getCurrencyName(currencyCode) {
                        const currencies = {
                            'SGD': 'Singapore Dollar',
                            'USD': 'US Dollar',
                            'EUR': 'Euro',
                            'GBP': 'British Pound',
                            'MYR': 'Malaysian Ringgit',
                            'INR': 'Indian Rupee'
                        };
                        return currencies[currencyCode] || currencyCode;
                    }

                    // âœ… Edit account division
                    async editAccountDivision(divId) {
                        console.log('âœï¸ Edit account division:', divId);

                        try {
                            showStatusMessage('Loading division details...', 'info');

                            const response = await fetch(`${this.baseURL}/account-divisions/${divId}`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.showAccountDivisionEditForm(result.data);
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('Edit error:', error);
                            showStatusMessage(`âŒ Failed to load division: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Show account division edit form
                    showAccountDivisionEditForm(division) {
                        console.log('ðŸŽ¯ Showing account division edit form for:', division.division_code);

                        const editFormHTML = `
            <div class="account-division-edit-form">
                <!-- Header Actions -->
                <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary update-account-division-btn" 
                                data-division-id="${division.division_id}"
                                style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-save"></i> Update Division
                        </button>
                        <button class="btn btn-primary account-division-edit-back-btn" 
                                style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-arrow-left"></i> Back to List
                        </button>
                    </div>
                    <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                        <i class="fas fa-edit"></i> Editing Division: ${division.division_code}
                    </div>
                </div>

                <!-- MAIN FORM CONTENT -->
                <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <!-- Left Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <!-- Division Code -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Division Code*
                                    </label>
                                    <input type="text" id="edit-division-code" value="${division.division_code || ''}" 
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px;" readonly>
                                    <div style="font-size: 10px; color: #64748b; margin-top: 4px;">(Code cannot be changed)</div>
                                </div>
                                
                                <!-- Division Name -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Division Name*
                                    </label>
                                    <input type="text" id="edit-division-name" value="${division.division_name || ''}" 
                                           placeholder="Enter division name"
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                </div>
                                
                                <!-- Description -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Description
                                    </label>
                                    <textarea id="edit-division-description" 
                                              placeholder="Enter division description"
                                              style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; min-height: 80px; resize: vertical;">${division.description || ''}</textarea>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <!-- Currency -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Currency*
                                    </label>
                                    <select id="edit-division-currency" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
                                        <option value="SGD" ${division.currency_code === 'SGD' ? 'selected' : ''}>SGD - Singapore Dollar</option>
                                        <option value="USD" ${division.currency_code === 'USD' ? 'selected' : ''}>USD - US Dollar</option>
                                        <option value="EUR" ${division.currency_code === 'EUR' ? 'selected' : ''}>EUR - Euro</option>
                                        <option value="GBP" ${division.currency_code === 'GBP' ? 'selected' : ''}>GBP - British Pound</option>
                                        <option value="MYR" ${division.currency_code === 'MYR' ? 'selected' : ''}>MYR - Malaysian Ringgit</option>
                                        <option value="INR" ${division.currency_code === 'INR' ? 'selected' : ''}>INR - Indian Rupee</option>
                                        <option value="OTHER">Other</option>
                                    </select>
                                </div>
                                
                                <!-- Active Status -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Active Status
                                    </label>
                                    <div style="display: flex; align-items: center; gap: 15px;">
                                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                            <input type="radio" name="edit-division-active" value="1" ${division.is_active ? 'checked' : ''} style="accent-color: var(--primary);">
                                            <span style="font-size: 13px;">Active</span>
                                        </label>
                                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                            <input type="radio" name="edit-division-active" value="0" ${!division.is_active ? 'checked' : ''} style="accent-color: var(--primary);">
                                            <span style="font-size: 13px;">Inactive</span>
                                        </label>
                                    </div>
                                </div>
                                
                                <!-- Default Division -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Default Division
                                    </label>
                                    <div style="display: flex; align-items: center; gap: 15px;">
                                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                            <input type="radio" name="edit-division-default" value="1" ${division.is_default ? 'checked' : ''} style="accent-color: var(--primary);">
                                            <span style="font-size: 13px;">Yes (Set as default)</span>
                                        </label>
                                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                            <input type="radio" name="edit-division-default" value="0" ${!division.is_default ? 'checked' : ''} style="accent-color: var(--primary);">
                                            <span style="font-size: 13px;">No</span>
                                        </label>
                                    </div>
                                    <div style="font-size: 11px; color: #64748b; margin-top: 4px;">
                                        Note: Only one division can be set as default
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                    Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
                </div>
            </div>
        `;

                        // Update page content
                        const pageContent = document.getElementById('page-content');
                        if (pageContent) {
                            pageContent.innerHTML = editFormHTML;

                            // Add event listeners
                            setTimeout(() => {
                                // Back button
                                const backBtn = document.querySelector('.account-division-edit-back-btn');
                                if (backBtn) {
                                    backBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        console.log('ðŸ”™ Back button clicked from edit form');

                                        // Go back to divisions list
                                        updatePageContent('accounts-settings-account-division');

                                        // IMPORTANT: Force reload divisions with a slight delay
                                        setTimeout(() => {
                                            console.log('ðŸ”„ Reloading divisions list...');
                                            if (window.accountDivisionManager && window.accountDivisionManager.loadAccountDivisions) {
                                                window.accountDivisionManager.loadAccountDivisions();
                                            }
                                        }, 300);
                                    });
                                }

                                // Update button
                                const updateBtn = document.querySelector('.update-account-division-btn');
                                if (updateBtn) {
                                    updateBtn.addEventListener('click', (e) => {
                                        e.preventDefault();
                                        this.updateAccountDivision(division.division_id);
                                    });
                                }

                            }, 100);

                            showStatusMessage('âœ… Division loaded for editing', 'success');
                        }
                    }

                    // âœ… Update account division function
                    async updateAccountDivision(divId) {
                        console.log('ðŸ’¾ Updating account division:', divId);

                        const updateBtn = document.querySelector('.update-account-division-btn');
                        if (updateBtn) {
                            updateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Updating...';
                            updateBtn.disabled = true;
                        }

                        try {
                            // Collect form data
                            const updateData = {
                                division_name: document.getElementById('edit-division-name').value.trim(),
                                description: document.getElementById('edit-division-description').value.trim(),
                                currency_code: document.getElementById('edit-division-currency').value,
                                is_active: document.querySelector('input[name="edit-division-active"]:checked').value === '1',
                                is_default: document.querySelector('input[name="edit-division-default"]:checked').value === '1',
                                updated_by: getCurrentUserId()
                            };

                            console.log('ðŸ“¤ Update data:', updateData);

                            // Validation
                            const errors = [];

                            if (!updateData.division_name) {
                                errors.push('Division name is required');
                                document.getElementById('edit-division-name').style.borderColor = '#ef4444';
                            }

                            if (!updateData.currency_code) {
                                errors.push('Currency is required');
                                document.getElementById('edit-division-currency').style.borderColor = '#ef4444';
                            }

                            if (errors.length > 0) {
                                showStatusMessage('âŒ ' + errors.join(', '), 'error');

                                if (updateBtn) {
                                    updateBtn.innerHTML = '<i class="fas fa-save"></i> Update Division';
                                    updateBtn.disabled = false;
                                }
                                return;
                            }

                            // Send PUT request
                            const response = await fetch(`${this.baseURL}/account-divisions/${divId}`, {
                                method: 'PUT',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify(updateData)
                            });

                            const result = await response.json();

                            if (!response.ok) {
                                throw new Error(result.error || `HTTP ${response.status}`);
                            }

                            if (result.success) {
                                showStatusMessage('âœ… Account division updated successfully!', 'success');

                                // Go back to divisions list and reload
                                updatePageContent('accounts-settings-account-division');

                                setTimeout(() => {
                                    if (window.accountDivisionManager && window.accountDivisionManager.loadAccountDivisions) {
                                        console.log('ðŸ”„ Reloading divisions list after update...');
                                        window.accountDivisionManager.loadAccountDivisions();
                                    }
                                }, 300);

                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('âŒ Update error:', error);
                            showStatusMessage(`âŒ Update failed: ${error.message}`, 'error');

                            if (updateBtn) {
                                updateBtn.innerHTML = '<i class="fas fa-save"></i> Update Division';
                                updateBtn.disabled = false;
                            }
                        }
                    }

                    // âœ… Delete account division with confirmation
                    async deleteAccountDivision(divId, divCode, divName) {
                        if (!confirm(`ðŸ—‘ï¸ Delete account division "${divName}" (${divCode})?\n\nThis action cannot be undone!`)) {
                            return;
                        }

                        try {
                            console.log('ðŸ—‘ï¸ Deleting account division:', divId);

                            const response = await fetch(`${this.baseURL}/account-divisions/${divId}`, {
                                method: 'DELETE'
                            });

                            if (!response.ok) {
                                const errorText = await response.text();
                                throw new Error(`Server error ${response.status}: ${errorText.substring(0, 100)}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                showStatusMessage(`âœ… Account division "${divName}" deleted successfully!`, 'success');
                                this.loadAccountDivisions(); // Refresh list
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('âŒ Delete error:', error);
                            showStatusMessage(`Delete failed: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Update pagination info
                    updatePagination(pagination) {
                        this.totalPages = pagination.totalPages;

                        const infoDiv = document.querySelector('.pagination-info');
                        if (infoDiv && pagination) {
                            const start = ((this.currentPage - 1) * this.pageSize) + 1;
                            const end = Math.min(this.currentPage * this.pageSize, pagination.total);

                            infoDiv.textContent = `Showing ${start} to ${end} of ${pagination.total} entries`;
                        }

                        // Update page buttons
                        this.updatePageButtons();
                    }

                    // âœ… Update page buttons state
                    updatePageButtons() {
                        const prevBtn = document.querySelector('.pagination-controls button:first-child');
                        const nextBtn = document.querySelector('.pagination-controls button:last-child');
                        const currentBtn = document.querySelector('.pagination-controls .btn-primary');

                        if (prevBtn) {
                            prevBtn.disabled = this.currentPage === 1;
                            prevBtn.style.opacity = this.currentPage === 1 ? '0.5' : '1';
                            prevBtn.style.cursor = this.currentPage === 1 ? 'not-allowed' : 'pointer';
                        }

                        if (nextBtn) {
                            nextBtn.disabled = this.currentPage >= this.totalPages;
                            nextBtn.style.opacity = this.currentPage >= this.totalPages ? '0.5' : '1';
                            nextBtn.style.cursor = this.currentPage >= this.totalPages ? 'not-allowed' : 'pointer';
                        }

                        // Update current page button
                        if (currentBtn) {
                            currentBtn.textContent = this.currentPage;
                        }
                    }

                    // âœ… Update table info
                    updateTableInfo(currentCount, total) {
                        console.log(`ðŸ“Š Displaying ${currentCount} of ${total} account divisions`);
                    }

                    // âœ… Show error message
                    showError(message) {
                        const tbody = document.querySelector('.accounts-division-table tbody');
                        if (tbody) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="5" style="text-align: center; padding: 40px; color: #ef4444;">
                        <i class="fas fa-exclamation-triangle"></i>
                        <p style="margin-top: 10px;">${message}</p>
                        <button onclick="window.accountDivisionManager?.loadAccountDivisions()" 
                                style="margin-top: 10px; padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            Retry
                        </button>
                    </td>
                </tr>
            `;
                        }
                    }
                }

                // âœ… Initialize account divisions list page
                function initAccountDivisionsList() {
                    const isDivisionsPage = document.querySelector('.accounts-division-management') ||
                        window.location.hash === '#accounts-settings-account-division';

                    if (isDivisionsPage) {
                        console.log('ðŸ’° Account divisions management page detected');

                        // Create manager instance
                        window.accountDivisionManager = new AccountDivisionListManager();

                        // Setup event listeners
                        setTimeout(() => {
                            // Create New button
                            const addBtn = document.querySelector('.account-division-create-btn');
                            if (addBtn) {
                                addBtn.addEventListener('click', (e) => {
                                    e.preventDefault();
                                    updatePageContent('account-division-create');
                                });
                            }

                            // Fetch button
                            const fetchBtn = document.querySelector('.filters-section .btn-primary');
                            if (fetchBtn) {
                                fetchBtn.addEventListener('click', () => {
                                    window.accountDivisionManager.currentPage = 1;
                                    window.accountDivisionManager.loadAccountDivisions();
                                });
                            }

                            // Clear button
                            const clearBtn = document.querySelector('.filters-section .btn-outline');
                            if (clearBtn) {
                                clearBtn.addEventListener('click', () => {
                                    const searchInput = document.querySelector('.filters-section input');
                                    const statusSelect = document.querySelector('.filters-section select');

                                    if (searchInput) searchInput.value = '';
                                    if (statusSelect) statusSelect.value = 'All Divisions';

                                    window.accountDivisionManager.currentPage = 1;
                                    window.accountDivisionManager.loadAccountDivisions();
                                });
                            }

                            // Search input (on Enter key)
                            const searchInput = document.querySelector('.filters-section input');
                            if (searchInput) {
                                searchInput.addEventListener('keyup', (e) => {
                                    if (e.key === 'Enter') {
                                        window.accountDivisionManager.currentPage = 1;
                                        window.accountDivisionManager.loadAccountDivisions();
                                    }
                                });
                            }

                            // Status select change
                            const statusSelect = document.querySelector('.filters-section select');
                            if (statusSelect) {
                                statusSelect.addEventListener('change', () => {
                                    window.accountDivisionManager.currentPage = 1;
                                    window.accountDivisionManager.loadAccountDivisions();
                                });
                            }

                            // Page size select
                            const pageSizeSelect = document.querySelector('.pagination select');
                            if (pageSizeSelect) {
                                pageSizeSelect.addEventListener('change', (e) => {
                                    window.accountDivisionManager.pageSize = parseInt(e.target.value);
                                    window.accountDivisionManager.currentPage = 1;
                                    window.accountDivisionManager.loadAccountDivisions();
                                });
                            }

                            // Previous button
                            const prevBtn = document.querySelector('.pagination-controls button:first-child');
                            if (prevBtn) {
                                prevBtn.addEventListener('click', () => {
                                    if (window.accountDivisionManager.currentPage > 1) {
                                        window.accountDivisionManager.currentPage--;
                                        window.accountDivisionManager.loadAccountDivisions();
                                    }
                                });
                            }

                            // Next button
                            const nextBtn = document.querySelector('.pagination-controls button:last-child');
                            if (nextBtn) {
                                nextBtn.addEventListener('click', () => {
                                    if (window.accountDivisionManager.currentPage < window.accountDivisionManager.totalPages) {
                                        window.accountDivisionManager.currentPage++;
                                        window.accountDivisionManager.loadAccountDivisions();
                                    }
                                });
                            }

                            // Refresh button (sync icon)
                            const refreshBtn = document.querySelector('.action-buttons .btn-outline:first-child');
                            if (refreshBtn) {
                                refreshBtn.addEventListener('click', () => {
                                    window.accountDivisionManager.loadAccountDivisions();
                                    showStatusMessage('ðŸ”„ Account divisions list refreshed', 'info');
                                });
                            }

                            // Load initial data
                            window.accountDivisionManager.loadAccountDivisions();

                        }, 300);
                    }
                }

                // âœ… Call on page load
                document.addEventListener('DOMContentLoaded', function () {
                    setTimeout(initAccountDivisionsList, 500);
                });

                // âœ… Call on hash change
                window.addEventListener('hashchange', function () {
                    setTimeout(initAccountDivisionsList, 300);
                });
                // ============= LEAVE TYPES FUNCTIONS =============

                // Make function globally available
                window.saveLeaveType = async function () {
                    console.log('ðŸ’¾ Saving leave type...');

                    try {
                        // Helper function to convert checkbox to 1/0
                        const getCheckboxValue = (selector) => {
                            const el = document.querySelector(selector);
                            return el && el.checked ? 1 : 0;
                        };

                        // Helper for radio buttons
                        const getRadioValue = (name) => {
                            const yesRadio = document.querySelector(`input[name="${name}"][value="yes"]`);
                            return yesRadio && yesRadio.checked ? 1 : 0;
                        };

                        // Collect form data
                        const leaveData = {
                            // Basic Info
                            leave_code: document.getElementById('leave-code')?.value.trim() || '',
                            description: document.getElementById('leave-description')?.value.trim() || '',
                            leave_per_year: parseFloat(document.getElementById('leave-per-year')?.value) || 0,
                            sort_code: parseInt(document.getElementById('leave-sort-code')?.value) || 0,

                            // Dropdowns
                            carry_forward_type: document.querySelector('#info-tab select:nth-of-type(1)')?.value || 'none',
                            max_carry_forward: parseFloat(document.querySelector('#info-tab input[type="number"]')?.value) || 0,
                            pay_type: document.querySelector('#info-tab select:nth-of-type(2)')?.value || 'paid',

                            // âœ… FIXED: Checkboxes to 1/0
                            auto_entitlement: getCheckboxValue('#info-tab input[type="checkbox"]'), // Employee Entitlement
                            leave_in_payslip: getRadioValue('leaveTaken'),
                            balance_in_payslip: getRadioValue('balanceLeave'),
                            is_active: 1, // Default active

                            // Earned Tab
                            earned_type: document.querySelector('#earned-tab select:nth-of-type(1)')?.value || 'calendar_year',
                            pro_rated: getCheckboxValue('#earned-tab input[type="checkbox"]:nth-of-type(1)'),
                            entitlement_type: document.querySelector('#earned-tab select:nth-of-type(2)')?.value || 'year',
                            is_half_day: getCheckboxValue('#earned-tab input[type="checkbox"]:nth-of-type(2)'),

                            // Settings Tab Checkboxes
                            block_on_probation: getCheckboxValue('#settings-tab input[type="checkbox"]:nth-of-type(1)'),
                            attachment_required: getCheckboxValue('#settings-tab input[type="checkbox"]:nth-of-type(3)'),
                            only_full_day: getCheckboxValue('#settings-tab input[type="checkbox"]:nth-of-type(4)'),
                            hide_balance_mobile: getCheckboxValue('#settings-tab input[type="checkbox"]:nth-of-type(5)'),
                            hide_in_mobile: getCheckboxValue('#settings-tab input[type="checkbox"]:nth-of-type(6)'),
                            is_system: getCheckboxValue('#settings-tab input[type="checkbox"]:nth-of-type(7)'),
                            include_off_days: getCheckboxValue('#settings-tab input[type="checkbox"]:nth-of-type(8)'),
                            remarks_required: getCheckboxValue('#settings-tab input[type="checkbox"]:nth-of-type(9)'),
                            custom_payslip_enabled: getCheckboxValue('#settings-tab input[type="checkbox"]:nth-of-type(10)'),
                            custom_payslip_desc: document.querySelector('#settings-tab input[type="text"]')?.value || '',

                            // Defaults
                            created_by: 1
                        };

                        console.log('ðŸ“¤ Sending to database:', leaveData);

                        // Validation
                        if (!leaveData.leave_code) {
                            showStatusMessage('âŒ Leave code is required', 'error');
                            return;
                        }

                        if (!leaveData.description) {
                            showStatusMessage('âŒ Description is required', 'error');
                            return;
                        }

                        if (leaveData.leave_per_year <= 0) {
                            showStatusMessage('âŒ Leave per year must be greater than 0', 'error');
                            return;
                        }

                        // Show loading
                        const saveBtn = document.getElementById('save-leave-type-btn');
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';
                            saveBtn.disabled = true;
                        }

                        // Send to API
                        const response = await fetch('/api/leave-types', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(leaveData)
                        });

                        console.log('ðŸ“¥ API Response status:', response.status);

                        const result = await response.json();
                        console.log('ðŸ“¥ API Response:', result);

                        if (response.ok && result.success) {
                            showStatusMessage(`âœ… Leave type "${leaveData.description}" saved! Sort Code: ${leaveData.sort_code}`, 'success');

                            // Go back after 2 seconds
                            setTimeout(() => {
                                updatePageContent('leave-types');
                            }, 2000);
                        } else {
                            throw new Error(result.error || 'Save failed');
                        }

                    } catch (error) {
                        console.error('âŒ Save error:', error);
                        showStatusMessage('âŒ ' + error.message, 'error');

                        // Reset button
                        const saveBtn = document.getElementById('save-leave-type-btn');
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                            saveBtn.disabled = false;
                        }
                    }
                };

                // Make other functions global too
                window.checkLeaveCodeExists = async function (code) {
                    try {
                        if (!code.trim()) return false;

                        const response = await fetch(`/api/leave-types/check-code/${encodeURIComponent(code)}`);

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        const codeInput = document.getElementById('leave-code');
                        if (codeInput) {
                            if (result.exists) {
                                codeInput.style.borderColor = '#ef4444';
                                codeInput.style.backgroundColor = '#fef2f2';
                                showStatusMessage('âŒ This leave code already exists', 'error');
                                return true;
                            } else {
                                codeInput.style.borderColor = '#10b981';
                                codeInput.style.backgroundColor = '#f0fdf4';
                                return false;
                            }
                        }

                        return result.exists;

                    } catch (error) {
                        console.error('Leave code check error:', error);
                        return false;
                    }
                };

                window.getNextLeaveSortCode = async function () {
                    try {
                        console.log('ðŸ”¢ Getting next leave type sort code...');

                        const sortCodeInput = document.getElementById('leave-sort-code');
                        if (!sortCodeInput) {
                            console.warn('âš ï¸ Sort code input not found');
                            return;
                        }

                        const response = await fetch('/api/leave-types/next-sort-code');

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        if (result.success) {
                            sortCodeInput.value = result.next_sort_code;
                            console.log('âœ… Next leave type sort code:', result.next_sort_code);

                            // Highlight
                            sortCodeInput.style.backgroundColor = '#f0fdf4';
                            sortCodeInput.style.borderColor = '#10b981';
                            sortCodeInput.style.color = '#065f46';
                            sortCodeInput.style.fontWeight = '600';

                            showStatusMessage(`Auto-generated sort code: ${result.next_sort_code}`, 'info');
                        } else {
                            throw new Error(result.error || 'Failed to get sort code');
                        }

                    } catch (error) {
                        console.error('âŒ Leave type sort code error:', error);

                        // Fallback
                        const sortCodeInput = document.getElementById('leave-sort-code');
                        if (sortCodeInput) {
                            const current = parseInt(sortCodeInput.value) || 0;
                            sortCodeInput.value = current + 1;

                            sortCodeInput.style.backgroundColor = '#fef3c7';
                            sortCodeInput.style.borderColor = '#f59e0b';
                            sortCodeInput.style.color = '#92400e';
                        }

                        showStatusMessage('âš ï¸ Using local sort code calculation', 'warning');
                    }
                };
                window.updateLeaveType = async function (leaveId) {
                    console.log('ðŸ’¾ Updating leave type:', leaveId);

                    try {
                        // Debug: Log all form elements
                        console.log('ðŸ” Debugging form elements...');
                        console.log('leave-code:', document.getElementById('leave-code'));
                        console.log('leave-description:', document.getElementById('leave-description'));
                        console.log('leave-per-year:', document.getElementById('leave-per-year'));
                        console.log('leave-sort-code:', document.getElementById('leave-sort-code'));

                        // Get form elements with safe null checks
                        const getValue = (selector) => {
                            const el = document.querySelector(selector);
                            return el ? el.value : '';
                        };

                        const getChecked = (selector) => {
                            const el = document.querySelector(selector);
                            return el ? el.checked : false;
                        };

                        const getSelectValue = (selector) => {
                            const el = document.querySelector(selector);
                            return el ? el.value : '';
                        };

                        // Collect form data
                        const updateData = {
                            // Info Tab
                            leave_code: document.getElementById('leave-code')?.value.trim() || '',
                            description: document.getElementById('leave-description')?.value.trim() || '',
                            leave_per_year: parseFloat(document.getElementById('leave-per-year')?.value) || 0,
                            sort_code: parseInt(document.getElementById('leave-sort-code')?.value) || 0,

                            // Use safe selectors for other fields
                            carry_forward_type: getSelectValue('#info-tab select'),
                            max_carry_forward: parseFloat(getValue('#info-tab input[type="number"]')) || 0,
                            pay_type: getSelectValue('#info-tab select:nth-child(2)'),

                            // Radio buttons
                            leave_in_payslip: getChecked('#info-tab input[name="leaveTaken"][value="yes"]'),
                            balance_in_payslip: getChecked('#info-tab input[name="balanceLeave"][value="yes"]'),
                            is_active: getChecked('#info-tab input[type="checkbox"]'),

                            // Earned Tab
                            earned_type: getSelectValue('#earned-tab select'),
                            pro_rated: getChecked('#earned-tab input[type="checkbox"]'),
                            entitlement_type: getSelectValue('#earned-tab select:nth-child(2)'),
                            is_half_day: getChecked('#earned-tab input[type="checkbox"]:nth-child(2)'),

                            // Settings Tab
                            block_on_probation: getChecked('#settings-tab input[type="checkbox"]:nth-child(1)'),
                            auto_entitlement: getChecked('#settings-tab input[type="checkbox"]:nth-child(2)'),
                            attachment_required: getChecked('#settings-tab input[type="checkbox"]:nth-child(3)'),
                            only_full_day: getChecked('#settings-tab input[type="checkbox"]:nth-child(4)'),
                            hide_balance_mobile: getChecked('#settings-tab input[type="checkbox"]:nth-child(5)'),
                            hide_in_mobile: getChecked('#settings-tab input[type="checkbox"]:nth-child(6)'),
                            is_system: getChecked('#settings-tab input[type="checkbox"]:nth-child(7)'),
                            include_off_days: getChecked('#settings-tab input[type="checkbox"]:nth-child(8)'),
                            remarks_required: getChecked('#settings-tab input[type="checkbox"]:nth-child(9)'),
                            custom_payslip_enabled: getChecked('#settings-tab input[type="checkbox"]:nth-child(10)'),
                            custom_payslip_desc: getValue('#settings-tab input[type="text"]') || '',

                            updated_by: 1
                        };

                        console.log('ðŸ“¤ Update data collected:', updateData);

                        // Validation
                        const errors = [];

                        if (!updateData.leave_code) {
                            errors.push('Leave code is required');
                            const el = document.getElementById('leave-code');
                            if (el) el.style.borderColor = '#ef4444';
                        }

                        if (!updateData.description) {
                            errors.push('Description is required');
                            const el = document.getElementById('leave-description');
                            if (el) el.style.borderColor = '#ef4444';
                        }

                        if (updateData.leave_per_year <= 0) {
                            errors.push('Leave per year must be greater than 0');
                            const el = document.getElementById('leave-per-year');
                            if (el) el.style.borderColor = '#ef4444';
                        }

                        if (errors.length > 0) {
                            showStatusMessage('âŒ ' + errors.join(', '), 'error');
                            return;
                        }

                        // Show loading
                        const saveBtn = document.getElementById('save-leave-type-btn');
                        if (saveBtn) {
                            const originalText = saveBtn.innerHTML;
                            saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Updating...';
                            saveBtn.disabled = true;

                            console.log('ðŸ“¤ Sending PUT request for leave ID:', leaveId);
                            console.log('Data:', updateData);

                            // Send PUT request
                            const response = await fetch(`http://localhost:5000/api/leave-types/${leaveId}`, {
                                method: 'PUT',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify(updateData)
                            });

                            console.log('ðŸ“¥ Response status:', response.status);

                            const result = await response.json();
                            console.log('ðŸ“¥ Response data:', result);

                            if (response.ok && result.success) {
                                showStatusMessage(`âœ… Leave type "${updateData.description}" updated successfully!`, 'success');

                                // Clear edit data
                                sessionStorage.removeItem('editLeaveTypeData');

                                // Go back to list after delay
                                setTimeout(() => {
                                    updatePageContent('leave-types');

                                    // Reload list
                                    setTimeout(() => {
                                        if (window.leaveTypesManager && window.leaveTypesManager.loadLeaveTypes) {
                                            console.log('ðŸ”„ Reloading leave types list...');
                                            window.leaveTypesManager.loadLeaveTypes();
                                        }
                                    }, 300);
                                }, 1500);
                            } else {
                                throw new Error(result.error || `HTTP ${response.status}: Failed to update`);
                            }

                            // Restore button
                            saveBtn.innerHTML = originalText;
                            saveBtn.disabled = false;
                        } else {
                            console.error('âŒ Save button not found!');
                            showStatusMessage('âŒ Save button not found', 'error');
                        }

                    } catch (error) {
                        console.error('âŒ Update error:', error);
                        showStatusMessage('âŒ Error: ' + error.message, 'error');

                        // Reset button
                        const saveBtn = document.getElementById('save-leave-type-btn');
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-save"></i> Update Leave Type';
                            saveBtn.disabled = false;
                        }
                    }
                };
                // Update initialization function
                function initLeaveTypesCreateForm() {
                    console.log('ðŸ“ Initializing leave types create form...');

                    // Check if we're in edit mode
                    const editData = sessionStorage.getItem('editLeaveTypeData');

                    if (editData) {
                        console.log('âœï¸ Edit mode detected');

                        try {
                            const leaveData = JSON.parse(editData);
                            console.log('Editing leave type:', leaveData.leave_code);

                            // Populate form with existing data
                            setTimeout(() => {
                                populateLeaveTypeForm(leaveData);
                            }, 200);
                        } catch (error) {
                            console.error('âŒ Error parsing edit data:', error);
                            sessionStorage.removeItem('editLeaveTypeData');
                        }
                    } else {
                        // Create mode - get next sort code
                        console.log('ðŸ†• Create mode detected');
                        getNextLeaveSortCode();
                    }

                    // Setup tab switching
                    setupLeaveTypeTabs();

                    // Setup event listeners
                    setTimeout(() => {
                        // Save/Update button
                        const saveBtn = document.getElementById('save-leave-type-btn');
                        if (saveBtn) {
                            if (editData) {
                                // Edit mode - update button text
                                saveBtn.innerHTML = '<i class="fas fa-save"></i> Update Leave Type';

                                // Add update event listener
                                try {
                                    const leaveData = JSON.parse(editData);
                                    saveBtn.addEventListener('click', function (e) {
                                        e.preventDefault();
                                        console.log('ðŸ’¾ Update button clicked for leave ID:', leaveData.leave_type_id);
                                        updateLeaveType(leaveData.leave_type_id);
                                    });
                                } catch (error) {
                                    console.error('Error setting up update listener:', error);
                                }
                            } else {
                                // Create mode
                                saveBtn.addEventListener('click', function (e) {
                                    e.preventDefault();
                                    console.log('ðŸ’¾ Save button clicked');
                                    saveLeaveType();
                                });
                            }
                        }

                        // Back button
                        const backBtn = document.querySelector('.leave-types-back-btn');
                        if (backBtn) {
                            backBtn.addEventListener('click', (e) => {
                                e.preventDefault();
                                sessionStorage.removeItem('editLeaveTypeData'); // Clear edit data
                                updatePageContent('leave-types');
                            });
                        }

                        // Real-time validation for leave code
                        const codeInput = document.getElementById('leave-code');
                        if (codeInput) {
                            codeInput.addEventListener('blur', async function () {
                                const code = this.value.trim();
                                if (code) {
                                    await checkLeaveCodeExists(code);
                                }
                            });
                        }

                        // Auto-calculate max carry forward
                        const leavePerYearInput = document.getElementById('leave-per-year');
                        const maxCarryInput = document.querySelector('#info-tab input[type="number"]');

                        if (leavePerYearInput && maxCarryInput) {
                            leavePerYearInput.addEventListener('input', function () {
                                const leavePerYear = parseFloat(this.value) || 0;
                                maxCarryInput.max = leavePerYear;
                                if (parseFloat(maxCarryInput.value) > leavePerYear) {
                                    maxCarryInput.value = leavePerYear;
                                }
                            });
                        }

                        // Clear error styles on input
                        const inputs = document.querySelectorAll('#info-tab input');
                        inputs.forEach(input => {
                            input.addEventListener('input', function () {
                                this.style.borderColor = '#d1d5db';
                                this.style.backgroundColor = 'white';
                            });
                        });

                    }, 300);
                }
                function populateLeaveTypeForm(leaveData) {
                    console.log('ðŸŽ¯ Populating form for editing:', leaveData.leave_code);

                    // Basic fields
                    const leaveCodeInput = document.getElementById('leave-code');
                    const descriptionInput = document.getElementById('leave-description');
                    const leavePerYearInput = document.getElementById('leave-per-year');
                    const sortCodeInput = document.getElementById('leave-sort-code');

                    if (leaveCodeInput) leaveCodeInput.value = leaveData.leave_code || '';
                    if (descriptionInput) descriptionInput.value = leaveData.description || '';
                    if (leavePerYearInput) leavePerYearInput.value = leaveData.leave_per_year || 0;
                    if (sortCodeInput) {
                        sortCodeInput.value = leaveData.sort_code || '';
                        sortCodeInput.readOnly = true;
                        sortCodeInput.style.backgroundColor = '#f3f4f6';
                        sortCodeInput.style.color = '#6b7280';
                    }

                    // Dropdowns
                    const carryForwardSelect = document.querySelector('#info-tab select:nth-of-type(1)');
                    if (carryForwardSelect && leaveData.carry_forward_type) {
                        carryForwardSelect.value = leaveData.carry_forward_type;
                    }

                    const payTypeSelect = document.querySelector('#info-tab select:nth-of-type(2)');
                    if (payTypeSelect && leaveData.pay_type) {
                        payTypeSelect.value = leaveData.pay_type;
                    }

                    // Max carry forward
                    const maxCarryInput = document.querySelector('#info-tab input[type="number"]');
                    if (maxCarryInput && leaveData.max_carry_forward !== undefined) {
                        maxCarryInput.value = leaveData.max_carry_forward;
                    }

                    // Radio buttons
                    const leaveInPayslipYes = document.querySelector('#info-tab input[name="leaveTaken"][value="yes"]');
                    const leaveInPayslipNo = document.querySelector('#info-tab input[name="leaveTaken"][value="no"]');
                    if (leaveInPayslipYes && leaveInPayslipNo) {
                        if (leaveData.leave_in_payslip === 1 || leaveData.leave_in_payslip === true) {
                            leaveInPayslipYes.checked = true;
                        } else {
                            leaveInPayslipNo.checked = true;
                        }
                    }

                    const balanceInPayslipYes = document.querySelector('#info-tab input[name="balanceLeave"][value="yes"]');
                    const balanceInPayslipNo = document.querySelector('#info-tab input[name="balanceLeave"][value="no"]');
                    if (balanceInPayslipYes && balanceInPayslipNo) {
                        if (leaveData.balance_in_payslip === 1 || leaveData.balance_in_payslip === true) {
                            balanceInPayslipYes.checked = true;
                        } else {
                            balanceInPayslipNo.checked = true;
                        }
                    }

                    // Checkboxes
                    const isActiveCheckbox = document.querySelector('#info-tab input[type="checkbox"]');
                    if (isActiveCheckbox) {
                        isActiveCheckbox.checked = leaveData.is_active === 1 || leaveData.is_active === true;
                    }

                    // Earned Tab
                    const earnedTypeSelect = document.querySelector('#earned-tab select:nth-of-type(1)');
                    if (earnedTypeSelect && leaveData.earned_type) {
                        earnedTypeSelect.value = leaveData.earned_type;
                    }

                    const proRatedCheckbox = document.querySelector('#earned-tab input[type="checkbox"]:nth-of-type(1)');
                    if (proRatedCheckbox) {
                        proRatedCheckbox.checked = leaveData.pro_rated === 1 || leaveData.pro_rated === true;
                    }

                    const entitlementTypeSelect = document.querySelector('#earned-tab select:nth-of-type(2)');
                    if (entitlementTypeSelect && leaveData.entitlement_type) {
                        entitlementTypeSelect.value = leaveData.entitlement_type;
                    }

                    const isHalfDayCheckbox = document.querySelector('#earned-tab input[type="checkbox"]:nth-of-type(2)');
                    if (isHalfDayCheckbox) {
                        isHalfDayCheckbox.checked = leaveData.is_half_day === 1 || leaveData.is_half_day === true;
                    }

                    // Settings Tab checkboxes
                    const settingsCheckboxes = [
                        'block_on_probation', 'auto_entitlement', 'attachment_required', 'only_full_day',
                        'hide_balance_mobile', 'hide_in_mobile', 'is_system', 'include_off_days',
                        'remarks_required', 'custom_payslip_enabled'
                    ];

                    settingsCheckboxes.forEach((field, index) => {
                        const checkbox = document.querySelector(`#settings-tab input[type="checkbox"]:nth-of-type(${index + 1})`);
                        if (checkbox) {
                            checkbox.checked = leaveData[field] === 1 || leaveData[field] === true;
                        }
                    });

                    // Custom payslip description
                    const customDescInput = document.querySelector('#settings-tab input[type="text"]');
                    if (customDescInput && leaveData.custom_payslip_desc) {
                        customDescInput.value = leaveData.custom_payslip_desc;
                    }

                    // Update button text
                    const saveBtn = document.getElementById('save-leave-type-btn');
                    if (saveBtn) {
                        saveBtn.innerHTML = '<i class="fas fa-save"></i> Update Leave Type';
                    }

                    // Update page header
                    const headerDiv = document.querySelector('.form-actions div:nth-child(2)');
                    if (headerDiv) {
                        headerDiv.innerHTML = `<i class="fas fa-edit"></i> Editing Leave Type: ${leaveData.leave_code}`;
                    }

                    // Show success message
                    showStatusMessage(`âœ… Loaded "${leaveData.description}" for editing`, 'success');
                }

                // Setup tab switching
                function setupLeaveTypeTabs() {
                    const tabBtns = document.querySelectorAll('.tab-btn');
                    const tabContents = document.querySelectorAll('.tab-content');

                    if (tabBtns.length === 0) {
                        console.warn('âš ï¸ Tab buttons not found');
                        return;
                    }

                    tabBtns.forEach(btn => {
                        btn.addEventListener('click', function () {
                            const tabId = this.dataset.tab;

                            // Remove active class
                            tabBtns.forEach(b => {
                                b.classList.remove('active');
                                b.style.borderBottom = 'none';
                                b.style.color = '#64748b';
                            });

                            // Add active class
                            this.classList.add('active');
                            this.style.borderBottom = '2px solid var(--primary)';
                            this.style.color = 'var(--primary)';

                            // Hide all, show selected
                            tabContents.forEach(content => {
                                content.style.display = 'none';
                            });

                            const selectedTab = document.getElementById(`${tabId}-tab`);
                            if (selectedTab) {
                                selectedTab.style.display = 'block';
                            }
                        });
                    });
                }

                // Add to DOMContentLoaded
                document.addEventListener('DOMContentLoaded', function () {
                    // Check if we're on leave types create page
                    const isLeaveTypesCreate = document.querySelector('.leave-types-create') ||
                        window.location.hash === '#leave-types-create';

                    if (isLeaveTypesCreate) {
                        console.log('ðŸ“ Leave types create page detected');
                        setTimeout(initLeaveTypesCreateForm, 300);
                    }
                });

                // Also call on hash change
                window.addEventListener('hashchange', function () {
                    if (window.location.hash === '#leave-types-create') {
                        setTimeout(initLeaveTypesCreateForm, 300);
                    }
                });
                // ============= LEAVE TYPES LIST MANAGER =============
                class LeaveTypesListManager {
                    constructor() {
                        this.baseURL = 'http://localhost:5000/api';
                        this.currentPage = 1;
                        this.pageSize = 20;
                        this.searchTerm = '';
                        this.descriptionTerm = '';
                        this.entitlementFilter = 'all';
                        console.log('ðŸ“ LeaveTypesListManager initialized');
                    }

                    // âœ… Load leave types data
                    async loadLeaveTypes() {
                        console.log('ðŸ“¥ Loading leave types...');

                        try {
                            // Get filter values
                            const leaveCodeInput = document.querySelector('input[placeholder*="Find Leave Code"]');
                            const descInput = document.querySelector('input[placeholder*="Find Description"]');
                            const entitlementSelect = document.querySelector('select');

                            this.searchTerm = leaveCodeInput ? leaveCodeInput.value : '';
                            this.descriptionTerm = descInput ? descInput.value : '';
                            this.entitlementFilter = entitlementSelect ? entitlementSelect.value : 'all';

                            // Build URL with filters
                            let url = `${this.baseURL}/leave-types?page=${this.currentPage}&limit=${this.pageSize}`;

                            if (this.searchTerm) {
                                url += `&search=${encodeURIComponent(this.searchTerm)}`;
                            }

                            // Add entitlement filter
                            if (this.entitlementFilter.includes('With')) {
                                url += '&entitlement=true';
                            } else if (this.entitlementFilter.includes('Without')) {
                                url += '&entitlement=false';
                            }

                            console.log('ðŸŒ Fetching:', url);

                            const response = await fetch(url);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.renderLeaveTypes(result.data);
                                this.updatePagination(result.pagination);
                                this.updateTableInfo(result.data.length, result.pagination.total);
                            } else {
                                throw new Error(result.error || 'API failed');
                            }

                        } catch (error) {
                            console.error('âŒ Load error:', error);
                            this.showError(`Failed to load leave types: ${error.message}`);
                        }
                    }

                    // âœ… Render leave types in table
                    renderLeaveTypes(leaveTypes) {
                        const tbody = document.querySelector('.leave-types-table tbody');
                        if (!tbody) {
                            console.error('âŒ Table body not found!');
                            return;
                        }

                        if (leaveTypes.length === 0) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="7" style="text-align: center; padding: 40px; color: #64748b;">
                        <i class="fas fa-bed" style="font-size: 24px; opacity: 0.5;"></i>
                        <p style="margin-top: 10px;">No leave types found.</p>
                        <button class="leave-types-create-btn" 
                                style="margin-top: 10px; padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: inline-flex; align-items: center; gap: 5px;">
                            <i class="fas fa-plus"></i> Add First Leave Type
                        </button>
                    </td>
                </tr>
            `;

                            // Add event listener
                            setTimeout(() => {
                                const addBtn = tbody.querySelector('.leave-types-create-btn');
                                if (addBtn) {
                                    addBtn.addEventListener('click', () => updatePageContent('leave-types-create'));
                                }
                            }, 100);

                            return;
                        }

                        tbody.innerHTML = '';

                        leaveTypes.forEach(leave => {
                            const row = document.createElement('tr');

                            // Format boolean values
                            const proRated = leave.pro_rated === 1 || leave.pro_rated === true;
                            const isActive = leave.is_active === 1 || leave.is_active === true;

                            row.innerHTML = `
                <td style="padding: 12px; border-bottom: 1px solid #e2e8f0; font-weight: 600; color: var(--dark);">
                    <div style="color: #2563eb; font-weight: 600;">${leave.leave_code || '-'}</div>
                    <div style="font-size: 11px; color: #64748b; margin-top: 2px;">
                        Sort: ${leave.sort_code || '0'}
                        ${!isActive ? ' â€¢ <span style="color: #dc2626;">Inactive</span>' : ''}
                    </div>
                </td>
                <td style="padding: 12px; border-bottom: 1px solid #e2e8f0;">
                    <div style="font-weight: 500; color: var(--dark);">${leave.description || '-'}</div>
                    <div style="font-size: 11px; color: #64748b; margin-top: 3px; display: flex; align-items: center; gap: 8px;">
                        <span>${leave.pay_type || 'paid'}</span>
                        ${leave.carry_forward_type !== 'none' ?
                                    `<span style="background: #f3f4f6; padding: 2px 6px; border-radius: 4px; font-size: 10px;">
                                Carry: ${leave.max_carry_forward || 0}
                            </span>` : ''
                                }
                    </div>
                </td>
                <td style="padding: 12px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                    ${leave.auto_entitlement === 1 || leave.auto_entitlement === true ?
                                    `<span style="background: #d1fae5; color: #065f46; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; display: inline-block;">
                            <i class="fas fa-check-circle" style="margin-right: 4px;"></i> Yes
                        </span>` :
                                    `<span style="background: #fef2f2; color: #dc2626; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; display: inline-block;">
                            <i class="fas fa-times-circle" style="margin-right: 4px;"></i> No
                        </span>`
                                }
                    ${leave.entitlement_type ? `
                        <div style="font-size: 10px; color: #64748b; margin-top: 4px;">
                            ${leave.entitlement_type}
                        </div>
                    ` : ''}
                </td>
                <td style="padding: 12px; border-bottom: 1px solid #e2e8f0; text-align: center; font-weight: 600; color: #059669;">
                    ${leave.leave_per_year || '0.00'}
                    <div style="font-size: 10px; color: #64748b; margin-top: 2px;">days/year</div>
                </td>
                <td style="padding: 12px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                    ${leave.max_carry_forward > 0 ?
                                    `<span style="background: #fef3c7; color: #92400e; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; display: inline-block;">
                            ${leave.max_carry_forward || '0'} ${leave.carry_forward_type || 'days'}
                        </span>` :
                                    '<span style="color: #94a3b8;">-</span>'
                                }
                </td>
                <td style="padding: 12px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                    ${proRated ?
                                    `<span style="background: #e0f2fe; color: #0369a1; padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 600; display: inline-block;">
                            <i class="fas fa-chart-line" style="margin-right: 4px;"></i> Yes
                        </span>` :
                                    '<span style="color: #94a3b8;">-</span>'
                                }
                </td>
                <td style="padding: 12px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                    <div style="display: flex; gap: 8px; justify-content: center;">
                        <!-- ðŸ‘ï¸ VIEW BUTTON -->
                        <button class="view-leave-type-btn" 
                                data-id="${leave.leave_type_id}"
                                data-code="${leave.leave_code}"
                                data-name="${leave.description}"
                                style="background: none; border: none; cursor: pointer; color: #10b981; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#d1fae5'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="View Details">
                            <i class="fas fa-eye" style="font-size: 14px;"></i>
                        </button>
                        
                        <!-- âœï¸ EDIT BUTTON -->
                        <button class="edit-leave-type-btn" 
                                data-id="${leave.leave_type_id}"
                                data-code="${leave.leave_code}"
                                data-name="${leave.description}"
                                style="background: none; border: none; cursor: pointer; color: #2563eb; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#dbeafe'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Edit">
                            <i class="fas fa-edit" style="font-size: 14px;"></i>
                        </button>
                        
                        <!-- ðŸ—‘ï¸ DELETE BUTTON -->
                        <button class="delete-leave-type-btn" 
                                data-id="${leave.leave_type_id}"
                                data-code="${leave.leave_code}"
                                data-name="${leave.description}"
                                style="background: none; border: none; cursor: pointer; color: #ef4444; padding: 6px 8px; border-radius: 4px;"
                                onmouseover="this.style.backgroundColor='#fee2e2'" 
                                onmouseout="this.style.backgroundColor=''"
                                title="Delete">
                            <i class="fas fa-trash" style="font-size: 14px;"></i>
                        </button>
                    </div>
                </td>
            `;

                            tbody.appendChild(row);
                        });

                        // Add event listeners to buttons
                        this.setupRowButtons();
                    }

                    // âœ… Setup button event listeners
                    setupRowButtons() {
                        // ðŸ‘ï¸ View buttons
                        document.querySelectorAll('.view-leave-type-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const leaveId = btn.dataset.id;
                                const leaveName = btn.dataset.name;
                                console.log('ðŸ‘ï¸ View leave type:', leaveId, leaveName);
                                this.viewLeaveType(leaveId);
                            });
                        });

                        // âœï¸ Edit buttons
                        document.querySelectorAll('.edit-leave-type-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const leaveId = btn.dataset.id;
                                const leaveName = btn.dataset.name;
                                console.log('âœï¸ Edit leave type:', leaveId, leaveName);
                                this.editLeaveType(leaveId);
                            });
                        });

                        // ðŸ—‘ï¸ Delete buttons
                        document.querySelectorAll('.delete-leave-type-btn').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.preventDefault();
                                const leaveId = btn.dataset.id;
                                const leaveCode = btn.dataset.code;
                                const leaveName = btn.dataset.name;
                                this.deleteLeaveType(leaveId, leaveCode, leaveName);
                            });
                        });
                    }

                    // âœ… View leave type details
                    async viewLeaveType(leaveId) {
                        console.log('ðŸ” Viewing leave type:', leaveId);

                        try {
                            showStatusMessage('Loading leave type details...', 'info');

                            const response = await fetch(`${this.baseURL}/leave-types/${leaveId}`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                this.showLeaveTypeViewPage(result.data);
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('View error:', error);
                            showStatusMessage(`âŒ Failed to load: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Show leave type view page
                    showLeaveTypeViewPage(leave) {
                        // Format date
                        const createdDate = leave.created_at ?
                            new Date(leave.created_at).toLocaleDateString('en-GB', {
                                day: '2-digit',
                                month: 'short',
                                year: 'numeric'
                            }) : 'N/A';

                        const viewPageHTML = `
            <div class="leave-type-view-page">
                <!-- Header Actions -->
                <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary edit-leave-type-from-view-btn" 
                                data-id="${leave.leave_type_id}"
                                style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-edit"></i> Edit Leave Type
                        </button>
                        <button class="btn btn-primary leave-type-view-back-btn" 
                                style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-arrow-left"></i> Back to List
                        </button>
                    </div>
                    <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                        <i class="fas fa-eye"></i> Viewing: ${leave.leave_code}
                    </div>
                </div>

                <!-- Main Content -->
                <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <!-- Left Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <!-- Leave Code -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Leave Code</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                        <span style="font-family: 'Courier New', monospace; font-weight: 600; color: #2563eb;">${leave.leave_code || '-'}</span>
                                    </div>
                                </div>
                                
                                <!-- Description -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Description</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                        ${leave.description || '-'}
                                    </div>
                                </div>
                                
                                <!-- Leave Per Year -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Leave Per Year</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center; justify-content: center;">
                                        <span style="font-size: 16px; font-weight: 700; color: #059669;">${leave.leave_per_year || '0.00'}</span>
                                        <span style="color: #64748b; margin-left: 5px;">days/year</span>
                                    </div>
                                </div>
                                
                                <!-- Pay Type -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Pay Type</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                        ${leave.pay_type === 'paid' ?
                                '<span style="color: #059669; font-weight: 600;">Paid</span>' :
                                leave.pay_type === 'unpaid' ?
                                    '<span style="color: #dc2626; font-weight: 600;">Unpaid</span>' :
                                    '<span style="color: #d97706; font-weight: 600;">Half Paid</span>'
                            }
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <!-- Sort Code -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Sort Code</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center; justify-content: center;">
                                        <span style="font-size: 16px; font-weight: 700; color: #7c3aed;">${leave.sort_code || '0'}</span>
                                    </div>
                                </div>
                                
                                <!-- Status -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Status</label>
                                    <div>
                                        ${leave.is_active === 1 || leave.is_active === true ?
                                `<span style="background: #d1fae5; color: #065f46; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                                                <i class="fas fa-check-circle"></i> Active
                                            </span>` :
                                `<span style="background: #fef2f2; color: #dc2626; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                                                <i class="fas fa-times-circle"></i> Inactive
                                            </span>`
                            }
                                    </div>
                                </div>
                                
                                <!-- Employee Entitlement -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Entitlement</label>
                                    <div>
                                        ${leave.auto_entitlement === 1 || leave.auto_entitlement === true ?
                                `<span style="background: #d1fae5; color: #065f46; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                                                <i class="fas fa-check-circle"></i> Auto Entitlement
                                            </span>` :
                                `<span style="background: #fef2f2; color: #dc2626; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                                                <i class="fas fa-times-circle"></i> Manual Entitlement
                                            </span>`
                            }
                                    </div>
                                </div>
                                
                                <!-- Created Date -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Created Date</label>
                                    <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center;">
                                        ${createdDate}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Additional Details Section -->
                    <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #e2e8f0;">
                        <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 14px; font-weight: 600;">Additional Details</h4>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
                            <div>
                                <div style="color: #6b7280; font-size: 11px; margin-bottom: 4px;">Max Carry Forward</div>
                                <div style="font-size: 13px; font-weight: 500;">
                                    ${leave.max_carry_forward || '0'} ${leave.carry_forward_type || 'days'}
                                </div>
                            </div>
                            <div>
                                <div style="color: #6b7280; font-size: 11px; margin-bottom: 4px;">Pro Rated</div>
                                <div style="font-size: 13px; font-weight: 500;">
                                    ${leave.pro_rated === 1 || leave.pro_rated === true ? 'Yes' : 'No'}
                                </div>
                            </div>
                            <div>
                                <div style="color: #6b7280; font-size: 11px; margin-bottom: 4px;">Half Day Allowed</div>
                                <div style="font-size: 13px; font-weight: 500;">
                                    ${leave.is_half_day === 1 || leave.is_half_day === true ? 'Yes' : 'No'}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `;

                        // Update page content
                        const pageContent = document.getElementById('page-content');
                        if (pageContent) {
                            pageContent.innerHTML = viewPageHTML;

                            // Add event listeners
                            setTimeout(() => {
                                // Back button
                                const backBtn = document.querySelector('.leave-type-view-back-btn');
                                if (backBtn) {
                                    backBtn.addEventListener('click', () => {
                                        updatePageContent('leave-types');
                                        setTimeout(() => {
                                            if (window.leaveTypesManager && window.leaveTypesManager.loadLeaveTypes) {
                                                window.leaveTypesManager.loadLeaveTypes();
                                            }
                                        }, 500);
                                    });
                                }

                                // Edit button
                                const editBtn = document.querySelector('.edit-leave-type-from-view-btn');
                                if (editBtn) {
                                    editBtn.addEventListener('click', () => {
                                        if (window.leaveTypesManager && window.leaveTypesManager.editLeaveType) {
                                            window.leaveTypesManager.editLeaveType(leave.leave_type_id);
                                        }
                                    });
                                }
                            }, 100);
                        }
                    }

                    // âœ… Edit leave type
                    async editLeaveType(leaveId) {
                        console.log('âœï¸ Edit leave type:', leaveId);

                        try {
                            showStatusMessage('Loading leave type for editing...', 'info');

                            const response = await fetch(`${this.baseURL}/leave-types/${leaveId}`);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                // Store leave data and navigate to edit form
                                sessionStorage.setItem('editLeaveTypeData', JSON.stringify(result.data));

                                // Navigate to create form (it will detect edit mode)
                                updatePageContent('leave-types-create');
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('Edit error:', error);
                            showStatusMessage(`âŒ Failed to load: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Delete leave type with confirmation
                    async deleteLeaveType(leaveId, leaveCode, leaveName) {
                        if (!confirm(`ðŸ—‘ï¸ Delete leave type "${leaveName}" (${leaveCode})?\n\nThis action cannot be undone!`)) {
                            return;
                        }

                        try {
                            console.log('ðŸ—‘ï¸ Deleting leave type:', leaveId);

                            const response = await fetch(`${this.baseURL}/leave-types/${leaveId}`, {
                                method: 'DELETE'
                            });

                            if (!response.ok) {
                                const errorText = await response.text();
                                throw new Error(`Server error ${response.status}: ${errorText.substring(0, 100)}`);
                            }

                            const result = await response.json();

                            if (result.success) {
                                showStatusMessage(`âœ… Leave type "${leaveName}" deleted successfully!`, 'success');
                                this.loadLeaveTypes(); // Refresh list
                            } else {
                                throw new Error(result.error);
                            }

                        } catch (error) {
                            console.error('âŒ Delete error:', error);
                            showStatusMessage(`Delete failed: ${error.message}`, 'error');
                        }
                    }

                    // âœ… Update pagination info
                    updatePagination(pagination) {
                        this.totalPages = pagination.totalPages;

                        const infoDiv = document.querySelector('.pagination-info');
                        if (infoDiv && pagination) {
                            const start = ((this.currentPage - 1) * this.pageSize) + 1;
                            const end = Math.min(this.currentPage * this.pageSize, pagination.total);

                            infoDiv.textContent = `Showing ${start} to ${end} of ${pagination.total} entries`;
                        }

                        // Update page buttons
                        this.updatePageButtons();
                    }

                    // âœ… Update page buttons state
                    updatePageButtons() {
                        const prevBtn = document.querySelector('.pagination-controls button:first-child');
                        const nextBtn = document.querySelector('.pagination-controls button:last-child');
                        const currentBtn = document.querySelector('.pagination-controls .btn-primary');

                        if (prevBtn) {
                            prevBtn.disabled = this.currentPage === 1;
                            prevBtn.style.opacity = this.currentPage === 1 ? '0.5' : '1';
                            prevBtn.style.cursor = this.currentPage === 1 ? 'not-allowed' : 'pointer';
                        }

                        if (nextBtn) {
                            nextBtn.disabled = this.currentPage >= this.totalPages;
                            nextBtn.style.opacity = this.currentPage >= this.totalPages ? '0.5' : '1';
                            nextBtn.style.cursor = this.currentPage >= this.totalPages ? 'not-allowed' : 'pointer';
                        }

                        // Update current page button
                        if (currentBtn) {
                            currentBtn.textContent = this.currentPage;
                        }
                    }

                    // âœ… Update table info
                    updateTableInfo(currentCount, total) {
                        console.log(`ðŸ“Š Displaying ${currentCount} of ${total} leave types`);
                    }

                    // âœ… Show error message
                    showError(message) {
                        const tbody = document.querySelector('.leave-types-table tbody');
                        if (tbody) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="7" style="text-align: center; padding: 40px; color: #ef4444;">
                        <i class="fas fa-exclamation-triangle"></i>
                        <p style="margin-top: 10px;">${message}</p>
                        <button onclick="window.leaveTypesManager?.loadLeaveTypes()" 
                                style="margin-top: 10px; padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            Retry
                        </button>
                    </td>
                </tr>
            `;
                        }
                    }
                }

                // âœ… Initialize leave types list page
                function initLeaveTypesList() {
                    const isLeaveTypesPage = document.querySelector('.leave-types-management') ||
                        window.location.hash === '#leave-types';

                    if (isLeaveTypesPage) {
                        console.log('ðŸ“ Leave types management page detected');

                        // Create manager instance
                        window.leaveTypesManager = new LeaveTypesListManager();

                        // Setup event listeners
                        setTimeout(() => {
                            // Create button
                            const createBtn = document.querySelector('.leave-types-create-btn');
                            if (createBtn) {
                                createBtn.addEventListener('click', (e) => {
                                    e.preventDefault();
                                    sessionStorage.removeItem('editLeaveTypeData'); // Clear edit mode
                                    updatePageContent('leave-types-create');
                                });
                            }

                            // Filter button
                            const filterBtn = document.querySelector('.filters-section .btn-primary');
                            if (filterBtn) {
                                filterBtn.addEventListener('click', () => {
                                    window.leaveTypesManager.currentPage = 1;
                                    window.leaveTypesManager.loadLeaveTypes();
                                });
                            }

                            // Clear button
                            const clearBtn = document.querySelector('.filters-section .btn-outline:nth-child(2)');
                            if (clearBtn) {
                                clearBtn.addEventListener('click', () => {
                                    const codeInput = document.querySelector('input[placeholder*="Find Leave Code"]');
                                    const descInput = document.querySelector('input[placeholder*="Find Description"]');
                                    const select = document.querySelector('.filters-section select');

                                    if (codeInput) codeInput.value = '';
                                    if (descInput) descInput.value = '';
                                    if (select) select.value = 'All Status';

                                    window.leaveTypesManager.currentPage = 1;
                                    window.leaveTypesManager.loadLeaveTypes();
                                });
                            }

                            // Search inputs (on Enter key)
                            const searchInputs = document.querySelectorAll('.filters-section input');
                            searchInputs.forEach(input => {
                                input.addEventListener('keyup', (e) => {
                                    if (e.key === 'Enter') {
                                        window.leaveTypesManager.currentPage = 1;
                                        window.leaveTypesManager.loadLeaveTypes();
                                    }
                                });
                            });

                            // Page size select
                            const pageSizeSelect = document.querySelector('.pagination select');
                            if (pageSizeSelect) {
                                pageSizeSelect.addEventListener('change', (e) => {
                                    window.leaveTypesManager.pageSize = parseInt(e.target.value);
                                    window.leaveTypesManager.currentPage = 1;
                                    window.leaveTypesManager.loadLeaveTypes();
                                });
                            }

                            // Previous button
                            const prevBtn = document.querySelector('.pagination-controls button:first-child');
                            if (prevBtn) {
                                prevBtn.addEventListener('click', () => {
                                    if (window.leaveTypesManager.currentPage > 1) {
                                        window.leaveTypesManager.currentPage--;
                                        window.leaveTypesManager.loadLeaveTypes();
                                    }
                                });
                            }

                            // Next button
                            const nextBtn = document.querySelector('.pagination-controls button:last-child');
                            if (nextBtn) {
                                nextBtn.addEventListener('click', () => {
                                    if (window.leaveTypesManager.currentPage < window.leaveTypesManager.totalPages) {
                                        window.leaveTypesManager.currentPage++;
                                        window.leaveTypesManager.loadLeaveTypes();
                                    }
                                });
                            }

                            // Refresh button (sync icon)
                            const refreshBtn = document.querySelector('.action-buttons .btn-outline:first-child');
                            if (refreshBtn) {
                                refreshBtn.addEventListener('click', () => {
                                    window.leaveTypesManager.loadLeaveTypes();
                                    showStatusMessage('ðŸ”„ Leave types list refreshed', 'info');
                                });
                            }

                            // Load initial data
                            window.leaveTypesManager.loadLeaveTypes();

                        }, 300);
                    }
                }

                // âœ… Call on page load
                document.addEventListener('DOMContentLoaded', function () {
                    setTimeout(initLeaveTypesList, 500);
                });

                // âœ… Call on hash change
                window.addEventListener('hashchange', function () {
                    setTimeout(initLeaveTypesList, 300);
                });
                // ============= CHART OF ACCOUNTS FUNCTIONS =============

                // Initialize chart of accounts create form
                function initChartOfAccountsCreateForm() {
                    console.log('ðŸ“Š Initializing Chart of Accounts Create Form...');

                    // Load dropdowns
                    loadCurrenciesForAccounts();
                    loadParentAccounts();
                    setupBalanceFieldLogic();
                    // Setup save button
                    const saveBtn = document.querySelector('.accounts-save-btn');
                    if (saveBtn) {
                        saveBtn.addEventListener('click', saveChartOfAccount);
                    }

                    // Setup back button
                    const backBtn = document.querySelector('.accounts-back-btn');
                    if (backBtn) {
                        backBtn.addEventListener('click', function () {
                            updatePageContent('chart-of-accounts');
                        });
                    }

                    // Focus on first field
                    setTimeout(() => {
                        const codeInput = document.getElementById('account-code');
                        if (codeInput) codeInput.focus();
                    }, 200);

                    console.log('âœ… Chart of Accounts form ready!');

                    // Auto-generate account code based on parent
                    const parentSelect = document.getElementById('parent-account');
                    const codeInput = document.getElementById('account-code');

                    if (parentSelect && codeInput) {
                        parentSelect.addEventListener('change', function () {
                            const selectedOption = this.options[this.selectedIndex];
                            const parentCode = selectedOption.textContent.split(' - ')[0];

                            if (parentCode && parentCode !== 'ROOT' && parentCode !== 'Select Parent Account') {
                                // Suggest next code: if parent is 100, suggest 100-001
                                if (parentCode.includes('-')) {
                                    // Parent is already sub-account
                                    const parts = parentCode.split('-');
                                    const lastPart = parseInt(parts[parts.length - 1]);
                                    parts[parts.length - 1] = String(lastPart + 1).padStart(3, '0');
                                    codeInput.placeholder = parts.join('-');
                                } else {
                                    // Parent is main account
                                    codeInput.placeholder = `${parentCode}-001`;
                                }
                            }
                        });
                    }
                }
                // Add this to your form initialization
                function setupBalanceFieldLogic() {
                    const isPlaceholderCheckbox = document.getElementById('is-placeholder');
                    const openingBalanceInput = document.getElementById('opening-balance');
                    const balanceGroup = openingBalanceInput.closest('.form-group');

                    if (!isPlaceholderCheckbox || !openingBalanceInput) return;

                    function updateBalanceField() {
                        if (isPlaceholderCheckbox.checked) {
                            // Hide or disable balance field for placeholders
                            openingBalanceInput.value = '0.00';
                            openingBalanceInput.disabled = true;
                            openingBalanceInput.style.backgroundColor = '#f3f4f6';
                            openingBalanceInput.style.color = '#9ca3af';

                            // Optional: Hide the entire group
                            if (balanceGroup) {
                                balanceGroup.style.display = 'none';
                            }
                        } else {
                            // Show balance field for regular accounts
                            openingBalanceInput.disabled = false;
                            openingBalanceInput.style.backgroundColor = 'white';
                            openingBalanceInput.style.color = 'inherit';

                            if (balanceGroup) {
                                balanceGroup.style.display = 'block';
                            }
                        }
                    }

                    // Initial update
                    updateBalanceField();

                    // Update on checkbox change
                    isPlaceholderCheckbox.addEventListener('change', updateBalanceField);
                }

                // Load currencies for accounts dropdown - SIMPLIFIED VERSION
                async function loadCurrenciesForAccounts() {
                    console.log('ðŸ’° Trying different endpoints...');

                    const select = document.getElementById('account-currency');
                    if (!select) return;

                    select.innerHTML = '<option value="">Loading currencies...</option>';

                    // Try different possible endpoints
                    const endpoints = [
                        '/api/currencies/active',
                        '/api/currencies',
                        'http://localhost:5000/api/currencies',
                        '/currencies/active',
                        '/currencies'
                    ];

                    for (const endpoint of endpoints) {
                        try {
                            console.log(`Trying: ${endpoint}`);
                            const response = await fetch(endpoint);

                            if (response.ok) {
                                const result = await response.json();
                                console.log(`âœ… Found endpoint: ${endpoint}`);

                                if (result.success && result.data) {
                                    populateCurrencies(select, result.data);
                                    return;
                                }
                            }
                        } catch (err) {
                            console.log(`âŒ ${endpoint} failed: ${err.message}`);
                            continue;
                        }
                    }

                    // All endpoints failed, use hardcoded
                    console.log('âš ï¸ All endpoints failed, using hardcoded');
                    loadHardcodedCurrencies(select);
                }

                function populateCurrencies(select, currencies) {
                    select.innerHTML = '<option value="">Select Currency</option>';

                    currencies.forEach(currency => {
                        const option = document.createElement('option');
                        option.value = currency.currency_id || currency.id;
                        option.textContent = `${currency.currency_code || currency.code} - ${currency.currency_name || currency.name}`;

                        if (currency.is_default || currency.default) {
                            option.selected = true;
                        }

                        select.appendChild(option);
                    });

                    console.log(`âœ… Loaded ${currencies.length} currencies`);
                }

                function loadFallbackCurrencies(selectElement) {
                    const currencies = [
                        { currency_id: 1, currency_code: 'SGD', currency_name: 'Singapore Dollar', is_default: true },
                        { currency_id: 2, currency_code: 'USD', currency_name: 'US Dollar', is_default: false },
                        { currency_id: 3, currency_code: 'EUR', currency_name: 'Euro', is_default: false }
                    ];

                    selectElement.innerHTML = '<option value="">Select Currency</option>';

                    currencies.forEach(currency => {
                        const option = document.createElement('option');
                        option.value = currency.currency_id;
                        option.textContent = `${currency.currency_code} - ${currency.currency_name}`;
                        if (currency.is_default) option.selected = true;
                        selectElement.appendChild(option);
                    });

                    console.log('âœ… Fallback currencies loaded');
                }
                // Load parent accounts
                async function loadParentAccounts() {
                    try {
                        console.log('ðŸ“ Loading eligible parent accounts...');

                        const select = document.getElementById('parent-account');
                        if (!select) return;

                        select.innerHTML = '<option value="">Loading parent accounts...</option>';

                        // Fetch ALL placeholder accounts
                        const response = await fetch('http://localhost:5000/api/accounts/parents');

                        if (!response.ok) throw new Error(`HTTP ${response.status}`);

                        const result = await response.json();

                        if (result.success && result.data && result.data.length > 0) {
                            select.innerHTML = '<option value="">Root</option>';

                            // Always show ROOT first
                            const rootAccount = result.data.find(acc => acc.account_code === 'ROOT' || acc.is_root);
                            if (rootAccount) {
                                addParentOption(select, rootAccount);
                            }

                            // Show other placeholders
                            result.data.forEach(account => {
                                if (account.account_code !== 'ROOT' && !account.is_root) {
                                    addParentOption(select, account);
                                }
                            });

                            console.log(`âœ… Loaded ${result.data.length} parent accounts`);

                            // Setup hierarchy logic

                        } else {
                            // Create default hierarchy
                            createDefaultHierarchy(select);
                        }

                    } catch (error) {
                        console.error('âŒ Parent accounts error:', error);
                        const select = document.getElementById('parent-account');
                        if (select) createDefaultHierarchy(select);
                    }
                }

                function addParentOption(selectElement, account) {
                    const option = document.createElement('option');
                    option.value = account.account_id;

                    // Create indentation based on level
                    const level = account.root_level || 0;
                    const indent = 'â€ƒ'.repeat(level); // Using em space for indentation

                    option.textContent = `${indent}${account.account_code} - ${account.account_name}`;

                    // Store level for CSS
                    option.dataset.level = level;

                    // Add indicator for placeholder
                    if (account.is_placeholder) {
                        option.dataset.placeholder = 'true';
                    }

                    // Default select ROOT
                    if (account.account_code === 'ROOT' || account.is_root) {
                        option.selected = true;
                        option.textContent += ' (Default)';
                    }

                    selectElement.appendChild(option);
                }

                function createDefaultHierarchy(selectElement) {
                    const defaultHierarchy = [
                        { id: null, code: 'ROOT', name: 'Root Account', level: 0, is_root: true },

                    ];

                    selectElement.innerHTML = '<option value="">Root</option>';

                    defaultHierarchy.forEach(account => {
                        const option = document.createElement('option');
                        option.value = account.id || '';

                        const indent = 'â€ƒ'.repeat(account.level);
                        option.textContent = `${indent}${account.code} - ${account.name}`;
                        option.dataset.level = account.level;

                        if (account.is_root) {
                            option.selected = true;
                            option.textContent += ' (Default)';
                        }

                        selectElement.appendChild(option);
                    });

                    console.log('âœ… Created default hierarchy');
                }
                function setupHierarchyLogic() {
                    const isPlaceholderCheckbox = document.getElementById('is-placeholder');
                    const parentSelect = document.getElementById('parent-account');

                    if (!isPlaceholderCheckbox || !parentSelect) return;

                    function filterParentOptions() {
                        const isPlaceholder = isPlaceholderCheckbox.checked;
                        const currentParentId = parentSelect.value;

                        // Get all options
                        const allOptions = Array.from(parentSelect.options);

                        if (isPlaceholder) {
                            // If creating a placeholder, can be child of ANY placeholder (including ROOT)
                            allOptions.forEach(option => {
                                option.style.display = '';
                                option.disabled = false;
                            });

                        } else {
                            // If creating NON-placeholder, can only be child of placeholder
                            allOptions.forEach(option => {
                                if (option.value === '') {
                                    // Keep the "Select Parent" option
                                    option.style.display = '';
                                    option.disabled = false;
                                } else if (option.dataset.placeholder === 'true' || option.textContent.includes('ROOT')) {
                                    // Show placeholder accounts
                                    option.style.display = '';
                                    option.disabled = false;
                                } else {
                                    // Hide non-placeholder accounts
                                    option.style.display = 'none';
                                    option.disabled = true;
                                }
                            });

                            // If current selection is invalid, reset to ROOT
                            const selectedOption = parentSelect.options[parentSelect.selectedIndex];
                            if (selectedOption && selectedOption.style.display === 'none') {
                                parentSelect.value = '';
                                const rootOption = Array.from(parentSelect.options).find(
                                    opt => opt.textContent.includes('ROOT')
                                );
                                if (rootOption) rootOption.selected = true;
                            }
                        }
                    }

                    // Apply initial filter
                    filterParentOptions();

                    // Update filter when checkbox changes
                    isPlaceholderCheckbox.addEventListener('change', filterParentOptions);
                }
                // Auto-suggest account code based on parent selection
                function setupAccountCodeAutoSuggest() {
                    const parentSelect = document.getElementById('parent-account');
                    const codeInput = document.getElementById('account-code');

                    if (!parentSelect || !codeInput) return;

                    parentSelect.addEventListener('change', function () {
                        const selectedOption = this.options[this.selectedIndex];
                        const parentCode = selectedOption.dataset.code;
                        const parentLevel = parseInt(selectedOption.dataset.level) || 0;

                        if (parentCode && parentCode !== 'ROOT') {
                            // Suggest next available code
                            suggestNextAccountCode(parentCode, parentLevel + 1)
                                .then(suggestedCode => {
                                    codeInput.placeholder = suggestedCode;
                                })
                                .catch(() => {
                                    // Fallback suggestion
                                    if (parentCode.includes('-')) {
                                        const parts = parentCode.split('-');
                                        const lastPart = parseInt(parts[parts.length - 1]);
                                        parts[parts.length - 1] = String(lastPart + 1).padStart(3, '0');
                                        codeInput.placeholder = parts.join('-');
                                    } else {
                                        codeInput.placeholder = `${parentCode}-001`;
                                    }
                                });
                        } else if (parentCode === 'ROOT') {
                            // For ROOT, suggest main category codes
                            codeInput.placeholder = 'e.g., 100, 200, 300';
                        } else {
                            codeInput.placeholder = 'Enter account code';
                        }
                    });
                }

                // Suggest next available account code
                async function suggestNextAccountCode(parentCode, level) {
                    try {
                        const response = await fetch(`http://localhost:5000/api/accounts/suggest-code?parent=${parentCode}&level=${level}`);

                        if (response.ok) {
                            const result = await response.json();
                            if (result.success && result.suggested_code) {
                                return result.suggested_code;
                            }
                        }
                    } catch (error) {
                        console.log('Code suggestion failed:', error);
                    }

                    throw new Error('Suggestion failed');
                }

                // Save chart of account
                async function saveChartOfAccount() {
                    try {
                        const isPlaceholder = document.getElementById('is-placeholder').checked;
                        const parentId = document.getElementById('parent-account').value;

                        // VALIDATION: Non-placeholder can't be child of non-placeholder
                        if (!isPlaceholder && parentId) {
                            // Check if parent is placeholder
                            const parentOption = document.getElementById('parent-account').options[
                                document.getElementById('parent-account').selectedIndex
                            ];

                            if (parentOption && parentOption.dataset.placeholder !== 'true' &&
                                !parentOption.textContent.includes('ROOT')) {
                                alert('âŒ Non-placeholder accounts must have a placeholder parent!');
                                return;
                            }
                        }
                        // Get all form values
                        const accountData = {
                            account_code: document.getElementById('account-code')?.value.trim(),
                            account_name: document.getElementById('account-name')?.value.trim(),
                            description: document.getElementById('account-description')?.value.trim() || '',
                            currency_id: parseInt(document.getElementById('account-currency')?.value),
                            is_placeholder: document.getElementById('is-placeholder')?.checked || false,
                            parent_account_id: document.getElementById('parent-account')?.value
                                ? parseInt(document.getElementById('parent-account')?.value)
                                : null,
                            account_type: document.getElementById('account-type')?.value,
                            is_system_account: document.getElementById('is-system-account')?.checked || false,
                            is_active: document.getElementById('is-active')?.checked !== false,
                            opening_balance: parseFloat(document.getElementById('opening-balance')?.value) || 0.00
                        };

                        console.log('ðŸ“‹ Form data:', accountData);

                        // Validation
                        const errors = [];

                        if (!accountData.account_code) {
                            errors.push('Account Code is required');
                            document.getElementById('account-code').style.borderColor = '#ef4444';
                        }

                        if (!accountData.account_name) {
                            errors.push('Account Name is required');
                            document.getElementById('account-name').style.borderColor = '#ef4444';
                        }

                        if (!accountData.currency_id) {
                            errors.push('Currency is required');
                            document.getElementById('account-currency').style.borderColor = '#ef4444';
                        }

                        if (!accountData.account_type) {
                            errors.push('Account Type is required');
                            document.getElementById('account-type').style.borderColor = '#ef4444';
                        }

                        if (errors.length > 0) {
                            showStatusMessage('âŒ ' + errors.join(', '), 'error');
                            return;
                        }

                        // Reset borders
                        document.querySelectorAll('input, select').forEach(el => {
                            el.style.borderColor = '#d1d5db';
                        });

                        // Show loading
                        const saveBtn = document.querySelector('.accounts-save-btn');
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';
                            saveBtn.disabled = true;
                        }

                        // Send to API
                        console.log('ðŸ“¤ Sending to API:', accountData);

                        const response = await fetch('http://localhost:5000/api/accounts', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(accountData)
                        });

                        const result = await response.json();
                        console.log('API Response:', result);

                        if (response.ok && result.success) {
                            showStatusMessage(`âœ… Account "${accountData.account_code}" created successfully!`, 'success');

                            // Reset form
                            document.getElementById('account-code').value = '';
                            document.getElementById('account-name').value = '';
                            document.getElementById('account-description').value = '';
                            document.getElementById('opening-balance').value = '0.00';
                            document.getElementById('is-placeholder').checked = false;
                            document.getElementById('is-system-account').checked = false;

                            // Stay on form for next entry or go back after delay
                            setTimeout(() => {
                                // Option 1: Stay for next entry
                                document.getElementById('account-code').focus();

                                updatePageContent('accounts-settings-chart-of-accounts');
                            }, 1500);

                        } else {
                            throw new Error(result.error || 'Failed to create account');
                        }

                    } catch (error) {
                        console.error('âŒ Save error:', error);
                        showStatusMessage('âŒ ' + error.message, 'error');

                        // Reset button
                        const saveBtn = document.querySelector('.accounts-save-btn');
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                            saveBtn.disabled = false;
                        }
                    }
                }

                // ============= STATUS MESSAGE FUNCTION =============
                function showStatusMessage(message, type = 'info') {
                    // Remove existing messages
                    const existingMsg = document.querySelector('.status-message');
                    if (existingMsg) existingMsg.remove();

                    // Create new message
                    const messageDiv = document.createElement('div');
                    messageDiv.className = `status-message ${type}`;
                    messageDiv.innerHTML = `
        <div style="
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 12px 20px;
            background: ${type === 'success' ? '#10b981' : type === 'error' ? '#ef4444' : '#3b82f6'};
            color: white;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideIn 0.3s ease;
        ">
            <i class="fas ${type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-exclamation-circle' : 'fa-info-circle'}"></i>
            <span>${message}</span>
        </div>
    `;

                    document.body.appendChild(messageDiv);

                    // Auto remove after 3 seconds
                    setTimeout(() => {
                        if (messageDiv.parentNode) {
                            messageDiv.style.animation = 'slideOut 0.3s ease';
                            setTimeout(() => messageDiv.remove(), 300);
                        }
                    }, 3000);
                }

                // Add CSS for animations
                const style = document.createElement('style');
                style.textContent = `
    @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }
    @keyframes slideOut {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(100%); opacity: 0; }
    }
`;
                document.head.appendChild(style);

                // Auto-initialize when form loads
                document.addEventListener('DOMContentLoaded', function () {
                    if (document.querySelector('.chart-of-accounts-create')) {
                        console.log('ðŸ“Š Chart of Accounts Create page detected');
                        initChartOfAccountsCreateForm();
                    }
                });

                // Also observe dynamic page changes
                const accountsObserver = new MutationObserver(function (mutations) {
                    mutations.forEach(function (mutation) {
                        if (mutation.target.id === 'page-content' &&
                            document.querySelector('.chart-of-accounts-create')) {
                            console.log('ðŸ”„ Chart of Accounts Create loaded dynamically');
                            setTimeout(initChartOfAccountsCreateForm, 100);
                        }
                    });
                });

                if (document.getElementById('page-content')) {
                    accountsObserver.observe(document.getElementById('page-content'), {
                        childList: true,
                        subtree: true
                    });
                }
                // ============= CHART OF ACCOUNTS MANAGEMENT =============


                let currentType = '';
                let currentParent = '';

                // Initialize management page
                function initChartOfAccountsManagement() {
                    console.log('ðŸ“Š Initializing Chart of Accounts Management...');

                    // Load accounts
                    loadAccounts();

                    // Load parent filter options
                    loadParentFilterOptions();

                    // Setup event listeners
                    setupEventListeners();

                    // Setup Add button
                    const addBtn = document.querySelector('.chart-of-accounts-btn');
                    if (addBtn) {
                        addBtn.addEventListener('click', function () {
                            updatePageContent('chart-of-accounts-create');
                        });
                    }

                    console.log('âœ… Chart of Accounts Management ready!');
                }

                // Setup event listeners
                function setupEventListeners() {
                    // Search input
                    const searchInput = document.getElementById('search-account');
                    if (searchInput) {
                        searchInput.addEventListener('keyup', function (e) {
                            if (e.key === 'Enter') {
                                currentSearch = this.value;
                                currentPage = 1;
                                loadAccounts();
                            }
                        });
                    }

                    // Apply Filters button
                    const applyBtn = document.getElementById('btn-apply-filters');
                    if (applyBtn) {
                        applyBtn.addEventListener('click', function () {
                            currentSearch = document.getElementById('search-account').value;
                            currentType = document.getElementById('filter-type').value;
                            currentParent = document.getElementById('filter-parent').value;
                            currentPage = 1;
                            loadAccounts();
                        });
                    }

                    // Show entries dropdown
                    const limitSelect = document.getElementById('page-limit');
                    if (limitSelect) {
                        limitSelect.addEventListener('change', function () {
                            currentLimit = parseInt(this.value);
                            currentPage = 1;
                            loadAccounts();
                        });
                    }

                    // Refresh button
                    const refreshBtn = document.querySelector('.btn-refresh');
                    if (refreshBtn) {
                        refreshBtn.addEventListener('click', function () {
                            loadAccounts();
                        });
                    }

                    // Export button
                    const exportBtn = document.querySelector('.btn-export');
                    if (exportBtn) {
                        exportBtn.addEventListener('click', function () {
                            exportAccounts();
                        });
                    }

                    // Pagination buttons
                    const prevBtn = document.getElementById('btn-prev');
                    const nextBtn = document.getElementById('btn-next');

                    if (prevBtn) {
                        prevBtn.addEventListener('click', function () {
                            if (currentPage > 1) {
                                currentPage--;
                                loadAccounts();
                            }
                        });
                    }

                    if (nextBtn) {
                        nextBtn.addEventListener('click', function () {
                            currentPage++;
                            loadAccounts();
                        });
                    }

                    // Table action buttons using event delegation
                    const tableBody = document.getElementById('accounts-table-body');
                    if (tableBody) {
                        tableBody.addEventListener('click', function (e) {
                            const target = e.target;

                            // Handle view button click
                            if (target.closest('.btn-view')) {
                                const button = target.closest('.btn-view');
                                const row = button.closest('tr');
                                const accountId = row.dataset.id;
                                viewAccount(accountId); // This will show the new view page
                            }

                            // Handle edit button click
                            if (target.closest('.btn-edit')) {
                                const button = target.closest('.btn-edit');
                                const row = button.closest('tr');
                                const accountId = row.dataset.id;
                                editAccount(accountId); // This will show the new edit form
                            }

                            // Handle delete button click
                            // Handle delete button click - FIXED VERSION
                            if (target.closest('.btn-delete:not([disabled])')) {
                                const button = target.closest('.btn-delete');
                                const row = button.closest('tr');
                                const accountId = row.dataset.id;
                                const accountCode = row.dataset.code;
                                const childCount = parseInt(row.dataset.children) || 0;

                                if (childCount > 0) {
                                    alert(`Cannot delete account "${accountCode}" - It has ${childCount} child account(s).`);
                                    return;
                                }

                                // ðŸ”´ CONFIRM HERE ONLY
                                const confirmMessage = `Are you sure you want to PERMANENTLY DELETE?\n\nAccount: ${accountCode}\n\nThis action cannot be undone!`;


                            }
                        });
                    }
                }

                // Load accounts from API
                async function loadAccounts(showInactive = false) {
                    try {
                        console.log('ðŸ“¥ Loading accounts...');

                        // Show loading state
                        const tbody = document.getElementById('accounts-table-body');
                        if (tbody) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="6" style="padding: 40px; text-align: center; color: #64748b;">
                        <div style="margin-bottom: 10px;">
                            <i class="fas fa-spinner fa-spin" style="font-size: 24px; color: var(--primary);"></i>
                        </div>
                        <div style="font-size: 14px;">
                            Loading accounts...
                        </div>
                    </td>
                </tr>
            `;
                        }

                        // Build query string
                        const queryParams = new URLSearchParams({
                            page: currentPage,
                            limit: currentLimit,
                            search: currentSearch,
                            type: currentType,
                            parent: currentParent,
                            show_inactive: showInactive
                        });

                        const response = await fetch(`http://localhost:5000/api/accounts?${queryParams}`);

                        if (!response.ok) throw new Error(`HTTP ${response.status}`);

                        const result = await response.json();

                        if (result.success) {
                            renderAccountsTable(result.data);
                            updatePagination(result.pagination);
                        } else {
                            throw new Error(result.error);
                        }

                    } catch (error) {
                        console.error('âŒ Load accounts error:', error);
                        showStatusMessage(`âŒ Failed to load accounts: ${error.message}`, 'error');

                        // Show empty state
                        renderEmptyTable();
                    }
                }

                // Render accounts table
                function renderAccountsTable(accounts) {
                    const tbody = document.getElementById('accounts-table-body');
                    if (!tbody) return;

                    if (accounts.length === 0) {
                        renderEmptyTable();
                        return;
                    }

                    let html = '';

                    accounts.forEach(account => {
                        // Add indentation based on root_level
                        const indentPx = (account.root_level - 1) * 20;
                        const hasIndent = account.root_level > 1;

                        // ðŸ”´ CHECK IF ACCOUNT HAS CHILDREN
                        const hasChildren = account.child_count > 0;
                        const isPlaceholder = account.is_placeholder;

                        // ðŸ”´ DETERMINE IF DELETE SHOULD BE ENABLED
                        const canDelete = !hasChildren; // Only if no children

                        // ðŸ”´ BUTTON STYLES BASED ON CAN DELETE
                        let deleteButtonStyle = 'padding: 6px 8px; border: none; border-radius: 4px; cursor: pointer; font-size: 12px;';
                        let deleteButtonTitle = '';
                        let deleteButtonOnclick = '';

                        if (canDelete) {
                            // âœ… CAN DELETE - Red button
                            deleteButtonStyle += 'background: #d32f2f; color: white;';
                            deleteButtonTitle = 'Permanently Delete';
                            deleteButtonOnclick = `onclick="window.hardDeleteAccount('${account.account_id}', '${account.account_code}')"`;
                        } else {
                            // âŒ CANNOT DELETE - Gray button (disabled)
                            deleteButtonStyle += 'background: #cccccc; color: #666666; cursor: not-allowed;';
                            deleteButtonTitle = `Cannot delete - Has ${account.child_count} child account(s)`;
                            deleteButtonOnclick = 'disabled';
                        }

                        html += `
            <tr style="border-bottom: 1px solid #e2e8f0;" 
                data-id="${account.account_id}" 
                data-code="${account.account_code}" 
                data-level="${account.root_level}"
                data-children="${account.child_count || 0}">
                <td style="padding: 15px; color: var(--dark); font-weight: 500; ${hasIndent ? 'padding-left: ' + (15 + indentPx) + 'px;' : ''}">
                    ${account.account_code}
                </td>
                <td style="padding: 15px; color: var(--dark); ${hasIndent ? 'padding-left: ' + (15 + indentPx) + 'px;' : ''}">
                    ${hasIndent ? ' ' : ''}${account.account_name}
                   
                </td>
                <td style="padding: 15px; color: #64748b;">
                    ${account.account_type}
                </td>
                <td style="padding: 15px; color: #64748b;">
                    ${account.parent_account_name || 'Root'}
                </td>
                <td style="padding: 15px; text-align: right; color: ${account.balance_color || '#64748b'}; font-weight: 500;">
                    ${account.balance_formatted || ''}
                </td>
                <td style="padding: 15px; text-align: center;">
                    <div style="display: flex; justify-content: center; gap: 8px;">
                        <button class="btn-view" 
                                style="padding: 6px 8px; background: #e8f5e9; color: #2e7d32; border: 1px solid #2e7d32; border-radius: 4px; cursor: pointer; font-size: 12px;" 
                                title="View">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn-edit" 
                                style="padding: 6px 8px; background: #e3f2fd; color: #1976d2; border: 1px solid #1976d2; border-radius: 4px; cursor: pointer; font-size: 12px;" 
                                title="Edit">
                            <i class="fas fa-edit"></i>
                        </button>
                        
                        <!-- ðŸ”´ DELETE BUTTON WITH CONDITION -->
                        <button class="btn-delete" 
                                ${deleteButtonOnclick}
                                style="${deleteButtonStyle}"
                                title="${deleteButtonTitle}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </td>
            </tr>
        `;
                    });

                    tbody.innerHTML = html;
                }
                // View account
                // ============= VIEW ACCOUNT DETAILS =============
                async function viewAccount(accountId) {
                    try {
                        console.log(`ðŸ‘ï¸ Viewing account ${accountId}`);

                        const response = await fetch(`http://localhost:5000/api/accounts/${accountId}/details`);
                        const result = await response.json();

                        if (result.success) {
                            const account = result.data;

                            // Format balance with color
                            const balance = account.current_balance || 0;
                            const balanceColor = balance >= 0 ? '#10b981' : '#ef4444';
                            const balanceFormatted = balance.toLocaleString('en-US', {
                                minimumFractionDigits: 2,
                                maximumFractionDigits: 2
                            });

                            // Create view form HTML (SAME DESIGN AS CURRENCY)
                            const viewFormHTML = `
                <div class="account-view-form">
                    <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-outline accounts-back-btn" 
                                    style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                                <i class="fas fa-arrow-left"></i> Back to List
                            </button>
                            <button class="btn btn-primary edit-account-from-view-btn" 
                                    data-id="${accountId}"
                                    style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                                <i class="fas fa-edit"></i> Edit Account
                            </button>
                        </div>
                        <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                            <i class="fas fa-eye"></i> Viewing Account: ${account.account_code}
                        </div>
                    </div>

                    <div class="main-form" style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                        <h3 style="color: var(--dark); margin-bottom: 20px; font-size: 16px; font-weight: 600; border-bottom: 1px solid #e2e8f0; padding-bottom: 10px;">
                            <i class="fas fa-file-invoice-dollar"></i> Account Details
                        </h3>
                        
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                            <!-- Left Column -->
                            <div>
                                <div class="detail-group" style="margin-bottom: 15px;">
                                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Account Code</label>
                                    <div style="padding: 10px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px; font-family: 'Courier New', monospace; font-weight: 600; font-size: 14px;">
                                        ${account.account_code}
                                    </div>
                                </div>
                                
                                <div class="detail-group" style="margin-bottom: 15px;">
                                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Account Name</label>
                                    <div style="padding: 10px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px;">
                                        ${account.account_name}
                                    </div>
                                </div>
                                
                                <div class="detail-group" style="margin-bottom: 15px;">
                                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Account Type</label>
                                    <div style="display: flex; gap: 10px; align-items: center;">
                                        <span style="
                                            padding: 8px 15px;
                                            background: ${getAccountTypeColor(account.account_type)};
                                            color: white;
                                            border-radius: 20px;
                                            font-size: 12px;
                                            font-weight: 600;
                                            text-transform: uppercase;
                                        ">
                                            ${account.account_type}
                                        </span>
                                        ${account.account_category ? `
                                            <span style="
                                                padding: 8px 15px;
                                                background: #f8fafc;
                                                color: #64748b;
                                                border-radius: 20px;
                                                font-size: 12px;
                                                font-weight: 500;
                                                border: 1px solid #e2e8f0;
                                            ">
                                                ${account.account_category}
                                            </span>
                                        ` : ''}
                                    </div>
                                </div>
                                
                                <div class="detail-group" style="margin-bottom: 15px;">
                                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Parent Account</label>
                                    <div style="padding: 10px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px;">
                                        ${account.parent_account_name ? `${account.parent_account_code} - ${account.parent_account_name}` : 'Root Account'}
                                    </div>
                                </div>
                                
                         
                            </div>
                            
                            <!-- Right Column -->
                            <div>
                                <div class="detail-group" style="margin-bottom: 15px;">
                                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Currency</label>
                                    <div style="padding: 10px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px; font-family: 'Courier New', monospace; font-weight: 600; font-size: 14px;">
                                        ${account.currency_code || 'N/A'}
                                    </div>
                                </div>
                                
                            
                                
                             
                                
                                <div class="detail-group" style="margin-bottom: 15px;">
                                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Account Status</label>
                                    <div style="display: flex; gap: 15px;">
                                        <span style="
                                            background: ${account.is_active ? '#10b98115' : '#ef444415'};
                                            color: ${account.is_active ? '#10b981' : '#ef4444'};
                                            padding: 5px 15px;
                                            border-radius: 20px;
                                            font-size: 12px;
                                            font-weight: 500;
                                        ">
                                            ${account.is_active ? 'Active' : 'Inactive'}
                                        </span>
                                        <span style="
                                            background: ${account.is_placeholder ? '#f59e0b15' : '#f8fafc'};
                                            color: ${account.is_placeholder ? '#f59e0b' : '#64748b'};
                                            padding: 5px 15px;
                                            border-radius: 20px;
                                            font-size: 12px;
                                            font-weight: 500;
                                            border: 1px solid ${account.is_placeholder ? '#f59e0b' : '#d1d5db'};
                                        ">
                                            ${account.is_placeholder ? 'Placeholder Account' : 'Regular Account'}
                                        </span>
                                        <span style="
                                            background: ${account.is_system_account ? '#8b5cf615' : '#f8fafc'};
                                            color: ${account.is_system_account ? '#8b5cf6' : '#64748b'};
                                            padding: 5px 15px;
                                            border-radius: 20px;
                                            font-size: 12px;
                                            font-weight: 500;
                                            border: 1px solid ${account.is_system_account ? '#8b5cf6' : '#d1d5db'};
                                        ">
                                            ${account.is_system_account ? 'System Account' : 'User Account'}
                                        </span>
                                    </div>
                                </div>
                                
                                <div class="detail-group" style="margin-bottom: 15px;">
                                    <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Child Accounts</label>
                                    <div style="padding: 10px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px; text-align: center;">
                                        <span style="
                                            padding: 5px 12px;
                                            background: ${account.child_count > 0 ? '#3b82f6' : '#6b7280'};
                                            color: white;
                                            border-radius: 20px;
                                            font-size: 12px;
                                            font-weight: 600;
                                        ">
                                            ${account.child_count || 0} Child Account(s)
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Description Section -->
                        ${account.description ? `
                            <div style="margin-top: 30px; border-top: 1px solid #e2e8f0; padding-top: 20px;">
                                <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 14px; font-weight: 600;">
                                    <i class="fas fa-align-left"></i> Description
                                </h4>
                                <div style="padding: 15px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; line-height: 1.6; color: #4b5563;">
                                    ${account.description.replace(/\n/g, '<br>')}
                                </div>
                            </div>
                        ` : ''}
                        
                        <!-- Audit Information -->
                       
                    </div>
                </div>
            `;

                            // Update page content
                            document.getElementById('page-content').innerHTML = viewFormHTML;

                            // Attach event listeners
                            document.querySelector('.accounts-back-btn').addEventListener('click', () => {
                                updatePageContent('accounts-settings-chart-of-accounts');
                            });

                            document.querySelector('.edit-account-from-view-btn').addEventListener('click', () => {
                                editAccount(accountId);
                            });

                        } else {
                            throw new Error(result.error);
                        }
                    } catch (error) {
                        console.error('âŒ View error:', error);
                        showStatusMessage(`âŒ Failed to load account: ${error.message}`, 'error');
                    }
                }

                // Helper function for account type colors
                function getAccountTypeColor(type) {
                    const colors = {
                        'ASSETS': '#10b981',
                        'LIABILITIES': '#ef4444',
                        'LIABILITY': '#ef4444',
                        'EQUITY': '#3b82f6',
                        'REVENUE': '#8b5cf6',
                        'INCOME': '#8b5cf6',
                        'EXPENSES': '#f59e0b',
                        'CASH': '#10b981',
                        'BANK': '#3b82f6',
                        'CREDIT_CARD': '#8b5cf6',
                        'MUTUAL_FUND': '#06b6d4',
                        'AR_RECEIVABLE': '#10b981',
                        'AR_PAYABLE': '#ef4444'
                    };

                    return colors[type] || '#6b7280';
                }
                // Edit account
                // ============= EDIT ACCOUNT =============
                async function editAccount(accountId) {
                    try {
                        console.log(`âœï¸ Editing account ${accountId}`);

                        // Show loading state
                        document.getElementById('page-content').innerHTML = `
            <div style="padding: 50px; text-align: center;">
                <i class="fas fa-spinner fa-spin fa-2x" style="color: var(--primary);"></i>
                <p style="margin-top: 20px; color: #64748b;">Loading account details...</p>
            </div>
        `;

                        // Fetch account details
                        const response = await fetch(`http://localhost:5000/api/accounts/${accountId}/details`);
                        const result = await response.json();

                        if (!result.success) {
                            throw new Error(result.error || 'Failed to load account');
                        }

                        const account = result.data;

                        // ðŸ”´ CRITICAL FIX 1: Create form WITH pre-loaded values
                        const editFormHTML = createEditFormHTML(accountId, account);
                        document.getElementById('page-content').innerHTML = editFormHTML;

                        // ðŸ”´ CRITICAL FIX 2: Give DOM time to render
                        await new Promise(resolve => setTimeout(resolve, 100));

                        // ðŸ”´ CRITICAL FIX 3: Load dropdowns with PROPER DOM check
                        await loadAllDropdowns(accountId, account);

                        // ðŸ”´ CRITICAL FIX 4: Setup event listeners
                        setupEditFormListeners(accountId);

                        console.log('âœ… Edit form loaded successfully!');

                    } catch (error) {
                        console.error('âŒ Edit error:', error);
                        showStatusMessage(`âŒ Failed to load account: ${error.message}`, 'error');

                        // Go back to list
                        setTimeout(() => {
                            updatePageContent('accounts-settings-chart-of-accounts');
                        }, 2000);
                    }
                }

                // ðŸ”´ HELPER FUNCTION 1: Create form HTML with pre-loaded values
                function createEditFormHTML(accountId, account) {
                    return `
        <div class="account-edit-form" id="account-edit-form-${accountId}">
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary update-account-btn" 
                            data-account-id="${accountId}"
                            style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Update Account
                    </button>
                    <button class="btn btn-outline accounts-back-btn" 
                            style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back to List
                    </button>
                </div>
                <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                    <i class="fas fa-edit"></i> Editing Account: ${account.account_code}
                </div>
            </div>

            <div class="main-form" style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                <h3 style="color: var(--dark); margin-bottom: 20px; font-size: 16px; font-weight: 600; border-bottom: 1px solid #e2e8f0; padding-bottom: 10px;">
                    <i class="fas fa-edit"></i> Edit Account Details
                </h3>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                    <!-- Left Column -->
                    <div>
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Account Code *</label>
                            <input type="text" id="edit-account-code-${accountId}" 
                                   value="${account.account_code}"
                                   style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f8fafc; font-family: 'Courier New', monospace;"
                                   readonly>
                            <small style="color: #64748b; font-size: 11px;">Account code cannot be changed</small>
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Account Name *</label>
                            <input type="text" id="edit-account-name-${accountId}" 
                                   value="${account.account_name}"
                                   style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px;"
                                   placeholder="e.g., Cash, Bank Account">
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Description</label>
                            <textarea id="edit-account-description-${accountId}" 
                                      style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; min-height: 80px; resize: vertical;"
                                      placeholder="Enter account description">${account.description || ''}</textarea>
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Currency *</label>
                            <select id="edit-account-currency-${accountId}" 
                                    style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px;">
                                <option value="">Loading currencies...</option>
                                <option value="${account.currency_id}" selected>${account.currency_code || 'Loading...'}</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div>
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Parent Account</label>
                            <select id="edit-parent-account-${accountId}" 
                                    style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px;">
                                <option value="">Loading parent accounts...</option>
                                <option value="${account.parent_account_id || ''}" selected>
                                    ${account.parent_account_name ?
                            `${account.parent_account_code} - ${account.parent_account_name}` :
                            'Root Account'}
                                </option>
                            </select>
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Account Type *</label>
                            <select id="edit-account-type-${accountId}" 
                                    style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px;">
                                <option value="">Select Type</option>
                                <option value="CASH">CASH</option>
                                <option value="BANK">BANK</option>
                                <option value="CREDIT_CARD">CREDIT CARD</option>
                                <option value="LIABILITY">LIABILITY</option>
                                <option value="MUTUAL_FUND">MUTUAL FUND</option>
                                <option value="AR_RECEIVABLE">A/R RECEIVABLE</option>
                                <option value="AR_PAYABLE">A/R PAYABLE</option>
                                <option value="INCOME">INCOME</option>
                                <option value="EQUITY">EQUITY</option>
                                <option value="EXPENSES">EXPENSES</option>
                                <option value="ASSETS">ASSETS</option>
                                <option value="REVENUE">REVENUE</option>
                            </select>
                        </div>
                        

                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Account Settings</label>
                            <div style="display: grid; grid-template-columns: 1fr; gap: 10px;">
                                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border: 1px solid #e2e8f0; border-radius: 5px;">
                                    <input type="checkbox" id="edit-is-placeholder-${accountId}" ${account.is_placeholder ? 'checked' : ''}>
                                    <div>
                                        <div style="font-weight: 600; color: var(--dark); font-size: 12px;">Is Placeholder</div>
                                        <div style="color: #64748b; font-size: 11px;">Can have child accounts, no balance</div>
                                    </div>
                                </label>
                                
                                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border: 1px solid #e2e8f0; border-radius: 5px;">
                                    <input type="checkbox" id="edit-is-system-account-${accountId}" ${account.is_system_account ? 'checked' : ''}>
                                    <div>
                                        <div style="font-weight: 600; color: var(--dark); font-size: 12px;">Is System Account</div>
                                        <div style="color: #64748b; font-size: 11px;">Protected account, cannot be deleted</div>
                                    </div>
                                </label>
                                
                                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border: 1px solid #e2e8f0; border-radius: 5px;">
                                    <input type="checkbox" id="edit-is-active-${accountId}" ${account.is_active !== false ? 'checked' : ''}>
                                    <div>
                                        <div style="font-weight: 600; color: var(--dark); font-size: 12px;">Is Active</div>
                                        <div style="color: #64748b; font-size: 11px;">Active accounts appear in dropdowns</div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    `;
                }
                async function loadAllDropdowns(accountId, account) {
                    try {
                        console.log(`ðŸ”„ Loading dropdowns for account ${accountId}`);

                        // ðŸ”´ CRITICAL: Wait for DOM to be ready
                        let attempts = 0;
                        let currencySelect, parentSelect, typeSelect;

                        while (attempts < 10) {
                            currencySelect = document.getElementById(`edit-account-currency-${accountId}`);
                            parentSelect = document.getElementById(`edit-parent-account-${accountId}`);
                            typeSelect = document.getElementById(`edit-account-type-${accountId}`);

                            if (currencySelect && parentSelect && typeSelect) {
                                console.log('âœ… DOM elements found');
                                break;
                            }

                            await new Promise(resolve => setTimeout(resolve, 50));
                            attempts++;
                        }

                        if (!currencySelect || !parentSelect || !typeSelect) {
                            throw new Error('DOM elements not found after waiting');
                        }

                        // Set account type immediately
                        if (account.account_type) {
                            typeSelect.value = account.account_type;
                            console.log(`âœ… Account type set to: ${account.account_type}`);
                        }

                        // Load currencies and parents in PARALLEL
                        await Promise.all([
                            loadCurrenciesForEdit(accountId, account.currency_id),
                            loadParentAccountsForEdit(accountId, account.parent_account_id)
                        ]);

                        console.log('âœ… All dropdowns loaded successfully');

                    } catch (error) {
                        console.error('âŒ Dropdown load error:', error);
                        showStatusMessage('âš ï¸ Some dropdowns failed to load', 'warning');
                    }
                }
                // ðŸ”´ HELPER FUNCTION 2: Set immediate values (no API call needed)
                function setImmediateFormValues(account) {
                    // Set account type immediately
                    const accountTypeSelect = document.getElementById('edit-account-type');
                    if (accountTypeSelect && account.account_type) {
                        accountTypeSelect.value = account.account_type;
                    }

                    // Set checkboxes immediately
                    document.getElementById('edit-is-placeholder').checked = account.is_placeholder || false;
                    document.getElementById('edit-is-system-account').checked = account.is_system_account || false;
                    document.getElementById('edit-is-active').checked = account.is_active !== false;

                    console.log('âœ… Immediate values set:', {
                        account_type: account.account_type,
                        is_placeholder: account.is_placeholder,
                        is_system_account: account.is_system_account,
                        is_active: account.is_active
                    });
                }

                async function loadCurrenciesForEdit(accountId, selectedCurrencyId) {
                    try {
                        console.log(`ðŸ’° Loading currencies, selecting: ${selectedCurrencyId}`);

                        const select = document.getElementById(`edit-account-currency-${accountId}`);
                        if (!select) {
                            console.error('âŒ Currency select element not found');
                            return;
                        }

                        // First, show loading state
                        select.innerHTML = '<option value="">Loading currencies...</option>';

                        // Try endpoints with TIMEOUT
                        const endpoints = [
                            'http://localhost:5000/api/currencies/active',
                            'http://localhost:5000/api/currencies',
                            '/api/currencies/active',
                            '/api/currencies',
                            '/currencies/active'
                        ];

                        let currencies = [];
                        let success = false;

                        // Try each endpoint with timeout
                        for (const endpoint of endpoints) {
                            try {
                                console.log(`ðŸ” Trying: ${endpoint}`);

                                // Add timeout to prevent hanging
                                const controller = new AbortController();
                                const timeoutId = setTimeout(() => controller.abort(), 3000);

                                const response = await fetch(endpoint, {
                                    signal: controller.signal
                                });

                                clearTimeout(timeoutId);

                                if (response.ok) {
                                    const result = await response.json();
                                    if (result.success && result.data) {
                                        currencies = result.data;
                                        console.log(`âœ… Loaded ${currencies.length} currencies from ${endpoint}`);
                                        success = true;
                                        break;
                                    }
                                }
                            } catch (err) {
                                console.log(`âŒ ${endpoint} failed: ${err.name === 'AbortError' ? 'Timeout' : err.message}`);
                                continue;
                            }
                        }

                        // ðŸ”´ FALLBACK 1: If API fails, use HARDCODED currencies
                        if (!success || currencies.length === 0) {
                            console.log('âš ï¸ API failed, using hardcoded currencies');
                            currencies = [
                                { currency_id: 1, currency_code: 'SGD', currency_name: 'Singapore Dollar', is_default: true },
                                { currency_id: 2, currency_code: 'USD', currency_name: 'US Dollar', is_default: false },
                                { currency_id: 3, currency_code: 'EUR', currency_name: 'Euro', is_default: false },
                                { currency_id: 4, currency_code: 'MYR', currency_name: 'Malaysian Ringgit', is_default: false },
                                { currency_id: 5, currency_code: 'INR', currency_name: 'Indian Rupee', is_default: false }
                            ];
                        }

                        // ðŸ”´ FALLBACK 2: If still no currencies, create from existing data
                        if (currencies.length === 0) {
                            console.log('âš ï¸ No currencies found, creating default');
                            const existingOption = select.options[select.selectedIndex];
                            if (existingOption && existingOption.value) {
                                currencies = [{
                                    currency_id: existingOption.value,
                                    currency_code: existingOption.textContent.split(' - ')[0] || 'USD',
                                    currency_name: existingOption.textContent.split(' - ')[1] || 'US Dollar'
                                }];
                            }
                        }

                        // Populate dropdown
                        select.innerHTML = '<option value="">Select Currency</option>';

                        currencies.forEach(currency => {
                            const currencyId = currency.currency_id || currency.id;
                            const currencyCode = currency.currency_code || currency.code || 'USD';
                            const currencyName = currency.currency_name || currency.name || 'US Dollar';

                            const option = document.createElement('option');
                            option.value = currencyId;
                            option.textContent = `${currencyCode} - ${currencyName}`;

                            // Select if matches
                            if (currencyId == selectedCurrencyId) {
                                option.selected = true;
                                console.log(`âœ… Selected currency: ${currencyCode}`);
                            }

                            // Select default if nothing selected
                            if (!select.value && (currency.is_default || currency.default)) {
                                option.selected = true;
                            }

                            select.appendChild(option);
                        });

                        // Final fallback: If nothing selected, select first option
                        if (!select.value && select.options.length > 1) {
                            select.options[1].selected = true;
                        }

                        console.log(`âœ… Currency dropdown loaded with ${select.options.length} options`);

                    } catch (error) {
                        console.error('âŒ Currency load error:', error);

                        // Ultimate fallback: Keep existing option
                        const select = document.getElementById(`edit-account-currency-${accountId}`);
                        if (select && select.options.length === 0) {
                            select.innerHTML = `
                <option value="">Currency Error</option>
                <option value="1">SGD - Singapore Dollar</option>
                <option value="2">USD - US Dollar</option>
                <option value="3">EUR - Euro</option>
            `;

                            if (selectedCurrencyId) {
                                setTimeout(() => {
                                    select.value = selectedCurrencyId;
                                }, 100);
                            }
                        }
                    }
                }
                // ðŸ”´ FUNCTION TO LOAD AND SET CURRENCIES
                async function loadAndSetCurrencies(selectedCurrencyId) {
                    try {
                        console.log(`ðŸ’° Setting currency to: ${selectedCurrencyId}`);
                        const currencySelect = document.getElementById('edit-account-currency');

                        if (!currencySelect) {
                            console.error('âŒ Currency select element not found');
                            return;
                        }

                        // Try different endpoints
                        const endpoints = [
                            '/api/currencies/active',
                            '/api/currencies',
                            'http://localhost:5000/api/currencies',
                            'http://localhost:5000/api/currencies/active'
                        ];

                        let currencies = [];

                        for (const endpoint of endpoints) {
                            try {
                                console.log(`Trying endpoint: ${endpoint}`);
                                const response = await fetch(endpoint);

                                if (response.ok) {
                                    const result = await response.json();
                                    if (result.success && result.data) {
                                        currencies = result.data;
                                        console.log(`âœ… Loaded ${currencies.length} currencies from ${endpoint}`);
                                        break;
                                    }
                                }
                            } catch (err) {
                                console.log(`âŒ ${endpoint} failed: ${err.message}`);
                                continue;
                            }
                        }

                        if (currencies.length === 0) {
                            // Fallback
                            currencies = [
                                { currency_id: 1, currency_code: 'SGD', currency_name: 'Singapore Dollar' },
                                { currency_id: 2, currency_code: 'USD', currency_name: 'US Dollar' },
                                { currency_id: 3, currency_code: 'EUR', currency_name: 'Euro' }
                            ];
                        }

                        // ðŸ”´ FIX 1: Clear and populate
                        currencySelect.innerHTML = '<option value="">Select Currency</option>';

                        currencies.forEach(currency => {
                            const option = document.createElement('option');
                            const currencyId = currency.currency_id || currency.id;
                            const currencyCode = currency.currency_code || currency.code;
                            const currencyName = currency.currency_name || currency.name;

                            option.value = currencyId;
                            option.textContent = `${currencyCode} - ${currencyName}`;

                            // ðŸ”´ FIX 2: Check with proper comparison
                            console.log(`Comparing: ${currencyId} == ${selectedCurrencyId} ? ${currencyId == selectedCurrencyId}`);

                            if (currencyId == selectedCurrencyId) {
                                option.selected = true;
                                console.log(`âœ… Selected currency: ${currencyCode} (ID: ${currencyId})`);
                            }

                            currencySelect.appendChild(option);
                        });

                        // ðŸ”´ FIX 3: Force set AFTER populating
                        setTimeout(() => {
                            if (selectedCurrencyId) {
                                currencySelect.value = selectedCurrencyId;
                                console.log(`ðŸ”§ FORCE SET currency select to: ${selectedCurrencyId}`);

                                // Check if it worked
                                console.log(`ðŸ” After force set - value is: ${currencySelect.value}`);
                            }
                        }, 100);

                    } catch (error) {
                        console.error('âŒ Currency load error:', error);
                        // Fallback
                        const currencySelect = document.getElementById('edit-account-currency');
                        if (currencySelect) {
                            currencySelect.innerHTML = `
                <option value="">Select Currency</option>
                <option value="1">SGD - Singapore Dollar</option>
                <option value="2">USD - US Dollar</option>
                <option value="3">EUR - Euro</option>
            `;

                            if (selectedCurrencyId) {
                                setTimeout(() => {
                                    currencySelect.value = selectedCurrencyId;
                                }, 100);
                            }
                        }
                    }
                }
                async function loadParentAccountsForEdit(accountId, selectedParentId) {
                    try {
                        console.log(`ðŸ“ Loading parent accounts, selecting: ${selectedParentId}`);

                        const select = document.getElementById(`edit-parent-account-${accountId}`);
                        if (!select) {
                            throw new Error(`Parent select element not found for account ${accountId}`);
                        }

                        // Try endpoints
                        const endpoints = [
                            'http://localhost:5000/api/accounts/parents',
                            '/api/accounts/parents',
                            '/accounts/parents'
                        ];

                        let parents = [];
                        let selectedEndpoint = '';

                        for (const endpoint of endpoints) {
                            try {
                                console.log(`Trying endpoint: ${endpoint}`);
                                const response = await fetch(endpoint);
                                if (response.ok) {
                                    const result = await response.json();
                                    if (result.success && result.data) {
                                        parents = result.data;
                                        selectedEndpoint = endpoint;
                                        console.log(`âœ… Loaded ${parents.length} parents from ${endpoint}`);
                                        break;
                                    }
                                }
                            } catch (err) {
                                console.log(`âŒ ${endpoint} failed: ${err.message}`);
                                continue;
                            }
                        }

                        // Preserve any existing selected option
                        const existingSelectedValue = select.value;

                        // Start with empty dropdown
                        select.innerHTML = '<option value="">Root Account</option>';

                        // Always include ROOT option
                        const rootOption = document.createElement('option');
                        rootOption.value = '';
                        rootOption.textContent = 'ROOT - Root Account';

                        // If no parent selected, select ROOT
                        if (!selectedParentId) {
                            rootOption.selected = true;
                        }

                        select.appendChild(rootOption);

                        // Add placeholder accounts from API
                        parents.forEach(parent => {
                            // Skip if this is the account being edited (can't be its own parent)
                            if (parent.account_id == accountId) {
                                return;
                            }

                            const indent = 'â€ƒ'.repeat(parent.root_level || 0);
                            const option = document.createElement('option');
                            option.value = parent.account_id;
                            option.textContent = `${indent}${parent.account_code} - ${parent.account_name}`;

                            // Select if matches
                            if (parent.account_id == selectedParentId) {
                                option.selected = true;
                                console.log(`âœ… Selected parent: ${parent.account_code} (ID: ${parent.account_id})`);
                            }

                            select.appendChild(option);
                        });

                        // If nothing selected, try to select based on existing value
                        if (!select.value && existingSelectedValue) {
                            select.value = existingSelectedValue;
                        }

                        console.log(`âœ… Parent dropdown loaded with ${parents.length + 1} options`);

                    } catch (error) {
                        console.error('âŒ Parent load error:', error);
                        // Keep whatever is already in the dropdown
                    }
                }

                function setupEditFormListeners(accountId) {
                    console.log(`ðŸ”— Setting up listeners for account ${accountId}`);

                    // Back button
                    const backBtn = document.querySelector('.accounts-back-btn');
                    if (backBtn) {
                        backBtn.addEventListener('click', () => {
                            updatePageContent('accounts-settings-chart-of-accounts');
                        });
                    }

                    // Update button
                    const updateBtn = document.querySelector('.update-account-btn');
                    if (updateBtn) {
                        updateBtn.addEventListener('click', () => {
                            updateAccount(accountId);
                        });
                    }

                    // Adjust balance button
                    const adjustBtn = document.querySelector(`.btn-adjust-balance[data-account-id="${accountId}"]`);
                    if (adjustBtn) {
                        adjustBtn.addEventListener('click', () => {
                            alert('Balance adjustment feature coming soon!');
                        });
                    }

                    console.log('âœ… Event listeners setup complete');
                }

                async function loadAndSetParents(selectedParentId) {
                    try {
                        console.log(`ðŸ‘¨â€ðŸ‘¦ Setting parent to: ${selectedParentId}`);
                        const parentSelect = document.getElementById('edit-parent-account');

                        if (!parentSelect) {
                            console.error('âŒ Parent select element not found');
                            return;
                        }

                        // Try endpoints
                        const endpoints = [
                            'http://localhost:5000/api/accounts/parents',
                            '/api/accounts/parents',
                            '/accounts/parents'
                        ];

                        let parents = [];

                        for (const endpoint of endpoints) {
                            try {
                                console.log(`Trying endpoint: ${endpoint}`);
                                const response = await fetch(endpoint);

                                if (response.ok) {
                                    const result = await response.json();
                                    if (result.success && result.data) {
                                        parents = result.data;
                                        console.log(`âœ… Loaded ${parents.length} parents from ${endpoint}`);
                                        break;
                                    }
                                }
                            } catch (err) {
                                console.log(`âŒ ${endpoint} failed: ${err.message}`);
                                continue;
                            }
                        }

                        // ðŸ”´ FIX: Clear and populate
                        parentSelect.innerHTML = '<option value="">Root Account</option>';

                        parents.forEach(parent => {
                            const option = document.createElement('option');
                            const indent = 'â€ƒ'.repeat(parent.root_level || 0);

                            option.value = parent.account_id;
                            option.textContent = `${indent}${parent.account_code} - ${parent.account_name}`;

                            // ðŸ”´ FIX: Check with proper comparison
                            console.log(`Parent Comparing: ${parent.account_id} == ${selectedParentId} ? ${parent.account_id == selectedParentId}`);

                            if (parent.account_id == selectedParentId) {
                                option.selected = true;
                                console.log(`âœ… Selected parent: ${parent.account_code} (ID: ${parent.account_id})`);
                            }

                            parentSelect.appendChild(option);
                        });

                        // ðŸ”´ FIX: Force set AFTER populating
                        setTimeout(() => {
                            if (selectedParentId) {
                                parentSelect.value = selectedParentId;
                                console.log(`ðŸ”§ FORCE SET parent select to: ${selectedParentId}`);

                                // Check if it worked
                                console.log(`ðŸ” After force set - value is: ${parentSelect.value}`);
                            } else {
                                parentSelect.value = '';
                                console.log('ðŸ”§ Set parent to Root (empty)');
                            }
                        }, 100);

                    } catch (error) {
                        console.error('âŒ Parent load error:', error);
                        const parentSelect = document.getElementById('edit-parent-account');
                        if (parentSelect) {
                            parentSelect.innerHTML = `
                <option value="">Root Account</option>
                <option value="">Root Account</option>
            `;
                        }
                    }
                }
                // ============= UPDATE ACCOUNT =============
                // ============= UPDATE ACCOUNT (IMPROVED) =============
                async function updateAccount(accountId) {
                    try {
                        // Collect form data with UNIQUE IDs
                        const updateData = {
                            account_name: document.getElementById(`edit-account-name-${accountId}`).value.trim(),
                            description: document.getElementById(`edit-account-description-${accountId}`).value.trim() || null,
                            currency_id: document.getElementById(`edit-account-currency-${accountId}`).value,
                            parent_account_id: document.getElementById(`edit-parent-account-${accountId}`).value || null,
                            account_type: document.getElementById(`edit-account-type-${accountId}`).value,
                            is_placeholder: document.getElementById(`edit-is-placeholder-${accountId}`).checked,
                            is_system_account: document.getElementById(`edit-is-system-account-${accountId}`).checked,
                            is_active: document.getElementById(`edit-is-active-${accountId}`).checked,
                            updated_by: 'admin'
                        };

                        console.log('ðŸ“‹ Update data for account', accountId, ':', updateData);

                        // Validation
                        if (!updateData.account_name) {
                            throw new Error('Account name is required');
                        }

                        if (!updateData.currency_id) {
                            throw new Error('Currency is required');
                        }

                        if (!updateData.account_type) {
                            throw new Error('Account type is required');
                        }

                        // Convert IDs to numbers
                        updateData.currency_id = parseInt(updateData.currency_id);
                        if (isNaN(updateData.currency_id)) {
                            throw new Error('Invalid currency selected');
                        }

                        if (updateData.parent_account_id) {
                            updateData.parent_account_id = parseInt(updateData.parent_account_id);
                        }

                        // Show loading
                        const updateBtn = document.querySelector('.update-account-btn');
                        if (updateBtn) {
                            updateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Updating...';
                            updateBtn.disabled = true;
                        }

                        // Send to API
                        const response = await fetch(`http://localhost:5000/api/accounts/${accountId}`, {
                            method: 'PUT',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(updateData)
                        });

                        const result = await response.json();

                        if (response.ok && result.success) {
                            showStatusMessage(`âœ… Account updated successfully!`, 'success');

                            // Go back after delay
                            setTimeout(() => {
                                updatePageContent('accounts-settings-chart-of-accounts');
                            }, 1500);

                        } else {
                            throw new Error(result.error || 'Failed to update account');
                        }

                    } catch (error) {
                        console.error('âŒ Update error:', error);
                        showStatusMessage(`âŒ Update failed: ${error.message}`, 'error');

                        // Reset button
                        const updateBtn = document.querySelector('.update-account-btn');
                        if (updateBtn) {
                            updateBtn.innerHTML = '<i class="fas fa-save"></i> Update Account';
                            updateBtn.disabled = false;
                        }
                    }
                }
                // Try different endpoints for currencies:

                function loadFallbackCurrencies(selectElement, selectedCurrencyId = null) {
                    const currencies = [
                        { currency_id: 1, currency_code: 'SGD', currency_name: 'Singapore Dollar' },
                        { currency_id: 2, currency_code: 'USD', currency_name: 'US Dollar' },
                        { currency_id: 3, currency_code: 'EUR', currency_name: 'Euro' }
                    ];

                    selectElement.innerHTML = '<option value="">Select Currency</option>';

                    currencies.forEach(currency => {
                        const option = document.createElement('option');
                        option.value = currency.currency_id;
                        option.textContent = `${currency.currency_code} - ${currency.currency_name}`;

                        if (currency.currency_id == selectedCurrencyId) {
                            option.selected = true;
                        }

                        selectElement.appendChild(option);
                    });
                }
                // Add this function:

                // Current function replace panniko idha:
                window.hardDeleteAccount = async function (accountId, accountCode) {
                    try {
                        // Get account details first for better confirmation
                        let accountDetails = null;
                        try {

                            const detailsRes = await fetch(`http://localhost:5000/api/accounts/${accountId}/details`);
                            const detailsData = await detailsRes.json();
                            if (detailsData.success) accountDetails = detailsData.data;
                        } catch (e) {
                            console.log("Couldn't fetch details, continuing...");
                        }

                        // Create confirmation message
                        let confirmMessage = `Are you sure you want to PERMANENTLY DELETE this account?\n\n`;

                        if (accountDetails) {
                            confirmMessage += `Account: ${accountDetails.account_code}\n`;
                            confirmMessage += `Name: ${accountDetails.account_name}\n`;
                            confirmMessage += `Type: ${accountDetails.account_type}\n`;
                            if (accountDetails.child_count > 0) {
                                confirmMessage += `âš ï¸ WARNING: Has ${accountDetails.child_count} child account(s)\n`;
                            }
                            if (accountDetails.current_balance != 0) {
                                confirmMessage += `ðŸ’° Balance: ${accountDetails.current_balance}\n`;
                            }
                        } else {
                            confirmMessage += `Account Code: ${accountCode}\n`;
                        }

                        confirmMessage += `\nThis action cannot be undone!`;

                        // Show Yes/No confirmation
                        const userConfirmed = confirm(confirmMessage);

                        if (!userConfirmed) {
                            showStatusMessage('âŒ Delete cancelled', 'info');
                            return;
                        }

                        console.log(`ðŸ’€ Hard deleting: ${accountCode}`);

                        // Show loading
                        showStatusMessage('ðŸ”„ Deleting permanently...', 'info');

                        // Call HARD DELETE endpoint
                        const response = await fetch(`http://localhost:5000/api/accounts/${accountId}/hard`, {
                            method: 'DELETE'
                        });

                        const result = await response.json();

                        if (result.success) {
                            showStatusMessage(`âœ… Account "${accountCode}" deleted!`, 'success');

                            // Refresh table
                            setTimeout(() => {
                                if (typeof loadAccounts === 'function') {
                                    loadAccounts();
                                }
                            }, 1000);

                        } else {
                            // Show backend error
                            if (result.error.includes('child account')) {
                                alert(`âŒ CANNOT DELETE!\n\n${result.error}\n\nPlease delete child accounts first.`);
                            } else if (result.error.includes('balance') || result.error.includes('transaction')) {
                                alert(`âŒ CANNOT DELETE!\n\n${result.error}\n\nUse "Deactivate" instead.`);
                            } else {
                                alert(`âŒ DELETE FAILED!\n\n${result.error}`);
                            }
                        }

                    } catch (error) {
                        console.error('âŒ Hard delete error:', error);
                        showStatusMessage(`âŒ Error: ${error.message}`, 'error');
                    }
                };
                // Export accounts
                function exportAccounts() {
                    console.log('ðŸ“¤ Exporting accounts...');
                    showStatusMessage('Export functionality coming soon!', 'info');
                }

                // Load parent accounts for filter dropdown
                async function loadParentFilterOptions() {
                    try {
                        const response = await fetch('http://localhost:5000/api/accounts/parents');
                        const result = await response.json();

                        const parentSelect = document.getElementById('filter-parent');
                        if (!parentSelect) return;

                        if (result.success && result.data) {
                            // Keep "All" and "Root" options
                            parentSelect.innerHTML = `
                <option value="">All</option>
                <option value="ROOT">Root</option>
            `;

                            // Add placeholder accounts
                            result.data.forEach(account => {
                                if (account.account_code !== 'ROOT') {
                                    const option = document.createElement('option');
                                    option.value = account.account_code;
                                    option.textContent = `${account.account_code} - ${account.account_name}`;
                                    parentSelect.appendChild(option);
                                }
                            });
                        }
                    } catch (error) {
                        console.log('Parent filter load failed, using default');
                    }
                }

                // Render empty table
                function renderEmptyTable() {
                    const tbody = document.getElementById('accounts-table-body');
                    if (!tbody) return;

                    tbody.innerHTML = `
        <tr>
            <td colspan="6" style="padding: 40px; text-align: center; color: #64748b;">
                <div style="margin-bottom: 10px;">
                    <i class="fas fa-file-alt" style="font-size: 48px; color: #cbd5e1;"></i>
                </div>
                <div style="font-size: 16px; font-weight: 500; margin-bottom: 5px;">
                    No accounts found
                </div>
                <div style="font-size: 14px;">
                    ${currentSearch ? 'Try adjusting your search or filters' : 'Click "Add Account" to create your first account'}
                </div>
            </td>
        </tr>
    `;
                }

                // Update pagination controls
                function updatePagination(pagination) {
                    const paginationInfo = document.getElementById('pagination-info');
                    const prevBtn = document.getElementById('btn-prev');
                    const nextBtn = document.getElementById('btn-next');
                    const currentPageBtn = document.getElementById('btn-current-page');

                    if (!paginationInfo || !prevBtn || !nextBtn || !currentPageBtn) return;

                    const { page, limit, total, total_pages } = pagination;

                    // Update info text
                    const start = total === 0 ? 0 : (page - 1) * limit + 1;
                    const end = Math.min(page * limit, total);

                    paginationInfo.textContent = `Showing ${start} to ${end} of ${total} entries`;

                    // Update page button
                    currentPageBtn.textContent = page;

                    // Enable/disable buttons
                    prevBtn.disabled = page <= 1;
                    prevBtn.style.opacity = page <= 1 ? '0.5' : '1';
                    prevBtn.style.cursor = page <= 1 ? 'not-allowed' : 'pointer';

                    nextBtn.disabled = page >= total_pages;
                    nextBtn.style.opacity = page >= total_pages ? '0.5' : '1';
                    nextBtn.style.cursor = page >= total_pages ? 'not-allowed' : 'pointer';
                }

                // Auto-initialize
                document.addEventListener('DOMContentLoaded', function () {
                    if (document.querySelector('.chart-of-accounts-management')) {
                        console.log('ðŸ“Š Chart of Accounts Management page detected');
                        initChartOfAccountsManagement();
                    }
                });

                // Observe dynamic page changes
                const managementObserver = new MutationObserver(function (mutations) {
                    mutations.forEach(function (mutation) {
                        if (mutation.target.id === 'page-content' &&
                            document.querySelector('.chart-of-accounts-management')) {
                            console.log('ðŸ”„ Chart of Accounts Management loaded dynamically');
                            setTimeout(initChartOfAccountsManagement, 100);
                        }
                    });
                });

                if (document.getElementById('page-content')) {
                    managementObserver.observe(document.getElementById('page-content'), {
                        childList: true,
                        subtree: true
                    });
                }
                // ============= BANK CREATE FORM =============

                function initBankCreateForm() {
                    console.log('ðŸ¦ Initializing Bank Create Form...');

                    // Load dropdowns
                    loadChartAccountsForBank();
                    loadCurrenciesForBank();

                    // Setup save button
                    const saveBtn = document.querySelector('.bank-save-btn');
                    if (saveBtn) {
                        saveBtn.addEventListener('click', saveBank);
                    }

                    // Setup back button
                    const backBtn = document.querySelector('.bank-back-btn');
                    if (backBtn) {
                        backBtn.addEventListener('click', function () {
                            updatePageContent('accounts-settings-bank'); // or wherever back should go
                        });
                    }

                    // Auto-generate bank code
                    setupBankCodeGeneration();

                    console.log('âœ… Bank Create form ready!');
                }
                // Load Chart of Accounts for Bank dropdown
                // In loadChartAccountsForBank function:
                async function loadChartAccountsForBank() {
                    try {
                        console.log('ðŸ“Š Loading ALL accounts for bank dropdown...');

                        const select = document.getElementById('bank-chart-account');
                        if (!select) {
                            console.error('âŒ Chart account select element not found');
                            return;
                        }

                        select.innerHTML = '<option value="">Loading all accounts...</option>';

                        // Fetch ALL accounts including placeholders
                        const response = await fetch('http://localhost:5000/api/accounts/bank-dropdown');

                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }

                        const result = await response.json();

                        console.log('ðŸ“‹ API Response:', {
                            success: result.success,
                            count: result.count,
                            data: result.data
                        });

                        if (result.success && result.data) {
                            console.log(`ðŸ“Š Total accounts received: ${result.data.length}`);

                            // Show what we received
                            result.data.forEach(acc => {
                                console.log(`  ${acc.is_placeholder ? 'ðŸ“' : 'âœ“'} ${acc.account_code} - ${acc.account_name} (Placeholder: ${acc.is_placeholder})`);
                            });

                            populateDropdownWithHierarchy(select, result.data);
                        } else {
                            throw new Error(result.error || 'No accounts found');
                        }

                    } catch (error) {
                        console.error('âŒ Chart accounts load error:', error);
                        loadDemoAccounts(); // Load demo data for testing
                    }
                }
                function populateDropdownWithHierarchy(selectElement, accounts) {
                    // Clear dropdown
                    selectElement.innerHTML = '<option value="">Select Chart of Account</option>';

                    // First, organize accounts by hierarchy
                    const accountMap = new Map();
                    accounts.forEach(acc => {
                        accountMap.set(acc.account_id, { ...acc, children: [] });
                    });

                    // Build hierarchy
                    accounts.forEach(acc => {
                        if (acc.parent_account_id && accountMap.has(acc.parent_account_id)) {
                            const parent = accountMap.get(acc.parent_account_id);
                            parent.children.push(accountMap.get(acc.account_id));
                        }
                    });

                    // Get root accounts (no parent or parent not in our list)
                    const rootAccounts = Array.from(accountMap.values()).filter(acc =>
                        !acc.parent_account_id || !accountMap.has(acc.parent_account_id)
                    );

                    // Sort roots by account code
                    rootAccounts.sort((a, b) => a.account_code.localeCompare(b.account_code));

                    // Function to recursively add accounts
                    function addAccountToDropdown(account, depth = 0) {
                        const option = document.createElement('option');
                        option.value = account.account_id;

                        // Indentation for hierarchy
                        const indent = 'â€ƒ'.repeat(depth);

                        if (account.is_placeholder) {
                            // ðŸ“Œ PLACEHOLDER ACCOUNT - HEADING STYLE (disabled)
                            option.disabled = true;
                            option.textContent = `${indent} ${account.account_code} - ${account.account_name}`;
                            option.style.fontWeight = 'bold';
                            option.style.color = '#808080';
                            option.style.backgroundColor = '#f0f9ff';
                            option.style.fontSize = '13px';
                            option.style.padding = '8px 10px';
                            option.style.borderBottom = '1px solid #cbd5e1';
                            option.style.marginTop = depth === 0 ? '5px' : '0';
                            option.title = 'Placeholder Account - For grouping only (Cannot be selected)';
                        } else {
                            // âœ… NON-PLACEHOLDER ACCOUNT - SELECTABLE
                            option.textContent = `${indent}${account.account_code} - ${account.account_name}`;
                            option.style.padding = '6px 10px';
                            option.style.color = '#28282B';
                            option.title = `${account.account_type} Account | Selectable`;

                            // Highlight BANK accounts
                            if (account.account_type === 'BANK') {
                                option.style.fontWeight = '600';
                                option.style.color = '#28282B';
                            }
                        }

                        selectElement.appendChild(option);

                        // Add children recursively
                        if (account.children && account.children.length > 0) {
                            account.children
                                .sort((a, b) => a.account_code.localeCompare(b.account_code))
                                .forEach(child => addAccountToDropdown(child, depth + 1));
                        }
                    }

                    // Add all root accounts
                    rootAccounts.forEach(account => addAccountToDropdown(account));

                    // Count stats
                    const totalOptions = selectElement.options.length - 1; // Exclude first "Select..."
                    const placeholderOptions = Array.from(selectElement.options).filter(opt => opt.disabled).length;
                    const selectableOptions = totalOptions - placeholderOptions;

                    console.log(`âœ… Dropdown populated:`);
                    console.log(`   Total options: ${totalOptions}`);
                    console.log(`   Placeholder headings: ${placeholderOptions}`);
                    console.log(`   Selectable accounts: ${selectableOptions}`);

                    // If no selectable accounts
                    if (selectableOptions === 0) {
                        selectElement.innerHTML = `
            <option value="">No selectable accounts found</option>
            <option value="" disabled style="color: #ef4444; font-weight: bold;">
                âš ï¸ Create non-placeholder (BANK/CASH) accounts first
            </option>
        `;
                    }
                }
                function groupAccountsByHierarchy(accounts) {
                    const parentMap = new Map();

                    // First, organize by parent
                    accounts.forEach(account => {
                        if (account.is_placeholder) {
                            // Initialize placeholder group
                            if (!parentMap.has(account.account_id)) {
                                parentMap.set(account.account_id, {
                                    ...account,
                                    children: []
                                });
                            }
                        }
                    });

                    // Add children to their parents
                    accounts.forEach(account => {
                        if (!account.is_placeholder && account.parent_account_id) {
                            const parent = parentMap.get(account.parent_account_id);
                            if (parent) {
                                parent.children.push(account);
                            }
                        }
                    });

                    // Convert map to array and add root-level non-placeholders
                    const groups = Array.from(parentMap.values());

                    // Add root-level non-placeholder accounts
                    const rootAccounts = accounts.filter(acc =>
                        !acc.is_placeholder &&
                        (!acc.parent_account_id || !parentMap.has(acc.parent_account_id))
                    );

                    return [...groups, ...rootAccounts].sort((a, b) => {
                        // Sort by account code
                        return a.account_code.localeCompare(b.account_code);
                    });
                }

                function loadFallbackChartAccountsForBank() {
                    console.log('âš ï¸ Loading fallback chart accounts for bank');

                    const select = document.getElementById('bank-chart-account');
                    if (!select) return;

                    select.innerHTML = `
        <option value="">Select Chart of Account</option>
        <option value="1">1-2001 - Cash in Hand</option>
        <option value="2">1-2002-001 - OCBC Current Account</option>
        <option value="3">1-2002-002 - DBS Savings Account</option>
        <option value="4">1-2002-003 - UOB Bank Account</option>
        <option value="5">1-2003-001 - Maybank Account</option>
        <option value="6" disabled style="color: #94a3b8;">1-1000 - Assets (Placeholder)</option>
        <option value="7" disabled style="color: #94a3b8;">1-2000 - Current Assets (Placeholder)</option>
        <option value="8" disabled style="color: #94a3b8;">1-2002 - Bank Accounts (Placeholder)</option>
    `;
                }

                // Load currencies for bank dropdown
                async function loadCurrenciesForBank() {
                    try {
                        console.log('ðŸ’° Loading currencies for bank...');

                        const select = document.getElementById('bank-currency');
                        if (!select) {
                            console.error('âŒ Currency select element not found');
                            return;
                        }

                        select.innerHTML = '<option value="">Loading currencies...</option>';

                        // Try multiple endpoints with timeout
                        const endpoints = [
                            '/api/currencies/active',
                            '/api/currencies',
                            'http://localhost:5000/api/currencies',
                            'http://localhost:5000/api/currencies/active'
                        ];

                        let currencies = [];
                        let success = false;

                        for (const endpoint of endpoints) {
                            try {
                                console.log(`ðŸ” Trying endpoint: ${endpoint}`);

                                // Add timeout to prevent hanging
                                const controller = new AbortController();
                                const timeoutId = setTimeout(() => controller.abort(), 3000);

                                const response = await fetch(endpoint, {
                                    signal: controller.signal
                                });

                                clearTimeout(timeoutId);

                                if (response.ok) {
                                    const result = await response.json();
                                    if (result.success && result.data) {
                                        currencies = result.data;
                                        console.log(`âœ… Loaded ${currencies.length} currencies from ${endpoint}`);
                                        success = true;
                                        break;
                                    }
                                }
                            } catch (err) {
                                console.log(`âŒ ${endpoint} failed: ${err.name === 'AbortError' ? 'Timeout' : err.message}`);
                                continue;
                            }
                        }

                        // If API failed, use hardcoded currencies
                        if (!success || currencies.length === 0) {
                            console.log('âš ï¸ API failed, using hardcoded currencies');
                            currencies = getHardcodedCurrencies();
                        }

                        // Populate dropdown
                        select.innerHTML = '<option value="">Select Currency</option>';

                        currencies.forEach(currency => {
                            const option = document.createElement('option');
                            const currencyId = currency.currency_id || currency.id;
                            const currencyCode = currency.currency_code || currency.code;
                            const currencyName = currency.currency_name || currency.name;

                            option.value = currencyId;
                            option.textContent = `${currencyCode} - ${currencyName}`;

                            // Select default currency if available
                            if (currency.is_default || currency.default) {
                                option.selected = true;
                            }

                            select.appendChild(option);
                        });

                        console.log(`âœ… Currency dropdown loaded with ${select.options.length} options`);

                    } catch (error) {
                        console.error('âŒ Currency load error:', error);

                        // Ultimate fallback
                        const select = document.getElementById('bank-currency');
                        if (select) {
                            select.innerHTML = `
                <option value="">Select Currency</option>
                <option value="1">SGD - Singapore Dollar</option>
                <option value="2">USD - US Dollar</option>
                <option value="3">EUR - Euro</option>
                <option value="4">MYR - Malaysian Ringgit</option>
                <option value="5">INR - Indian Rupee</option>
            `;
                        }
                    }
                }
                function getHardcodedCurrencies() {
                    return [
                        { currency_id: 1, currency_code: 'SGD', currency_name: 'Singapore Dollar', is_default: true },
                        { currency_id: 2, currency_code: 'USD', currency_name: 'US Dollar', is_default: false },
                        { currency_id: 3, currency_code: 'EUR', currency_name: 'Euro', is_default: false },
                        { currency_id: 4, currency_code: 'MYR', currency_name: 'Malaysian Ringgit', is_default: false },
                        { currency_id: 5, currency_code: 'INR', currency_name: 'Indian Rupee', is_default: false }
                    ];
                }
                // Setup auto bank code generation
                function setupBankCodeGeneration() {
                    const bankNameInput = document.querySelector('input[placeholder*="Bank Name"]');
                    const bankCodeInput = document.querySelector('input[placeholder*="Bank Code"]');

                    if (bankNameInput && bankCodeInput) {
                        bankNameInput.addEventListener('blur', function () {
                            if (!bankCodeInput.value) {
                                // Generate code from name: DBS BANK -> DBS
                                const code = this.value
                                    .replace(/[^a-zA-Z0-9]/g, '')
                                    .substring(0, 10)
                                    .toUpperCase();
                                bankCodeInput.value = code;
                            }
                        });
                    }
                }

                window.saveBank = async function () {
                    try {
                        console.log('ðŸ’¾ Saving bank...');

                        // Get form data
                        const bankData = {
                            bank_code: document.getElementById('bank-code')?.value.trim() || '',
                            bank_name: document.getElementById('bank-name')?.value.trim() || '',
                            display_name: document.getElementById('display-name')?.value.trim() || '',
                            account_number: document.getElementById('account-number')?.value.trim() || '',
                            beneficiary_name: document.getElementById('beneficiary-name')?.value.trim() || '',
                            phone_number: document.getElementById('phone-number')?.value.trim() || '',
                            branch_code: document.getElementById('branch-code')?.value.trim() || '',
                            swift_code: document.getElementById('swift-code')?.value.trim() || '',
                            ifsc_code: document.getElementById('ifsc-code')?.value.trim() || '',
                            account_type: document.getElementById('account-type')?.value || 'CURRENT',
                            file_format: document.getElementById('file-format')?.value || 'GENERIC',
                            chart_account_id: document.getElementById('bank-chart-account')?.value || '',
                            address1: document.getElementById('address1')?.value.trim() || '',
                            address2: document.getElementById('address2')?.value.trim() || '',
                            address3: document.getElementById('address3')?.value.trim() || '',
                            city: document.getElementById('city')?.value.trim() || '',
                            country: document.getElementById('country')?.value || 'Singapore',
                            postal_code: document.getElementById('postal-code')?.value.trim() || '',
                            currency_id: document.getElementById('bank-currency')?.value || '',
                            is_active: document.getElementById('is-active')?.checked || true,
                            is_default: document.getElementById('is-default')?.checked || false,
                            created_by: 'admin'
                        };

                        console.log('ðŸ“‹ Bank data to save:', bankData);

                        // Validation
                        const errors = [];

                        if (!bankData.bank_code) errors.push('Bank Code is required');
                        if (!bankData.bank_name) errors.push('Bank Name is required');
                        if (!bankData.display_name) errors.push('Display Name is required');
                        if (!bankData.chart_account_id) errors.push('Chart of Account is required');
                        if (!bankData.currency_id) errors.push('Currency is required');

                        if (errors.length > 0) {
                            alert('âŒ ' + errors.join('\n'));
                            return;
                        }

                        // Show loading
                        const saveBtn = document.querySelector('.save-btn');
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';
                            saveBtn.disabled = true;
                        }

                        // Send to API
                        const response = await fetch('http://localhost:5000/api/banks', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(bankData)
                        });

                        const result = await response.json();

                        if (response.ok && result.success) {
                            alert(`âœ… Bank "${bankData.bank_name}" created successfully!`);

                            // Reset form
                            document.getElementById('bank-code').value = '';
                            document.getElementById('bank-name').value = '';
                            document.getElementById('display-name').value = '';
                            // ... reset other fields as needed

                            // Go back to list or stay
                            setTimeout(() => {
                                updatePageContent('accounts-settings-bank'); // Change to your banks list page
                            }, 1500);

                        } else {
                            throw new Error(result.error || 'Failed to create bank');
                        }

                    } catch (error) {
                        console.error('âŒ Save bank error:', error);
                        alert('âŒ Error: ' + error.message);

                        // Reset button
                        const saveBtn = document.querySelector('.bank-save-btn');
                        if (saveBtn) {
                            saveBtn.innerHTML = '<i class="fas fa-save"></i> Save & Close';
                            saveBtn.disabled = false;
                        }
                    }
                };


                // Auto-initialize when form loads
                document.addEventListener('DOMContentLoaded', function () {
                    if (document.querySelector('.bank-create')) {
                        console.log('ðŸ¦ Bank Create page detected');
                        initBankCreateForm();
                    }
                });

                // Observe dynamic page changes
                const bankObserver = new MutationObserver(function (mutations) {
                    mutations.forEach(function (mutation) {
                        if (mutation.target.id === 'page-content' &&
                            document.querySelector('.bank-create')) {
                            console.log('ðŸ”„ Bank Create loaded dynamically');
                            setTimeout(initBankCreateForm, 100);
                        }
                    });
                });

                if (document.getElementById('page-content')) {
                    bankObserver.observe(document.getElementById('page-content'), {
                        childList: true,
                        subtree: true
                    });
                }
                // ============= BANKS MANAGEMENT =============

                // Global variables for banks management
                let banksCurrentPage = 1;
                let banksLimit = 20;
                let banksSearch = '';
                let banksAccountType = '';
                let banksDefaultStatus = '';

                // Initialize banks management page
                function initBanksManagement() {
                    console.log('ðŸ¦ Initializing Banks Management...');

                    // Load banks
                    loadBanks();

                    // Setup event listeners
                    setupBanksEventListeners();

                    console.log('âœ… Banks Management ready!');
                }

                // Setup all event listeners
                function setupBanksEventListeners() {
                    // Create button
                    const createBtn = document.querySelector('.bank-create-btn');
                    if (createBtn) {
                        createBtn.addEventListener('click', function () {
                            updatePageContent('bank-create');
                        });
                    }

                    // Search input
                    const searchInput = document.querySelector('input[placeholder="Bank Name or Code"]');
                    if (searchInput) {
                        searchInput.addEventListener('keyup', function (e) {
                            if (e.key === 'Enter') {
                                banksSearch = this.value;
                                banksCurrentPage = 1;
                                loadBanks();
                            }
                        });
                    }

                    // Fetch button
                    const fetchBtn = document.querySelector('.btn-primary i.fa-download')?.closest('button');
                    if (fetchBtn) {
                        fetchBtn.addEventListener('click', function () {
                            banksSearch = document.querySelector('input[placeholder="Bank Name or Code"]').value;
                            banksAccountType = document.querySelector('select').value;
                            banksDefaultStatus = document.querySelectorAll('select')[1].value;
                            banksCurrentPage = 1;
                            loadBanks();
                        });
                    }

                    // Clear button
                    const clearBtn = document.querySelector('.btn-outline i.fa-times')?.closest('button');
                    if (clearBtn) {
                        clearBtn.addEventListener('click', function () {
                            document.querySelector('input[placeholder="Bank Name or Code"]').value = '';
                            document.querySelector('select').value = 'All Types';
                            document.querySelectorAll('select')[1].value = 'All';
                            banksSearch = '';
                            banksAccountType = '';
                            banksDefaultStatus = '';
                            banksCurrentPage = 1;
                            loadBanks();
                        });
                    }

                    // Refresh button
                    const refreshBtn = document.querySelector('.btn-outline i.fa-sync-alt')?.closest('button');
                    if (refreshBtn) {
                        refreshBtn.addEventListener('click', function () {
                            loadBanks();
                        });
                    }

                    // Export button
                    const exportBtn = document.querySelector('.btn-outline i.fa-download')?.closest('button');
                    if (exportBtn) {
                        exportBtn.addEventListener('click', function () {
                            exportBanks();
                        });
                    }

                    // Show entries dropdown
                    const limitSelect = document.querySelector('.pagination select');
                    if (limitSelect) {
                        limitSelect.addEventListener('change', function () {
                            banksLimit = parseInt(this.value);
                            banksCurrentPage = 1;
                            loadBanks();
                        });
                    }

                    // Pagination buttons
                    const prevBtn = document.querySelector('.pagination-controls .btn-outline:first-child');
                    const nextBtn = document.querySelector('.pagination-controls .btn-outline:last-child');

                    if (prevBtn) {
                        prevBtn.addEventListener('click', function () {
                            if (banksCurrentPage > 1) {
                                banksCurrentPage--;
                                loadBanks();
                            }
                        });
                    }

                    if (nextBtn) {
                        nextBtn.addEventListener('click', function () {
                            banksCurrentPage++;
                            loadBanks();
                        });
                    }

                    // Table action buttons using event delegation
                    const tableBody = document.querySelector('.banks-table tbody');
                    if (tableBody) {
                        tableBody.addEventListener('click', function (e) {
                            const target = e.target;
                            const button = target.closest('button');
                            const row = target.closest('tr');

                            if (!row || !button) return;

                            const bankId = row.dataset.id;
                            const bankCode = row.cells[0].textContent.trim();
                            const bankName = row.cells[1].querySelector('div:first-child').textContent.trim();
                            const isDefault = row.cells[4].querySelector('span') !== null;

                            if (button.querySelector('.fa-eye')) {
                                viewBank(bankId);
                            } else if (button.querySelector('.fa-edit')) {
                                editBank(bankId);
                            } else if (button.querySelector('.fa-trash')) {
                                hardDeleteBank(bankId, bankCode, isDefault);
                            }
                        });
                    }

                }

                // Load banks from API
                async function loadBanks() {
                    try {
                        console.log('ðŸ“¥ Loading banks...');

                        // Show loading state
                        const tbody = document.querySelector('.banks-table tbody');
                        if (tbody) {
                            tbody.innerHTML = `
                <tr>
                    <td colspan="6" style="padding: 40px; text-align: center; color: #64748b;">
                        <div style="margin-bottom: 10px;">
                            <i class="fas fa-spinner fa-spin" style="font-size: 24px; color: var(--primary);"></i>
                        </div>
                        <div style="font-size: 14px;">
                            Loading banks...
                        </div>
                    </td>
                </tr>
            `;
                        }

                        // Build query string
                        const queryParams = new URLSearchParams({
                            page: banksCurrentPage,
                            limit: banksLimit,
                            search: banksSearch,
                            account_type: banksAccountType,
                            is_default: banksDefaultStatus === 'All' ? '' : banksDefaultStatus
                        });

                        const response = await fetch(`http://localhost:5000/api/banks?${queryParams}`);

                        if (!response.ok) throw new Error(`HTTP ${response.status}`);

                        const result = await response.json();

                        if (result.success) {
                            renderBanksTable(result.data);
                            updateBanksPagination(result.pagination);
                        } else {
                            throw new Error(result.error);
                        }

                    } catch (error) {
                        console.error('âŒ Load banks error:', error);
                        showStatusMessage(`âŒ Failed to load banks: ${error.message}`, 'error');

                        // Show empty state
                        renderEmptyBanksTable();
                    }
                }

                // Render banks table
                function renderBanksTable(banks) {
                    const tbody = document.querySelector('.banks-table tbody');
                    if (!tbody) return;

                    if (banks.length === 0) {
                        renderEmptyBanksTable();
                        return;
                    }

                    let html = '';

                    banks.forEach(bank => {
                        // Format account number (mask middle digits)
                        let accountDisplay = bank.account_number || 'N/A';
                        if (accountDisplay !== 'N/A' && accountDisplay.length > 4) {
                            const first4 = accountDisplay.substring(0, 4);
                            const last4 = accountDisplay.substring(accountDisplay.length - 4);

                        }

                        // Default badge
                        const defaultBadge = bank.is_default ?
                            `<span style="background: #10b981; color: white; padding: 2px 8px; border-radius: 12px; font-size: 11px; font-weight: 500;">
                <i class="fas fa-star"></i> Default
            </span>` : '';

                        html += `
            <tr style="border-bottom: 1px solid #e2e8f0;" data-id="${bank.bank_id}">
                <td style="padding: 15px; color: var(--dark); font-weight: 500;">
                    ${bank.bank_code}
                </td>
                <td style="padding: 15px; color: var(--dark);">
                    <div style="font-weight: 500;">${bank.display_name || bank.bank_name}</div>
                    <div style="font-size: 12px; color: #64748b;">${bank.bank_name}</div>
                </td>
                <td style="padding: 15px; color: #64748b; font-family: 'Courier New', monospace;">
                    ${accountDisplay}
                </td>
                <td style="padding: 15px; color: #64748b;">
                    <span style="
                        padding: 4px 10px;
                        background: ${bank.account_type === 'CURRENT' ? '#dbeafe' : '#f0fdf4'};
                        color: ${bank.account_type === 'CURRENT' ? '#1d4ed8' : '#059669'};
                        border-radius: 12px;
                        font-size: 11px;
                        font-weight: 500;
                        text-transform: uppercase;
                    ">
                        ${bank.account_type || 'N/A'}
                    </span>
                </td>
                <td style="padding: 15px; text-align: center;">
                    ${defaultBadge}
                </td>
                <td style="padding: 15px; text-align: center;">
                    <div style="display: flex; gap: 8px; justify-content: center;">
                        <button style="background: none; border: none; cursor: pointer; color: #10b981; padding: 6px;" title="View">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button style="background: none; border: none; cursor: pointer; color: #2563eb; padding: 6px;" title="Edit">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button style="background: none; border: none; cursor: pointer; color: #ef4444; padding: 6px;" title="Delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </td>
            </tr>
        `;
                    });

                    tbody.innerHTML = html;
                }

                // Update pagination
                function updateBanksPagination(pagination) {
                    const paginationInfo = document.querySelector('.pagination-info');
                    const prevBtn = document.querySelector('.pagination-controls .btn-outline:first-child');
                    const nextBtn = document.querySelector('.pagination-controls .btn-outline:last-child');
                    const currentPageBtn = document.querySelector('.pagination-controls .btn-primary');

                    if (!paginationInfo || !prevBtn || !nextBtn || !currentPageBtn) return;

                    const { page, limit, total, total_pages } = pagination;

                    // Update info text
                    const start = total === 0 ? 0 : (page - 1) * limit + 1;
                    const end = Math.min(page * limit, total);

                    paginationInfo.textContent = `Showing ${start} to ${end} of ${total} entries`;

                    // Update page button
                    currentPageBtn.textContent = page;

                    // Enable/disable buttons
                    prevBtn.disabled = page <= 1;
                    prevBtn.style.opacity = page <= 1 ? '0.5' : '1';
                    prevBtn.style.cursor = page <= 1 ? 'not-allowed' : 'pointer';

                    nextBtn.disabled = page >= total_pages;
                    nextBtn.style.opacity = page >= total_pages ? '0.5' : '1';
                    nextBtn.style.cursor = page >= total_pages ? 'not-allowed' : 'pointer';
                }

                // View bank details
                async function viewBank(bankId) {
                    try {
                        console.log(`ðŸ‘ï¸ Viewing bank ${bankId}`);

                        // Show loading state
                        document.getElementById('page-content').innerHTML = `
            <div style="padding: 50px; text-align: center;">
                <i class="fas fa-spinner fa-spin fa-2x" style="color: var(--primary);"></i>
                <p style="margin-top: 20px; color: #64748b;">Loading bank details...</p>
            </div>
        `;

                        const response = await fetch(`http://localhost:5000/api/banks/${bankId}`);
                        const result = await response.json();

                        if (result.success) {
                            const bank = result.data;

                            // Create view form HTML (SAME DESIGN AS ACCOUNT VIEW)
                            const viewFormHTML = createBankViewHTML(bankId, bank);

                            // Update page content
                            document.getElementById('page-content').innerHTML = viewFormHTML;

                            // Attach event listeners
                            setTimeout(() => {
                                attachBankViewListeners(bankId);
                            }, 100);

                        } else {
                            throw new Error(result.error);
                        }
                    } catch (error) {
                        console.error('âŒ View bank error:', error);
                        showStatusMessage(`âŒ Failed to load bank: ${error.message}`, 'error');

                        // Go back to list
                        setTimeout(() => {
                            updatePageContent('accounts-settings-bank');
                        }, 2000);
                    }
                }

                function createBankViewHTML(bankId, bank) {
                    // Format account number for display (mask middle digits)
                    const accountNumber = bank.account_number || 'Not Provided';
                    const maskedAccount = accountNumber.length > 8 ?
                        `${accountNumber.substring(0, 4)} **** ${accountNumber.substring(accountNumber.length - 4)}` :
                        accountNumber;

                    // Format address
                    const addressParts = [bank.address1, bank.address2, bank.address3, bank.city, bank.country, bank.postal_code]
                        .filter(part => part && part.trim() !== '');
                    const formattedAddress = addressParts.length > 0 ? addressParts.join(', ') : 'Not Provided';

                    return `
        <div class="bank-view-form">
            <!-- Action Bar -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary bank-view-back-btn" 
                            style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back to List
                    </button>
                    <button class="btn btn-primary edit-bank-from-view-btn" 
                            data-bank-id="${bankId}"
                            style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-edit"></i> Edit Bank
                    </button>
                </div>
                <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                    <i class="fas fa-eye"></i> Viewing Bank: ${bank.bank_code}
                </div>
            </div>

            <!-- Main Content -->
            <div class="main-form" style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                <h3 style="color: var(--dark); margin-bottom: 20px; font-size: 16px; font-weight: 600; border-bottom: 1px solid #e2e8f0; padding-bottom: 10px;">
                    <i class="fas fa-university"></i> Bank Details
                </h3>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                    <!-- Left Column - Basic Info -->
                    <div>
                        <!-- Bank Code -->
                        <div class="detail-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Bank Code</label>
                            <div style="padding: 10px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px; font-family: 'Courier New', monospace; font-weight: 600; font-size: 14px;">
                                ${bank.bank_code}
                            </div>
                        </div>
                        
                        <!-- Bank Name & Display Name -->
                        <div class="detail-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Bank Name</label>
                            <div style="padding: 10px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px;">
                                ${bank.bank_name}
                            </div>
                        </div>
                        
                        <div class="detail-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Display Name</label>
                            <div style="padding: 10px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px;">
                                ${bank.display_name || bank.bank_name}
                            </div>
                        </div>
                        
                        <!-- Account Details -->
                        <div class="detail-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Account Details</label>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                                <div>
                                    <div style="font-size: 11px; color: #64748b; margin-bottom: 3px;">Account Number</div>
                                    <div style="padding: 8px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px; font-family: 'Courier New', monospace; font-size: 13px;">
                                        ${maskedAccount}
                                    </div>
                                </div>
                                <div>
                                    <div style="font-size: 11px; color: #64748b; margin-bottom: 3px;">Account Type</div>
                                    <div style="padding: 8px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px;">
                                        <span style="
                                            padding: 4px 10px;
                                            background: ${bank.account_type === 'CURRENT' ? '#dbeafe' : '#f0fdf4'};
                                            color: ${bank.account_type === 'CURRENT' ? '#1d4ed8' : '#059669'};
                                            border-radius: 12px;
                                            font-size: 11px;
                                            font-weight: 500;
                                            text-transform: uppercase;
                                        ">
                                            ${bank.account_type || 'N/A'}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Beneficiary & Contact -->
                        <div class="detail-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Beneficiary</label>
                            <div style="padding: 10px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px;">
                                ${bank.beneficiary_name || 'Not Provided'}
                            </div>
                        </div>
                        
                        <div class="detail-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Phone Number</label>
                            <div style="padding: 10px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px; font-family: 'Courier New', monospace;">
                                ${bank.phone_number || 'Not Provided'}
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column - Additional Info -->
                    <div>
                        <!-- Bank Codes -->
                        <div class="detail-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Bank Codes</label>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                                <div>
                                    <div style="font-size: 11px; color: #64748b; margin-bottom: 3px;">Branch Code</div>
                                    <div style="padding: 8px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px; font-family: 'Courier New';">
                                        ${bank.branch_code || 'N/A'}
                                    </div>
                                </div>
                                <div>
                                    <div style="font-size: 11px; color: #64748b; margin-bottom: 3px;">SWIFT Code</div>
                                    <div style="padding: 8px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px; font-family: 'Courier New';">
                                        ${bank.swift_code || 'N/A'}
                                    </div>
                                </div>
                                <div>
                                    <div style="font-size: 11px; color: #64748b; margin-bottom: 3px;">IFSC Code</div>
                                    <div style="padding: 8px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px; font-family: 'Courier New';">
                                        ${bank.ifsc_code || 'N/A'}
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Financial Links -->
                        <div class="detail-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Financial Links</label>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                                <div>
                                    <div style="font-size: 11px; color: #64748b; margin-bottom: 3px;">Chart of Account</div>
                                    <div style="padding: 8px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px;">
                                        ${bank.chart_account_code || 'N/A'} - ${bank.chart_account_name || 'N/A'}
                                    </div>
                                </div>
                                <div>
                                    <div style="font-size: 11px; color: #64748b; margin-bottom: 3px;">Currency</div>
                                    <div style="padding: 8px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px;">
                                        <span style="
                                            padding: 4px 10px;
                                            background: #f0f9ff;
                                            color: #0369a1;
                                            border-radius: 12px;
                                            font-size: 11px;
                                            font-weight: 600;
                                        ">
                                            ${bank.currency_code || 'N/A'} - ${bank.currency_name || ''}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- File Format -->
                        <div class="detail-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">File Format</label>
                            <div style="padding: 10px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px;">
                                <span style="
                                    padding: 4px 12px;
                                    background: ${getFileFormatColor(bank.file_format)};
                                    color: white;
                                    border-radius: 12px;
                                    font-size: 11px;
                                    font-weight: 600;
                                ">
                                    ${bank.file_format || 'GENERIC'}
                                </span>
                            </div>
                        </div>
                        
                        <!-- Bank Status -->
                        <div class="detail-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Bank Status</label>
                            <div style="display: flex; gap: 10px;">
                                <span style="
                                    background: ${bank.is_active ? '#10b98115' : '#ef444415'};
                                    color: ${bank.is_active ? '#10b981' : '#ef4444'};
                                    padding: 5px 15px;
                                    border-radius: 20px;
                                    font-size: 12px;
                                    font-weight: 500;
                                    display: flex;
                                    align-items: center;
                                    gap: 5px;
                                ">
                                    <i class="fas ${bank.is_active ? 'fa-check-circle' : 'fa-times-circle'}"></i>
                                    ${bank.is_active ? 'Active' : 'Inactive'}
                                </span>
                                
                                <span style="
                                    background: ${bank.is_default ? '#f59e0b15' : '#f8fafc'};
                                    color: ${bank.is_default ? '#f59e0b' : '#64748b'};
                                    padding: 5px 15px;
                                    border-radius: 20px;
                                    font-size: 12px;
                                    font-weight: 500;
                                    border: 1px solid ${bank.is_default ? '#f59e0b' : '#d1d5db'};
                                    display: flex;
                                    align-items: center;
                                    gap: 5px;
                                ">
                                    <i class="fas ${bank.is_default ? 'fa-star' : 'fa-star'}"></i>
                                    ${bank.is_default ? 'Default Bank' : 'Regular Bank'}
                                </span>
                            </div>
                        </div>
                        
                        <!-- Address -->
                        <div class="detail-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Address</label>
                            <div style="padding: 10px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px; line-height: 1.5;">
                                ${formattedAddress}
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Audit Information -->
                <div style="margin-top: 30px; border-top: 1px solid #e2e8f0; padding-top: 20px;">
                    <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 14px; font-weight: 600;">
                        <i class="fas fa-history"></i> Audit Information
                    </h4>
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px;">
                        <div>
                            <div style="font-size: 11px; color: #64748b; margin-bottom: 3px;">Created On</div>
                            <div style="padding: 8px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px; font-size: 12px;">
                                ${formatDateTime(bank.created_at)}
                            </div>
                        </div>
                        <div>
                            <div style="font-size: 11px; color: #64748b; margin-bottom: 3px;">Created By</div>
                            <div style="padding: 8px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px; font-size: 12px;">
                                ${bank.created_by || 'system'}
                            </div>
                        </div>
                        <div>
                            <div style="font-size: 11px; color: #64748b; margin-bottom: 3px;">Last Updated</div>
                            <div style="padding: 8px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px; font-size: 12px;">
                                ${formatDateTime(bank.updated_at)}
                            </div>
                        </div>
                        <div>
                            <div style="font-size: 11px; color: #64748b; margin-bottom: 3px;">Updated By</div>
                            <div style="padding: 8px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 5px; font-size: 12px;">
                                ${bank.updated_by || 'system'}
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div style="margin-top: 30px; border-top: 1px solid #e2e8f0; padding-top: 20px;">
                    <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 14px; font-weight: 600;">
                        <i class="fas fa-bolt"></i> Quick Actions
                    </h4>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-outline bank-set-default-btn" 
                                data-bank-id="${bankId}"
                                style="padding: 8px 16px; background: white; color: #f59e0b; border: 1px solid #f59e0b; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 12px;"
                                ${bank.is_default ? 'disabled style="opacity: 0.5; cursor: not-allowed;"' : ''}>
                            <i class="fas fa-star"></i>
                            ${bank.is_default ? 'Already Default' : 'Set as Default'}
                        </button>
                        
                        <button class="btn btn-outline bank-toggle-active-btn" 
                                data-bank-id="${bankId}"
                                style="padding: 8px 16px; background: white; color: ${bank.is_active ? '#ef4444' : '#10b981'}; border: 1px solid ${bank.is_active ? '#ef4444' : '#10b981'}; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 12px;">
                            <i class="fas ${bank.is_active ? 'fa-ban' : 'fa-check'}"></i>
                            ${bank.is_active ? 'Deactivate Bank' : 'Activate Bank'}
                        </button>
                        
                        <button class="btn btn-outline bank-delete-btn" 
                                data-bank-id="${bankId}"
                                data-bank-code="${bank.bank_code}"
                                style="padding: 8px 16px; background: white; color: #ef4444; border: 1px solid #ef4444; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 12px;">
                            <i class="fas fa-trash"></i> Delete Bank
                        </button>
                    </div>
                </div>
            </div>
        </div>
    `;
                }

                // Helper function for file format colors
                function getFileFormatColor(format) {
                    const colors = {
                        'DBS': '#2563eb',
                        'OCBC': '#059669',
                        'RHB': '#7c3aed',
                        'UOB': '#dc2626',
                        'MAY': '#f59e0b',
                        'GENERIC': '#6b7280'
                    };
                    return colors[format] || '#6b7280';
                }

                // Format date time
                function formatDateTime(dateString) {
                    if (!dateString) return 'N/A';

                    try {
                        const date = new Date(dateString);
                        return date.toLocaleString('en-SG', {
                            year: 'numeric',
                            month: 'short',
                            day: 'numeric',
                            hour: '2-digit',
                            minute: '2-digit'
                        });
                    } catch (e) {
                        return dateString;
                    }
                }

                // Attach event listeners to bank view
                function attachBankViewListeners(bankId) {
                    // Back button
                    const backBtn = document.querySelector('.bank-view-back-btn');
                    if (backBtn) {
                        backBtn.addEventListener('click', () => {
                            updatePageContent('accounts-settings-bank');
                        });
                    }

                    // Edit button
                    const editBtn = document.querySelector('.edit-bank-from-view-btn');
                    if (editBtn) {
                        editBtn.addEventListener('click', () => {
                            editBank(bankId);
                        });
                    }

                    // Set as default button
                    const defaultBtn = document.querySelector('.bank-set-default-btn');
                    if (defaultBtn && !defaultBtn.disabled) {
                        defaultBtn.addEventListener('click', function () {
                            setBankAsDefault(bankId, this.dataset.bankCode);
                        });
                    }

                    // Toggle active button
                    const toggleBtn = document.querySelector('.bank-toggle-active-btn');
                    if (toggleBtn) {
                        toggleBtn.addEventListener('click', function () {
                            const bankCode = document.querySelector('.bank-delete-btn').dataset.bankCode;
                            const isCurrentlyActive = this.textContent.includes('Deactivate');
                            toggleBankActiveStatus(bankId, bankCode, isCurrentlyActive);
                        });
                    }

                    // Delete button
                    const deleteBtn = document.querySelector('.bank-delete-btn');
                    if (deleteBtn) {
                        deleteBtn.addEventListener('click', function () {
                            const bankCode = this.dataset.bankCode;
                            const isDefault = document.querySelector('.bank-set-default-btn').disabled;
                            hardDeleteBank(bankId, bankCode, isDefault);
                        });
                    }
                }
                async function setBankAsDefault(bankId, bankCode) {
                    try {
                        const confirmSet = confirm(`Set "${bankCode}" as default bank?\n\nThis will replace the current default bank.`);

                        if (!confirmSet) return;

                        // First get bank details
                        const response = await fetch(`http://localhost:5000/api/banks/${bankId}`);
                        const result = await response.json();

                        if (!result.success) throw new Error(result.error);

                        const bank = result.data;

                        // Update bank to be default
                        const updateData = {
                            ...bank,
                            is_default: true
                        };

                        const updateResponse = await fetch(`http://localhost:5000/api/banks/${bankId}`, {
                            method: 'PUT',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(updateData)
                        });

                        const updateResult = await updateResponse.json();

                        if (updateResponse.ok && updateResult.success) {
                            showStatusMessage(`âœ… "${bankCode}" set as default bank`, 'success');

                            // Refresh the view
                            setTimeout(() => {
                                viewBank(bankId);
                            }, 1000);
                        } else {
                            throw new Error(updateResult.error || 'Failed to set as default');
                        }

                    } catch (error) {
                        console.error('âŒ Set default error:', error);
                        alert('âŒ Error: ' + error.message);
                    }
                }

                // Toggle bank active status
                async function toggleBankActiveStatus(bankId, bankCode, isCurrentlyActive) {
                    try {
                        const action = isCurrentlyActive ? 'deactivate' : 'activate';
                        const confirmToggle = confirm(`${isCurrentlyActive ? 'Deactivate' : 'Activate'} bank "${bankCode}"?`);

                        if (!confirmToggle) return;

                        // First get bank details
                        const response = await fetch(`http://localhost:5000/api/banks/${bankId}`);
                        const result = await response.json();

                        if (!result.success) throw new Error(result.error);

                        const bank = result.data;

                        // Check if trying to deactivate default bank
                        if (isCurrentlyActive && bank.is_default) {
                            alert('âŒ Cannot deactivate default bank!\n\nSet another bank as default first.');
                            return;
                        }

                        // Update bank active status
                        const updateData = {
                            ...bank,
                            is_active: !isCurrentlyActive
                        };

                        const updateResponse = await fetch(`http://localhost:5000/api/banks/${bankId}`, {
                            method: 'PUT',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(updateData)
                        });

                        const updateResult = await updateResponse.json();

                        if (updateResponse.ok && updateResult.success) {
                            showStatusMessage(`âœ… Bank "${bankCode}" ${action}d`, 'success');

                            // Refresh the view
                            setTimeout(() => {
                                viewBank(bankId);
                            }, 1000);
                        } else {
                            throw new Error(updateResult.error || `Failed to ${action} bank`);
                        }

                    } catch (error) {
                        console.error('âŒ Toggle active error:', error);
                        alert('âŒ Error: ' + error.message);
                    }
                }
                // Edit bank
                async function editBank(bankId) {
                    try {
                        console.log(`âœï¸ Editing bank ${bankId}`);

                        // Show loading state
                        document.getElementById('page-content').innerHTML = `
            <div style="padding: 50px; text-align: center;">
                <i class="fas fa-spinner fa-spin fa-2x" style="color: var(--primary);"></i>
                <p style="margin-top: 20px; color: #64748b;">Loading bank details...</p>
            </div>
        `;

                        // Fetch bank details
                        const response = await fetch(`http://localhost:5000/api/banks/${bankId}`);
                        const result = await response.json();

                        if (!result.success) {
                            throw new Error(result.error || 'Failed to load bank');
                        }

                        const bank = result.data;

                        // Create form WITH pre-loaded values
                        const editFormHTML = createBankEditFormHTML(bankId, bank);
                        document.getElementById('page-content').innerHTML = editFormHTML;

                        // Give DOM time to render
                        await new Promise(resolve => setTimeout(resolve, 100));

                        // Load dropdowns with PROPER DOM check
                        await loadAllBankDropdowns(bankId, bank);

                        // Setup event listeners
                        setupBankEditFormListeners(bankId);

                        console.log('âœ… Bank edit form loaded successfully!');

                    } catch (error) {
                        console.error('âŒ Edit bank error:', error);
                        showStatusMessage(`âŒ Failed to load bank: ${error.message}`, 'error');

                        // Go back to list
                        setTimeout(() => {
                            updatePageContent('accounts-settings-bank');
                        }, 2000);
                    }
                }

                // Create form HTML with pre-loaded values
                function createBankEditFormHTML(bankId, bank) {
                    // Format account number for display
                    const accountNumber = bank.account_number || '';

                    return `
        <div class="bank-edit-form" id="bank-edit-form-${bankId}">
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary update-bank-btn" 
                            data-bank-id="${bankId}"
                            style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Update Bank
                    </button>
                    <button class="btn btn-primary bank-edit-back-btn" 
                            style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back to List
                    </button>
                </div>
                <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                    <i class="fas fa-edit"></i> Editing Bank: ${bank.bank_code}
                </div>
            </div>

            <div class="main-form" style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                <h3 style="color: var(--dark); margin-bottom: 20px; font-size: 16px; font-weight: 600; border-bottom: 1px solid #e2e8f0; padding-bottom: 10px;">
                    <i class="fas fa-edit"></i> Edit Bank Details
                </h3>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                    <!-- Left Column -->
                    <div>
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Bank Code *</label>
                            <input type="text" id="edit-bank-code-${bankId}" 
                                   value="${bank.bank_code}"
                                   style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f8fafc; font-family: 'Courier New', monospace;"
                                   readonly>
                            <small style="color: #64748b; font-size: 11px;">Bank code cannot be changed</small>
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Bank Name *</label>
                            <input type="text" id="edit-bank-name-${bankId}" 
                                   value="${bank.bank_name}"
                                   style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px;"
                                   placeholder="e.g., DBS Bank, OCBC Bank">
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Display Name *</label>
                            <input type="text" id="edit-display-name-${bankId}" 
                                   value="${bank.display_name || bank.bank_name}"
                                   style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px;"
                                   placeholder="e.g., DBS Main Account">
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Account Number</label>
                            <input type="text" id="edit-account-number-${bankId}" 
                                   value="${accountNumber}"
                                   style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; font-family: 'Courier New', monospace;"
                                   placeholder="e.g., 1234567890">
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Beneficiary Name</label>
                            <input type="text" id="edit-beneficiary-name-${bankId}" 
                                   value="${bank.beneficiary_name || ''}"
                                   style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px;"
                                   placeholder="e.g., Company Name">
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Phone Number</label>
                            <input type="text" id="edit-phone-number-${bankId}" 
                                   value="${bank.phone_number || ''}"
                                   style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; font-family: 'Courier New', monospace;"
                                   placeholder="e.g., +65 1234 5678">
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Branch Code</label>
                            <input type="text" id="edit-branch-code-${bankId}" 
                                   value="${bank.branch_code || ''}"
                                   style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; font-family: 'Courier New', monospace;"
                                   placeholder="e.g., 001">
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div>
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">SWIFT Code</label>
                            <input type="text" id="edit-swift-code-${bankId}" 
                                   value="${bank.swift_code || ''}"
                                   style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; font-family: 'Courier New', monospace;"
                                   placeholder="e.g., DBSSSGSG">
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">IFSC Code</label>
                            <input type="text" id="edit-ifsc-code-${bankId}" 
                                   value="${bank.ifsc_code || ''}"
                                   style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; font-family: 'Courier New', monospace;"
                                   placeholder="e.g., DBSB0000001">
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Account Type</label>
                            <select id="edit-account-type-${bankId}" 
                                    style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px;">
                                <option value="CURRENT" ${bank.account_type === 'CURRENT' ? 'selected' : ''}>Current Account</option>
                                <option value="SAVINGS" ${bank.account_type === 'SAVINGS' ? 'selected' : ''}>Savings Account</option>
                            </select>
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">File Format</label>
                            <select id="edit-file-format-${bankId}" 
                                    style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px;">
                                <option value="GENERIC" ${bank.file_format === 'GENERIC' ? 'selected' : ''}>GENERIC</option>
                                <option value="DBS" ${bank.file_format === 'DBS' ? 'selected' : ''}>DBS</option>
                                <option value="OCBC" ${bank.file_format === 'OCBC' ? 'selected' : ''}>OCBC</option>
                                <option value="RHB" ${bank.file_format === 'RHB' ? 'selected' : ''}>RHB</option>
                                <option value="UOB" ${bank.file_format === 'UOB' ? 'selected' : ''}>UOB</option>
                                <option value="MAY" ${bank.file_format === 'MAY' ? 'selected' : ''}>MAY</option>
                            </select>
                        </div>
                        
                        <!-- Chart of Account Dropdown -->
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Chart Of Account *</label>
                            <select id="edit-chart-account-${bankId}" 
                                    style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px;">
                                <option value="">Loading chart accounts...</option>
                                <option value="${bank.chart_account_id}" selected>${bank.chart_account_code || 'Loading...'} - ${bank.chart_account_name || ''}</option>
                            </select>
                        </div>
                        
                        <!-- Currency Dropdown -->
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Currency *</label>
                            <select id="edit-currency-${bankId}" 
                                    style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px;">
                                <option value="">Loading currencies...</option>
                                <option value="${bank.currency_id}" selected>${bank.currency_code || 'Loading...'} - ${bank.currency_name || ''}</option>
                            </select>
                        </div>
                        
                        <!-- Bank Settings -->
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Bank Settings</label>
                            <div style="display: grid; grid-template-columns: 1fr; gap: 10px;">
                                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border: 1px solid #e2e8f0; border-radius: 5px;">
                                    <input type="checkbox" id="edit-is-active-${bankId}" ${bank.is_active !== false ? 'checked' : ''}>
                                    <div>
                                        <div style="font-weight: 600; color: var(--dark); font-size: 12px;">Is Active</div>
                                        <div style="color: #64748b; font-size: 11px;">Active banks appear in dropdowns</div>
                                    </div>
                                </label>
                                
                                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 8px; border: 1px solid #e2e8f0; border-radius: 5px;">
                                    <input type="checkbox" id="edit-is-default-${bankId}" ${bank.is_default ? 'checked' : ''}>
                                    <div>
                                        <div style="font-weight: 600; color: var(--dark); font-size: 12px;">Is Default</div>
                                        <div style="color: #64748b; font-size: 11px;">Default bank for transactions</div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Address Section -->
                <div style="margin-top: 20px; border-top: 1px solid #e2e8f0; padding-top: 20px;">
                    <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 14px; font-weight: 600;">
                        <i class="fas fa-map-marker-alt"></i> Address Details
                    </h4>
                    
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Address 1</label>
                            <input type="text" id="edit-address1-${bankId}" 
                                   value="${bank.address1 || ''}"
                                   style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px;"
                                   placeholder="Street address">
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Address 2</label>
                            <input type="text" id="edit-address2-${bankId}" 
                                   value="${bank.address2 || ''}"
                                   style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px;"
                                   placeholder="Apartment, suite, unit">
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Address 3</label>
                            <input type="text" id="edit-address3-${bankId}" 
                                   value="${bank.address3 || ''}"
                                   style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px;"
                                   placeholder="Landmark">
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">City</label>
                            <input type="text" id="edit-city-${bankId}" 
                                   value="${bank.city || ''}"
                                   style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px;"
                                   placeholder="City">
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Country</label>
                            <select id="edit-country-${bankId}" 
                                    style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px;">
                                <option value="Singapore" ${bank.country === 'Singapore' ? 'selected' : ''}>Singapore</option>
                                <option value="Malaysia" ${bank.country === 'Malaysia' ? 'selected' : ''}>Malaysia</option>
                                <option value="Brunei" ${bank.country === 'Brunei' ? 'selected' : ''}>Brunei</option>
                                <option value="Taiwan" ${bank.country === 'Taiwan' ? 'selected' : ''}>Taiwan</option>
                                <option value="India" ${bank.country === 'India' ? 'selected' : ''}>India</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); font-size: 12px;">Postal Code</label>
                            <input type="text" id="edit-postal-code-${bankId}" 
                                   value="${bank.postal_code || ''}"
                                   style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; font-family: 'Courier New', monospace;"
                                   placeholder="e.g., 123456">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    `;
                }
                async function loadAllBankDropdowns(bankId, bank) {
                    try {
                        console.log(`ðŸ”„ Loading dropdowns for bank ${bankId}`);

                        // Wait for DOM to be ready
                        let attempts = 0;
                        let chartAccountSelect, currencySelect;

                        while (attempts < 10) {
                            chartAccountSelect = document.getElementById(`edit-chart-account-${bankId}`);
                            currencySelect = document.getElementById(`edit-currency-${bankId}`);

                            if (chartAccountSelect && currencySelect) {
                                console.log('âœ… DOM elements found');
                                break;
                            }

                            await new Promise(resolve => setTimeout(resolve, 50));
                            attempts++;
                        }

                        if (!chartAccountSelect || !currencySelect) {
                            throw new Error('DOM elements not found after waiting');
                        }

                        // Load dropdowns in PARALLEL
                        await Promise.all([
                            loadChartAccountsForBankEdit(bankId, bank.chart_account_id),
                            loadCurrenciesForBankEdit(bankId, bank.currency_id)
                        ]);

                        console.log('âœ… All dropdowns loaded successfully');

                    } catch (error) {
                        console.error('âŒ Dropdown load error:', error);
                        showStatusMessage('âš ï¸ Some dropdowns failed to load', 'warning');
                    }
                }

                // Load chart accounts for bank edit
                async function loadChartAccountsForBankEdit(bankId, selectedChartAccountId) {
                    try {
                        console.log(`ðŸ“Š Loading chart accounts, selecting: ${selectedChartAccountId}`);

                        const select = document.getElementById(`edit-chart-account-${bankId}`);
                        if (!select) {
                            console.error('âŒ Chart account select element not found');
                            return;
                        }

                        // First, show loading state
                        select.innerHTML = '<option value="">Loading chart accounts...</option>';

                        // Try endpoints with TIMEOUT
                        const endpoints = [
                            'http://localhost:5000/api/accounts/bank-dropdown',
                            'http://localhost:5000/api/accounts/for-bank',
                            '/api/accounts/bank-dropdown',
                            '/api/accounts/for-bank'
                        ];

                        let accounts = [];
                        let success = false;

                        // Try each endpoint with timeout
                        for (const endpoint of endpoints) {
                            try {
                                console.log(`ðŸ” Trying: ${endpoint}`);

                                const controller = new AbortController();
                                const timeoutId = setTimeout(() => controller.abort(), 3000);

                                const response = await fetch(endpoint, {
                                    signal: controller.signal
                                });

                                clearTimeout(timeoutId);

                                if (response.ok) {
                                    const result = await response.json();
                                    if (result.success && result.data) {
                                        accounts = result.data;
                                        console.log(`âœ… Loaded ${accounts.length} accounts from ${endpoint}`);
                                        success = true;
                                        break;
                                    }
                                }
                            } catch (err) {
                                console.log(`âŒ ${endpoint} failed: ${err.name === 'AbortError' ? 'Timeout' : err.message}`);
                                continue;
                            }
                        }

                        // If API fails, use hardcoded accounts
                        if (!success || accounts.length === 0) {
                            console.log('âš ï¸ API failed, using hardcoded accounts');
                            accounts = getHardcodedChartAccounts();
                        }

                        // Populate dropdown
                        select.innerHTML = '<option value="">Select Chart of Account</option>';

                        // Separate placeholders and non-placeholders
                        const placeholders = accounts.filter(acc => acc.is_placeholder);
                        const nonPlaceholders = accounts.filter(acc => !acc.is_placeholder);

                        // Add placeholder groups (as disabled options)
                        placeholders.forEach(account => {
                            const option = document.createElement('option');
                            option.value = account.account_id;
                            option.textContent = `ðŸ“ ${account.account_code} - ${account.account_name}`;
                            option.disabled = true;
                            option.style.fontWeight = 'bold';
                            option.style.color = '#1e40af';
                            option.style.backgroundColor = '#f0f9ff';
                            select.appendChild(option);
                        });

                        // Add non-placeholder accounts (selectable)
                        nonPlaceholders.forEach(account => {
                            const option = document.createElement('option');
                            option.value = account.account_id;

                            // Add indentation for hierarchy
                            const level = account.root_level || 0;
                            const indent = 'â€ƒ'.repeat(level);
                            option.textContent = `${indent}${account.account_code} - ${account.account_name}`;

                            // Select if matches
                            if (account.account_id == selectedChartAccountId) {
                                option.selected = true;
                                console.log(`âœ… Selected chart account: ${account.account_code}`);
                            }

                            // Highlight BANK type accounts
                            if (account.account_type === 'BANK') {
                                option.style.fontWeight = '600';
                                option.style.color = '#059669';
                            }

                            select.appendChild(option);
                        });

                        // Final fallback: If nothing selected, select first non-placeholder option
                        if (!select.value && nonPlaceholders.length > 0) {
                            select.value = nonPlaceholders[0].account_id;
                        }

                        console.log(`âœ… Chart account dropdown loaded with ${accounts.length} options`);

                    } catch (error) {
                        console.error('âŒ Chart account load error:', error);

                        // Ultimate fallback
                        const select = document.getElementById(`edit-chart-account-${bankId}`);
                        if (select && select.options.length <= 1) {
                            select.innerHTML = `
                <option value="">Select Chart of Account</option>
                <option value="1">1-2001 - Cash in Hand</option>
                <option value="2">1-2002-001 - DBS Bank</option>
                <option value="3">1-2002-002 - OCBC Bank</option>
                <option value="4">1-2002-003 - UOB Bank</option>
            `;

                            if (selectedChartAccountId) {
                                setTimeout(() => {
                                    select.value = selectedChartAccountId;
                                }, 100);
                            }
                        }
                    }
                }
                async function loadCurrenciesForBankEdit(bankId, selectedCurrencyId) {
                    try {
                        console.log(`ðŸ’° Loading currencies, selecting: ${selectedCurrencyId}`);

                        const select = document.getElementById(`edit-currency-${bankId}`);
                        if (!select) {
                            console.error('âŒ Currency select element not found');
                            return;
                        }

                        // First, show loading state
                        select.innerHTML = '<option value="">Loading currencies...</option>';

                        // Try endpoints with TIMEOUT
                        const endpoints = [
                            'http://localhost:5000/api/currencies/active',
                            'http://localhost:5000/api/currencies',
                            '/api/currencies/active',
                            '/api/currencies'
                        ];

                        let currencies = [];
                        let success = false;

                        // Try each endpoint with timeout
                        for (const endpoint of endpoints) {
                            try {
                                console.log(`ðŸ” Trying: ${endpoint}`);

                                const controller = new AbortController();
                                const timeoutId = setTimeout(() => controller.abort(), 3000);

                                const response = await fetch(endpoint, {
                                    signal: controller.signal
                                });

                                clearTimeout(timeoutId);

                                if (response.ok) {
                                    const result = await response.json();
                                    if (result.success && result.data) {
                                        currencies = result.data;
                                        console.log(`âœ… Loaded ${currencies.length} currencies from ${endpoint}`);
                                        success = true;
                                        break;
                                    }
                                }
                            } catch (err) {
                                console.log(`âŒ ${endpoint} failed: ${err.name === 'AbortError' ? 'Timeout' : err.message}`);
                                continue;
                            }
                        }

                        // If API fails, use hardcoded currencies
                        if (!success || currencies.length === 0) {
                            console.log('âš ï¸ API failed, using hardcoded currencies');
                            currencies = getHardcodedCurrencies();
                        }

                        // Populate dropdown
                        select.innerHTML = '<option value="">Select Currency</option>';

                        currencies.forEach(currency => {
                            const currencyId = currency.currency_id || currency.id;
                            const currencyCode = currency.currency_code || currency.code || 'USD';
                            const currencyName = currency.currency_name || currency.name || 'US Dollar';

                            const option = document.createElement('option');
                            option.value = currencyId;
                            option.textContent = `${currencyCode} - ${currencyName}`;

                            // Select if matches
                            if (currencyId == selectedCurrencyId) {
                                option.selected = true;
                                console.log(`âœ… Selected currency: ${currencyCode}`);
                            }

                            // Select default if nothing selected
                            if (!select.value && (currency.is_default || currency.default)) {
                                option.selected = true;
                            }

                            select.appendChild(option);
                        });

                        // Final fallback: If nothing selected, select first option
                        if (!select.value && select.options.length > 1) {
                            select.options[1].selected = true;
                        }

                        console.log(`âœ… Currency dropdown loaded with ${select.options.length} options`);

                    } catch (error) {
                        console.error('âŒ Currency load error:', error);

                        // Ultimate fallback
                        const select = document.getElementById(`edit-currency-${bankId}`);
                        if (select && select.options.length <= 1) {
                            select.innerHTML = `
                <option value="">Select Currency</option>
                <option value="1">SGD - Singapore Dollar</option>
                <option value="2">USD - US Dollar</option>
                <option value="3">EUR - Euro</option>
                <option value="4">MYR - Malaysian Ringgit</option>
                <option value="5">INR - Indian Rupee</option>
            `;

                            if (selectedCurrencyId) {
                                setTimeout(() => {
                                    select.value = selectedCurrencyId;
                                }, 100);
                            }
                        }
                    }
                }
                function setupBankEditFormListeners(bankId) {
                    console.log(`ðŸ”— Setting up listeners for bank ${bankId}`);

                    // Back button
                    const backBtn = document.querySelector('.bank-edit-back-btn');
                    if (backBtn) {
                        backBtn.addEventListener('click', () => {
                            updatePageContent('accounts-settings-bank');
                        });
                    }

                    // Update button
                    const updateBtn = document.querySelector('.update-bank-btn');
                    if (updateBtn) {
                        updateBtn.addEventListener('click', () => {
                            updateBank(bankId);
                        });
                    }

                    // Auto-fill display name from bank name
                    const bankNameInput = document.getElementById(`edit-bank-name-${bankId}`);
                    const displayNameInput = document.getElementById(`edit-display-name-${bankId}`);

                    if (bankNameInput && displayNameInput) {
                        bankNameInput.addEventListener('blur', function () {
                            if (!displayNameInput.value) {
                                displayNameInput.value = this.value;
                            }
                        });
                    }

                    console.log('âœ… Bank edit event listeners setup complete');
                }

                // Update bank function
                async function updateBank(bankId) {
                    try {
                        // Collect form data with UNIQUE IDs
                        const updateData = {
                            bank_name: document.getElementById(`edit-bank-name-${bankId}`).value.trim(),
                            display_name: document.getElementById(`edit-display-name-${bankId}`).value.trim(),
                            account_number: document.getElementById(`edit-account-number-${bankId}`).value.trim() || null,
                            beneficiary_name: document.getElementById(`edit-beneficiary-name-${bankId}`).value.trim() || null,
                            phone_number: document.getElementById(`edit-phone-number-${bankId}`).value.trim() || null,
                            branch_code: document.getElementById(`edit-branch-code-${bankId}`).value.trim() || null,
                            swift_code: document.getElementById(`edit-swift-code-${bankId}`).value.trim() || null,
                            ifsc_code: document.getElementById(`edit-ifsc-code-${bankId}`).value.trim() || null,
                            account_type: document.getElementById(`edit-account-type-${bankId}`).value,
                            file_format: document.getElementById(`edit-file-format-${bankId}`).value,
                            chart_account_id: document.getElementById(`edit-chart-account-${bankId}`).value,
                            address1: document.getElementById(`edit-address1-${bankId}`).value.trim() || null,
                            address2: document.getElementById(`edit-address2-${bankId}`).value.trim() || null,
                            address3: document.getElementById(`edit-address3-${bankId}`).value.trim() || null,
                            city: document.getElementById(`edit-city-${bankId}`).value.trim() || null,
                            country: document.getElementById(`edit-country-${bankId}`).value,
                            postal_code: document.getElementById(`edit-postal-code-${bankId}`).value.trim() || null,
                            currency_id: document.getElementById(`edit-currency-${bankId}`).value,
                            is_active: document.getElementById(`edit-is-active-${bankId}`).checked,
                            is_default: document.getElementById(`edit-is-default-${bankId}`).checked,
                            updated_by: 'admin'
                        };

                        console.log('ðŸ“‹ Update data for bank', bankId, ':', updateData);

                        // Validation
                        if (!updateData.bank_name) {
                            throw new Error('Bank name is required');
                        }

                        if (!updateData.display_name) {
                            throw new Error('Display name is required');
                        }

                        if (!updateData.chart_account_id) {
                            throw new Error('Chart of account is required');
                        }

                        if (!updateData.currency_id) {
                            throw new Error('Currency is required');
                        }

                        // Convert IDs to numbers
                        updateData.currency_id = parseInt(updateData.currency_id);
                        updateData.chart_account_id = parseInt(updateData.chart_account_id);

                        if (isNaN(updateData.currency_id)) {
                            throw new Error('Invalid currency selected');
                        }

                        if (isNaN(updateData.chart_account_id)) {
                            throw new Error('Invalid chart account selected');
                        }

                        // Show loading
                        const updateBtn = document.querySelector('.update-bank-btn');
                        if (updateBtn) {
                            updateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Updating...';
                            updateBtn.disabled = true;
                        }

                        // Send to API
                        const response = await fetch(`http://localhost:5000/api/banks/${bankId}`, {
                            method: 'PUT',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(updateData)
                        });

                        const result = await response.json();

                        if (response.ok && result.success) {
                            showStatusMessage(`âœ… Bank updated successfully!`, 'success');

                            // Go back after delay
                            setTimeout(() => {
                                updatePageContent('accounts-settings-bank');
                            }, 1500);

                        } else {
                            throw new Error(result.error || 'Failed to update bank');
                        }

                    } catch (error) {
                        console.error('âŒ Update error:', error);
                        showStatusMessage(`âŒ Update failed: ${error.message}`, 'error');

                        // Reset button
                        const updateBtn = document.querySelector('.update-bank-btn');
                        if (updateBtn) {
                            updateBtn.innerHTML = '<i class="fas fa-save"></i> Update Bank';
                            updateBtn.disabled = false;
                        }
                    }
                }

                // ============= HELPER FUNCTIONS =============

                function getHardcodedChartAccounts() {
                    return [
                        { account_id: 1, account_code: '1-1000', account_name: 'ASSETS', is_placeholder: true, root_level: 0 },
                        { account_id: 2, account_code: '1-2000', account_name: 'CURRENT ASSETS', is_placeholder: true, root_level: 1 },
                        { account_id: 3, account_code: '1-2001', account_name: 'Cash in Hand', is_placeholder: false, account_type: 'CASH', root_level: 2 },
                        { account_id: 4, account_code: '1-2002', account_name: 'Bank Accounts', is_placeholder: true, root_level: 2 },
                        { account_id: 5, account_code: '1-2002-001', account_name: 'DBS Current Account', is_placeholder: false, account_type: 'BANK', root_level: 3 },
                        { account_id: 6, account_code: '1-2002-002', account_name: 'OCBC Savings Account', is_placeholder: false, account_type: 'BANK', root_level: 3 },
                        { account_id: 7, account_code: '1-2002-003', account_name: 'UOB Bank Account', is_placeholder: false, account_type: 'BANK', root_level: 3 }
                    ];
                }

                function getHardcodedCurrencies() {
                    return [
                        { currency_id: 1, currency_code: 'SGD', currency_name: 'Singapore Dollar', is_default: true },
                        { currency_id: 2, currency_code: 'USD', currency_name: 'US Dollar', is_default: false },
                        { currency_id: 3, currency_code: 'EUR', currency_name: 'Euro', is_default: false },
                        { currency_id: 4, currency_code: 'MYR', currency_name: 'Malaysian Ringgit', is_default: false },
                        { currency_id: 5, currency_code: 'INR', currency_name: 'Indian Rupee', is_default: false }
                    ];
                }
                // Delete bank
                async function hardDeleteBank(bankId, bankCode) {
                    try {
                        console.log(`ðŸ’€ Hard deleting bank ${bankCode}`);

                        // Final confirmation for hard delete
                        const finalConfirm = confirm(`ðŸš¨ FINAL WARNING!\n\nYou are about to PERMANENTLY DELETE:\n${bankCode}\n\nThis action CANNOT BE UNDONE!\n\nType "DELETE" to confirm:`);

                        if (!finalConfirm) {
                            showStatusMessage('âŒ Hard delete cancelled', 'info');
                            return;
                        }

                        // Show loading
                        showStatusMessage('ðŸ”„ Permanently deleting bank...', 'warning');

                        const response = await fetch(`http://localhost:5000/api/banks/${bankId}/hard`, {
                            method: 'DELETE'
                        });

                        const result = await response.json();

                        if (response.ok && result.success) {
                            showStatusMessage(`âœ… Bank "${bankCode}" permanently deleted`, 'success');
                            setTimeout(() => loadBanks(), 1000);
                        } else {
                            throw new Error(result.error || 'Hard delete failed');
                        }

                    } catch (error) {
                        console.error('âŒ Hard delete error:', error);
                        alert('âŒ Hard Delete Failed: ' + error.message);
                    }
                }

                // Export banks
                function exportBanks() {
                    console.log('ðŸ“¤ Exporting banks...');
                    alert('Export functionality coming soon!');
                }

                // Render empty table
                function renderEmptyBanksTable() {
                    const tbody = document.querySelector('.banks-table tbody');
                    if (!tbody) return;

                    tbody.innerHTML = `
        <tr>
            <td colspan="6" style="padding: 40px; text-align: center; color: #64748b;">
                <div style="margin-bottom: 10px;">
                    <i class="fas fa-university" style="font-size: 48px; color: #cbd5e1;"></i>
                </div>
                <div style="font-size: 16px; font-weight: 500; margin-bottom: 5px;">
                    No banks found
                </div>
                <div style="font-size: 14px;">
                    ${banksSearch ? 'Try adjusting your search or filters' : 'Click "Create Bank" to add your first bank'}
                </div>
            </td>
        </tr>
    `;
                }

                // Auto-initialize banks management
                document.addEventListener('DOMContentLoaded', function () {
                    if (document.querySelector('.banks-management')) {
                        console.log('ðŸ¦ Banks Management page detected');
                        initBanksManagement();
                    }
                });
                document.addEventListener('DOMContentLoaded', function () {
                    // Check if we're on a bank view page (URL might have bank ID)
                    const urlParams = new URLSearchParams(window.location.hash.substring(1));
                    const bankId = urlParams.get('bankId');

                    if (bankId && document.querySelector('.bank-view-form')) {
                        console.log('ðŸ¦ Bank View page detected');
                        // Listeners will be attached by viewBank function
                    }
                });
                // Observe dynamic page changes
                const banksObserver = new MutationObserver(function (mutations) {
                    mutations.forEach(function (mutation) {
                        if (mutation.target.id === 'page-content' &&
                            document.querySelector('.banks-management')) {
                            console.log('ðŸ”„ Banks Management loaded dynamically');
                            setTimeout(initBanksManagement, 100);
                        }
                    });
                });

                if (document.getElementById('page-content')) {
                    banksObserver.observe(document.getElementById('page-content'), {
                        childList: true,
                        subtree: true
                    });
                }
                // Ini browser refresh analum current section-ah maintain pannuvom
                // Ini browser refresh analum current section-ah maintain pannuvom
                window.addEventListener('DOMContentLoaded', function () {
                    const savedPage = localStorage.getItem('currentPage') || 'home';

                    // IMPORTANT: Clear all active classes first
                    document.querySelectorAll('.nav-item.active, .dropdown-item.active').forEach(item => {
                        item.classList.remove('active');
                    });

                    updatePageContent(savedPage);

                    // Active menu item-ah highlight pannu
                    const navItems = document.querySelectorAll('.nav-item, .dropdown-item');
                    navItems.forEach(item => {
                        if (item.getAttribute('data-page') === savedPage) {
                            item.classList.add('active');

                            // ðŸ”¥ IMPORTANT: Open parent dropdown if exists
                            let parentLi = item.closest('.dropdown-menu');
                            if (parentLi) {
                                parentLi.classList.add('show');

                                // Find and activate the dropdown toggle
                                const dropdownId = parentLi.id.replace('-dropdown', '');
                                const toggleBtn = document.querySelector(`[data-toggle="${dropdownId}"]`);
                                if (toggleBtn) {
                                    toggleBtn.classList.add('active');
                                }
                            }
                        }
                    });

                    // ðŸ”¥ EXTRA: Also open any nested dropdown
                    const activeItem = document.querySelector(`[data-page="${savedPage}"]`);
                    if (activeItem) {
                        let nestedDropdown = activeItem.closest('.nested-dropdown');
                        if (nestedDropdown) {
                            nestedDropdown.classList.add('show');
                            const nestedToggle = document.querySelector(`[data-toggle="${nestedDropdown.id.replace('-dropdown', '')}"]`);
                            if (nestedToggle) nestedToggle.classList.add('active');
                        }
                    }
                });
                window.addEventListener('DOMContentLoaded', function () {
                    // HRMS-à®•à¯à®•à¯ à®¤à®©à®¿ key use à®ªà®£à¯à®£à¯à®™à¯à®•à®³à¯
                    const savedPage = localStorage.getItem('hrmsCurrentPage') || 'home';

                    // IMPORTANT: Clear all active classes first
                    document.querySelectorAll('.nav-item.active, .dropdown-item.active').forEach(item => {
                        item.classList.remove('active');
                    });

                    updatePageContent(savedPage);

                    // Active menu item-à® highlight à®ªà®£à¯à®£à¯à®™à¯à®•à®³à¯
                    const navItems = document.querySelectorAll('.nav-item, .dropdown-item');
                    navItems.forEach(item => {
                        if (item.getAttribute('data-page') === savedPage) {
                            item.classList.add('active');

                            // Parent dropdown-à® open à®ªà®£à¯à®£à¯à®™à¯à®•à®³à¯
                            let parentLi = item.closest('.dropdown-menu');
                            if (parentLi) {
                                parentLi.classList.add('show');

                                const dropdownId = parentLi.id.replace('-dropdown', '');
                                const toggleBtn = document.querySelector(`[data-toggle="${dropdownId}"]`);
                                if (toggleBtn) {
                                    toggleBtn.classList.add('active');
                                }
                            }
                        }
                    });

                    // Nested dropdown-à® open à®ªà®£à¯à®£à¯à®™à¯à®•à®³à¯
                    const activeItem = document.querySelector(`[data-page="${savedPage}"]`);
                    if (activeItem) {
                        let nestedDropdown = activeItem.closest('.nested-dropdown');
                        if (nestedDropdown) {
                            nestedDropdown.classList.add('show');
                            const nestedToggle = document.querySelector(`[data-toggle="${nestedDropdown.id.replace('-dropdown', '')}"]`);
                            if (nestedToggle) nestedToggle.classList.add('active');
                        }
                    }
                });
                // ============= PAGE NAVIGATION =============
                document.querySelector('.nav-item[data-page="home"]').classList.add('active');
                updatePageContent('home');
                function updatePageContent(page) {
                    sessionStorage.setItem('currentPage', page);
                    window.location.hash = page;

                    // ALWAYS SHOW FIXED COMPANY NAME - NO SECTION NAMES
                    const companyName = 'UniproSG Pvt Ltd';
                    let heading = 'UniproSG Pvt Ltd';
                    let title = 'UniproSG Pvt Ltd';
                    let content = '';

                    const pageContents = {
                        'home': {
                            heading: 'Dashboard',
                            title: 'Dashboard Overview',
                            content: `
        <div class="dashboard-container"> 
            <div class="stats-grid" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 30px;">
                <div class="stats-card" style="background: white; padding: 25px; border-radius: 12px; border: 1px solid #e2e8f0; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h3 style="margin: 0; color: #64748b; font-size: 16px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Employees</h3>
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #3b82f6, #1d4ed8); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-users" style="color: white; font-size: 20px;"></i>
                        </div>
                    </div>
                    <div style="display: flex; align-items: baseline; gap: 10px;">
                        <span style="font-size: 32px; font-weight: 700; color: #1e293b;">1,234</span>
                        <span style="color: #10b981; font-size: 14px; font-weight: 600;">+12%</span>
                    </div>
                    <p style="margin: 8px 0 0 0; color: #64748b; font-size: 14px;">Total Active Employees</p>
                </div>
                <div class="stats-card" style="background: white; padding: 25px; border-radius: 12px; border: 1px solid #e2e8f0; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h3 style="margin: 0; color: #64748b; font-size: 16px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Earnings</h3>
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #10b981, #047857); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-chart-line" style="color: white; font-size: 20px;"></i>
                        </div>
                    </div>
                    <div style="display: flex; align-items: baseline; gap: 10px;">
                        <span style="font-size: 32px; font-weight: 700; color: #1e293b;">$84.5K</span>
                        <span style="color: #10b981; font-size: 14px; font-weight: 600;">+8.2%</span>
                    </div>
                    <p style="margin: 8px 0 0 0; color: #64748b; font-size: 14px;">This Month</p>
                </div>
                <div class="stats-card" style="background: white; padding: 25px; border-radius: 12px; border: 1px solid #e2e8f0; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h3 style="margin: 0; color: #64748b; font-size: 16px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Leave</h3>
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #f59e0b, #d97706); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-calendar-alt" style="color: white; font-size: 20px;"></i>
                        </div>
                    </div>
                    <div style="display: flex; align-items: baseline; gap: 10px;">
                        <span style="font-size: 32px; font-weight: 700; color: #1e293b;">42</span>
                        <span style="color: #ef4444; font-size: 14px; font-weight: 600;">-5%</span>
                    </div>
                    <p style="margin: 8px 0 0 0; color: #64748b; font-size: 14px;">Pending Requests</p>
                </div>
                <div class="stats-card" style="background: white; padding: 25px; border-radius: 12px; border: 1px solid #e2e8f0; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h3 style="margin: 0; color: #64748b; font-size: 16px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Pay</h3>
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #8b5cf6, #7c3aed); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-money-bill-wave" style="color: white; font-size: 20px;"></i>
                        </div>
                    </div>
                    <div style="display: flex; align-items: baseline; gap: 10px;">
                        <span style="font-size: 32px; font-weight: 700; color: #1e293b;">$156K</span>
                        <span style="color: #10b981; font-size: 14px; font-weight: 600;">+15.3%</span>
                    </div>
                    <p style="margin: 8px 0 0 0; color: #64748b; font-size: 14px;">Total Processed</p>
                </div>
            </div>
            <div class="bottom-sections" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div class="section-card" style="background: white; padding: 25px; border-radius: 12px; border: 1px solid #e2e8f0; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                    <h3 style="margin: 0 0 20px 0; color: #1e293b; font-size: 18px; font-weight: 700;">Payroll Summary</h3>
                    <div style="color: #64748b; font-size: 14px; line-height: 1.6;">
                        <p style="margin: 0 0 15px 0;">â€¢ Total Payroll Processed: <strong>$156,000</strong></p>
                        <p style="margin: 0 0 15px 0;">â€¢ Employees Paid: <strong>1,234</strong></p>
                        <p style="margin: 0 0 15px 0;">â€¢ Average Salary: <strong>$4,250</strong></p>
                        <p style="margin: 0;">â€¢ Next Payroll: <strong>Nov 30, 2025</strong></p>
                    </div>
                </div>
                <div class="section-card" style="background: white; padding: 25px; border-radius: 12px; border: 1px solid #e2e8f0; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h3 style="margin: 0; color: #1e293b; font-size: 18px; font-weight: 700;">Notification</h3>
                        <a href="#" style="color: #3b82f6; text-decoration: none; font-size: 14px; font-weight: 600; display: flex; align-items: center; gap: 5px;">
                            View All Notification <i class="fas fa-chevron-right" style="font-size: 12px;"></i>
                        </a>
                    </div>
                    <div style="color: #64748b; font-size: 14px;">
                        <div style="padding: 12px 0; border-bottom: 1px solid #f1f5f9;">
                            <p style="margin: 0; font-weight: 600; color: #1e293b;">New leave request from John Doe</p>
                            <p style="margin: 5px 0 0 0; font-size: 13px;">2 hours ago</p>
                        </div>
                        <div style="padding: 12px 0; border-bottom: 1px solid #f1f5f9;">
                            <p style="margin: 0; font-weight: 600; color: #1e293b;">Payroll processed successfully</p>
                            <p style="margin: 5px 0 0 0; font-size: 13px;">1 day ago</p>
                        </div>
                        <div style="padding: 12px 0;">
                            <p style="margin: 0; font-weight: 600; color: #1e293b;">5 new employees added</p>
                            <p style="margin: 5px 0 0 0; font-size: 13px;">2 days ago</p>
                        </div>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 40px; padding: 20px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025 -2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'customer': {
                            heading: 'Customers',
                            title: 'Customers',
                            content: `
        <div class="customer-management">
            <!-- Action Buttons -->
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" onclick="updatePageContent('customer-create')" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Add Customer
                    </button>
                    <button class="btn btn-outline" onclick="importExcel()" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-file-excel"></i> Import Excel
                    </button>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" onclick="refreshCustomers()" id="refresh-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" onclick="showSettings()" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>
            </div>
            
            <!-- Filters Section -->
            <div class="filters-section" style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <!-- Search Box -->
                    <div class="search-box" style="position: relative; flex: 1; min-width: 200px;">
                        <i class="fas fa-search" style="position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 14px;"></i>
                        <input type="text" id="customer-search" placeholder="Search" style="padding: 8px 12px 8px 35px; border: 1px solid #d1d5db; border-radius: 6px; width: 100%; font-size: 14px; background: #f8fafc;" 
                               onkeyup="searchCustomers()">
                    </div>
                    
                    <!-- Status Filter -->
                    <select id="status-filter" style="padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; min-width: 120px;" onchange="applyFilters()">
                        <option value="all">All Status</option>
                        <option value="active">Active</option>
                        <option value="inactive">Inactive</option>
                        <option value="blocked">Blocked</option>
                    </select>
                    
                    <!-- Salesman Filter -->
                    <select id="salesman-filter" style="padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; min-width: 150px;" onchange="applyFilters()">
                        <option value="all">All Salesmen</option>
                        <!-- Will be populated by JavaScript -->
                    </select>
                    
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <button class="btn btn-outline" onclick="applyFilters()" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 14px;">
                            <i class="fas fa-filter"></i> Filter
                        </button>
                        <button class="btn btn-outline" onclick="exportCustomers()" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 14px;">
                            <i class="fas fa-download"></i> Export
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Customers Table -->
            <div class="table-container" style="background: white; border-radius: 8px; border: 1px solid #e2e8f0; overflow: hidden;">
                <table class="customer-table" style="width: 100%; border-collapse: collapse;">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="width: 40px; padding: 12px; text-align: left; font-weight: 600; color: #475569; border-bottom: 2px solid #e2e8f0;">
                                <input type="checkbox" id="select-all" onchange="toggleSelectAll()">
                            </th>
                            <th style="width: 80px; padding: 12px; text-align: left; font-weight: 600; color: #475569; border-bottom: 2px solid #e2e8f0;">Code</th>
                            <th style="padding: 12px; text-align: left; font-weight: 600; color: #475569; border-bottom: 2px solid #e2e8f0;">Name</th>
                            <th style="width: 100px; padding: 12px; text-align: left; font-weight: 600; color: #475569; border-bottom: 2px solid #e2e8f0;">Currency</th>
                            <th style="width: 200px; padding: 12px; text-align: left; font-weight: 600; color: #475569; border-bottom: 2px solid #e2e8f0;">Contact Name/Number</th>
                            <th style="width: 120px; padding: 12px; text-align: right; font-weight: 600; color: #475569; border-bottom: 2px solid #e2e8f0;">Credit Limit</th>
                            <th style="width: 120px; padding: 12px; text-align: right; font-weight: 600; color: #475569; border-bottom: 2px solid #e2e8f0;">Credit On Hold</th>
                            <th style="width: 80px; padding: 12px; text-align: center; font-weight: 600; color: #475569; border-bottom: 2px solid #e2e8f0;">Options</th>
                        </tr>
                    </thead>
                    <tbody id="customers-tbody">
                        <!-- Data will be loaded dynamically -->
                        <tr>
                            <td colspan="8" style="text-align: center; padding: 40px; color: #64748b;">
                                <div class="loading-spinner">
                                    <i class="fas fa-spinner fa-spin fa-2x" style="color: var(--primary);"></i>
                                    <p style="margin-top: 10px;">Loading customers...</p>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- Pagination -->
            <div class="pagination" id="pagination-controls" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                    Loading...
                </div>
                <div class="pagination-buttons" style="display: flex; gap: 5px;">
                    <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer;">1</button>
                    <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">2</button>
                    <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">3</button>
                    <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'customer-create': {
                            heading: 'Customer Create',
                            title: 'Customer Create',
                            content: `
        <div class="customer-create-form">
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding: 10px 0; border-bottom: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 8px;">
                    <button class="btn btn-primary" onclick="saveCustomerNow()" style="padding: 6px 16px; background: var(--primary); color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500; font-size: 13px;">
                        Save & Close
                    </button>
                    <button class="btn btn-outline" onclick="updatePageContent('customers')" style="padding: 6px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 4px; cursor: pointer; font-weight: 500; font-size: 13px;">
                        Back
                    </button>
                </div>
            </div>
            
            <!-- Basic Information - WITH NAME ATTRIBUTES -->
            <div style="margin-bottom: 20px; border: 1px solid #d1d5db; border-radius: 4px; padding: 15px; background: white;">
                <div style="display: flex; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #e2e8f0; padding-bottom: 8px;">
                    <h2 style="color: var(--dark); font-size: 14px; font-weight: 600; margin: 0;">Basic Information</h2>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0;">
                    <!-- LEFT COLUMN -->
                    <div style="padding-right: 15px; border-right: 1px solid #e2e8f0;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Code*</span>
                                <input type="text" name="customer_code" value="0121" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Name*</span>
                                <input type="text" name="customer_name" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Alias</span>
                                <input type="text" name="alias" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Comp. Reg. No.</span>
                                <input type="text" name="company_reg_no" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">GST Reg.</span>
                                <input type="text" name="gst_reg" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">GST Type</span>
                                <select name="gst_type" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px; background: white;">
                                    <option value="Exclusive">Exclusive</option>
                                    <option value="Inclusive">Inclusive</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- RIGHT COLUMN -->
                    <div style="padding-left: 15px;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Active</span>
                                <div style="flex: 1; display: flex; align-items: center;">
                                    <input type="checkbox" name="is_active" checked style="transform: scale(1.1); margin-right: 6px;">
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Currency</span>
                                <select name="currency" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px; background: white;">
                                    <option value="SGD">SGD</option>
                                    <option value="USD">USD</option>
                                    <option value="EUR">EUR</option>
                                </select>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Credit Limit</span>
                                <input type="text" name="credit_limit" value="0.00" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px; text-align: right;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">HQ Customer</span>
                                <div style="flex: 1; display: flex; align-items: center;">
                                    <input type="checkbox" name="is_hq_customer" style="transform: scale(1.1); margin-right: 6px;">
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Blocked</span>
                                <div style="flex: 1; display: flex; align-items: center;">
                                    <input type="checkbox" name="is_blocked" style="transform: scale(1.1); margin-right: 6px;">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Credit Terms - WITH NAME ATTRIBUTES -->
            <div style="margin-bottom: 20px; border: 1px solid #d1d5db; border-radius: 4px; padding: 15px; background: white;">
                <div style="display: flex; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #e2e8f0; padding-bottom: 8px;">
                    <h2 style="color: var(--dark); font-size: 14px; font-weight: 600; margin: 0;">Credit Terms</h2>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0;">
                    <!-- LEFT COLUMN -->
                    <div style="padding-right: 15px; border-right: 1px solid #e2e8f0;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Terms</span>
                                <select name="credit_terms" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px; background: white;">
                                    <option value="7 Days">7 Days</option>
                                    <option value="14 Days">14 Days</option>
                                    <option value="30 Days" selected>30 Days</option>
                                    <option value="60 Days">60 Days</option>
                                </select>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Bank</span>
                                <input type="text" name="bank" value="MB-MAY BANK" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Bank Name</span>
                                <input type="text" name="bank_name" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                    </div>
                    
                    <!-- RIGHT COLUMN -->
                    <div style="padding-left: 15px;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Tolerance</span>
                                <select name="tolerance" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px; background: white;">
                                    <option value="7 Days" selected>7 Days</option>
                                    <option value="14 Days">14 Days</option>
                                    <option value="30 Days">30 Days</option>
                                </select>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Bank Acct. No.</span>
                                <input type="text" name="bank_account_no" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Website</span>
                                <input type="text" name="website" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings - WITH NAME ATTRIBUTES -->
            <div style="margin-bottom: 20px; border: 1px solid #d1d5db; border-radius: 4px; padding: 15px; background: white;">
                <div style="display: flex; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #e2e8f0; padding-bottom: 8px;">
                    <h2 style="color: var(--dark); font-size: 14px; font-weight: 600; margin: 0;">Settings</h2>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0;">
                    <!-- LEFT COLUMN -->
                    <div style="padding-right: 15px; border-right: 1px solid #e2e8f0;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Rate Type</span>
                                <input type="text" name="rate_type" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">A/R Account*</span>
                                <input type="text" name="ar_account" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">HQ</span>
                                <input type="text" name="hq_reference" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                    </div>
                    
                    <!-- RIGHT COLUMN -->
                    <div style="padding-left: 15px;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Salesman</span>
                                <select name="salesman_id" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px; background: white;">
                                    <option value="">Choose Salesman</option>
                                    <option value="1">John Smith (SAL001)</option>
                                    <option value="2">Sarah Lee (SAL002)</option>
                                    <option value="3">David Tan (SAL003)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Schedule Day</span>
                                <select name="schedule_day" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px; background: white;">
                                    <option value="Sunday">Sunday</option>
                                    <option value="Monday" selected>Monday</option>
                                    <option value="Tuesday">Tuesday</option>
                                    <option value="Wednesday">Wednesday</option>
                                    <option value="Thursday">Thursday</option>
                                    <option value="Friday">Friday</option>
                                    <option value="Saturday">Saturday</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Address - WITH NAME ATTRIBUTES -->
            <div style="margin-bottom: 20px; border: 1px solid #d1d5db; border-radius: 4px; padding: 15px; background: white;">
                <div style="display: flex; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #e2e8f0; padding-bottom: 8px;">
                    <h2 style="color: var(--dark); font-size: 14px; font-weight: 600; margin: 0;">Address</h2>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0;">
                    <!-- LEFT COLUMN -->
                    <div style="padding-right: 15px; border-right: 1px solid #e2e8f0;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Address 1</span>
                                <input type="text" name="address_line1" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Address 2</span>
                                <input type="text" name="address_line2" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Address 3</span>
                                <input type="text" name="address_line3" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">City</span>
                                <input type="text" name="city" value="Singapore" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                    </div>
                    
                    <!-- RIGHT COLUMN -->
                    <div style="padding-left: 15px;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Postal Code*</span>
                                <input type="text" name="postal_code" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Country*</span>
                                <input type="text" name="country" value="Singapore" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Delivery Address</span>
                                <input type="text" name="delivery_address" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Delivery Country*</span>
                                <input type="text" name="delivery_country" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contact Details - WITH NAME ATTRIBUTES -->
            <div style="margin-bottom: 20px; border: 1px solid #d1d5db; border-radius: 4px; padding: 15px; background: white;">
                <div style="display: flex; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #e2e8f0; padding-bottom: 8px;">
                    <h2 style="color: var(--dark); font-size: 14px; font-weight: 600; margin: 0;">Contact Details</h2>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0;">
                    <!-- LEFT COLUMN -->
                    <div style="padding-right: 15px; border-right: 1px solid #e2e8f0;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Person 1</span>
                                <input type="text" name="contact_person1" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Phone No. 1</span>
                                <input type="text" name="phone1" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Email</span>
                                <input type="email" name="email" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                    </div>
                    
                    <!-- RIGHT COLUMN -->
                    <div style="padding-left: 15px;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Office No.</span>
                                <input type="text" name="office_phone" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Fax No.</span>
                                <input type="text" name="fax_number" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Contact No.</span>
                                <input type="text" name="contact_no" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Remarks - WITH NAME ATTRIBUTES -->
            <div style="margin-bottom: 20px; border: 1px solid #d1d5db; border-radius: 4px; padding: 15px; background: white;">
                <div style="display: flex; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #e2e8f0; padding-bottom: 8px;">
                    <h2 style="color: var(--dark); font-size: 14px; font-weight: 600; margin: 0;">Remarks</h2>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr; gap: 0;">
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; align-items: flex-start; margin-bottom: 6px;">
                            <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block; padding-top: 6px;">Customer Remarks</span>
                            <textarea name="customer_remarks" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; min-height: 60px; resize: vertical;"></textarea>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; align-items: flex-start; margin-bottom: 6px;">
                            <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block; padding-top: 6px;">Customer Note</span>
                            <textarea name="customer_note" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; min-height: 60px; resize: vertical;"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'customer-edit': {
                            heading: 'Edit Customer',
                            title: 'Edit Customer',
                            content: `
         <div class="customer-edit-form" id="customer-edit-page">
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding: 10px 0; border-bottom: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 8px;">
                    <button class="btn btn-primary" id="save-edit-btn"
                            style="padding: 6px 16px; background: var(--primary); color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500; font-size: 13px;">
                        <i class="fas fa-save"></i> Save & Close
                    </button>
                    <button class="btn btn-outline" id="back-to-list-btn"
                            style="padding: 6px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 4px; cursor: pointer; font-weight: 500; font-size: 13px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
                <div id="customer-id-display" style="color: #64748b; font-size: 12px; font-weight: 500;">
                    <i class="fas fa-spinner fa-spin"></i> Loading...
                </div>
            </div>
            <!-- Basic Information - WITH NAME ATTRIBUTES -->
            <div style="margin-bottom: 20px; border: 1px solid #d1d5db; border-radius: 4px; padding: 15px; background: white;">
                <div style="display: flex; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #e2e8f0; padding-bottom: 8px;">
                    <h2 style="color: var(--dark); font-size: 14px; font-weight: 600; margin: 0;">Basic Information</h2>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0;">
                    <!-- LEFT COLUMN -->
                    <div style="padding-right: 15px; border-right: 1px solid #e2e8f0;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Code*</span>
                                <input type="text" name="customer_code" value="0121" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Name*</span>
                                <input type="text" name="customer_name" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Alias</span>
                                <input type="text" name="alias" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Comp. Reg. No.</span>
                                <input type="text" name="company_reg_no" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">GST Reg.</span>
                                <input type="text" name="gst_reg" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">GST Type</span>
                                <select name="gst_type" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px; background: white;">
                                    <option value="Exclusive">Exclusive</option>
                                    <option value="Inclusive">Inclusive</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- RIGHT COLUMN -->
                    <div style="padding-left: 15px;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Active</span>
                                <div style="flex: 1; display: flex; align-items: center;">
                                    <input type="checkbox" name="is_active" checked style="transform: scale(1.1); margin-right: 6px;">
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Currency</span>
                                <select name="currency" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px; background: white;">
                                    <option value="SGD">SGD</option>
                                    <option value="USD">USD</option>
                                    <option value="EUR">EUR</option>
                                </select>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Credit Limit</span>
                                <input type="text" name="credit_limit" value="0.00" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px; text-align: right;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">HQ Customer</span>
                                <div style="flex: 1; display: flex; align-items: center;">
                                    <input type="checkbox" name="is_hq_customer" style="transform: scale(1.1); margin-right: 6px;">
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Blocked</span>
                                <div style="flex: 1; display: flex; align-items: center;">
                                    <input type="checkbox" name="is_blocked" style="transform: scale(1.1); margin-right: 6px;">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Credit Terms - WITH NAME ATTRIBUTES -->
            <div style="margin-bottom: 20px; border: 1px solid #d1d5db; border-radius: 4px; padding: 15px; background: white;">
                <div style="display: flex; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #e2e8f0; padding-bottom: 8px;">
                    <h2 style="color: var(--dark); font-size: 14px; font-weight: 600; margin: 0;">Credit Terms</h2>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0;">
                    <!-- LEFT COLUMN -->
                    <div style="padding-right: 15px; border-right: 1px solid #e2e8f0;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Terms</span>
                                <select name="credit_terms" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px; background: white;">
                                    <option value="7 Days">7 Days</option>
                                    <option value="14 Days">14 Days</option>
                                    <option value="30 Days" selected>30 Days</option>
                                    <option value="60 Days">60 Days</option>
                                </select>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Bank</span>
                                <input type="text" name="bank" value="MB-MAY BANK" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Bank Name</span>
                                <input type="text" name="bank_name" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                    </div>
                    
                    <!-- RIGHT COLUMN -->
                    <div style="padding-left: 15px;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Tolerance</span>
                                <select name="tolerance" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px; background: white;">
                                    <option value="7 Days" selected>7 Days</option>
                                    <option value="14 Days">14 Days</option>
                                    <option value="30 Days">30 Days</option>
                                </select>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Bank Acct. No.</span>
                                <input type="text" name="bank_account_no" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Website</span>
                                <input type="text" name="website" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings - WITH NAME ATTRIBUTES -->
            <div style="margin-bottom: 20px; border: 1px solid #d1d5db; border-radius: 4px; padding: 15px; background: white;">
                <div style="display: flex; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #e2e8f0; padding-bottom: 8px;">
                    <h2 style="color: var(--dark); font-size: 14px; font-weight: 600; margin: 0;">Settings</h2>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0;">
                    <!-- LEFT COLUMN -->
                    <div style="padding-right: 15px; border-right: 1px solid #e2e8f0;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Rate Type</span>
                                <input type="text" name="rate_type" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">A/R Account*</span>
                                <input type="text" name="ar_account" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">HQ</span>
                                <input type="text" name="hq_reference" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                    </div>
                    
                    <!-- RIGHT COLUMN -->
                    <div style="padding-left: 15px;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Salesman</span>
                                <select name="salesman_id" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px; background: white;">
                                    <option value="">Choose Salesman</option>
                                    <option value="1">John Smith (SAL001)</option>
                                    <option value="2">Sarah Lee (SAL002)</option>
                                    <option value="3">David Tan (SAL003)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Schedule Day</span>
                                <select name="schedule_day" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px; background: white;">
                                    <option value="Sunday">Sunday</option>
                                    <option value="Monday" selected>Monday</option>
                                    <option value="Tuesday">Tuesday</option>
                                    <option value="Wednesday">Wednesday</option>
                                    <option value="Thursday">Thursday</option>
                                    <option value="Friday">Friday</option>
                                    <option value="Saturday">Saturday</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Address - WITH NAME ATTRIBUTES -->
            <div style="margin-bottom: 20px; border: 1px solid #d1d5db; border-radius: 4px; padding: 15px; background: white;">
                <div style="display: flex; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #e2e8f0; padding-bottom: 8px;">
                    <h2 style="color: var(--dark); font-size: 14px; font-weight: 600; margin: 0;">Address</h2>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0;">
                    <!-- LEFT COLUMN -->
                    <div style="padding-right: 15px; border-right: 1px solid #e2e8f0;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Address 1</span>
                                <input type="text" name="address_line1" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Address 2</span>
                                <input type="text" name="address_line2" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Address 3</span>
                                <input type="text" name="address_line3" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">City</span>
                                <input type="text" name="city" value="Singapore" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                    </div>
                    
                    <!-- RIGHT COLUMN -->
                    <div style="padding-left: 15px;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Postal Code*</span>
                                <input type="text" name="postal_code" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Country*</span>
                                <input type="text" name="country" value="Singapore" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Delivery Address</span>
                                <input type="text" name="delivery_address" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Delivery Country*</span>
                                <input type="text" name="delivery_country" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contact Details - WITH NAME ATTRIBUTES -->
            <div style="margin-bottom: 20px; border: 1px solid #d1d5db; border-radius: 4px; padding: 15px; background: white;">
                <div style="display: flex; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #e2e8f0; padding-bottom: 8px;">
                    <h2 style="color: var(--dark); font-size: 14px; font-weight: 600; margin: 0;">Contact Details</h2>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0;">
                    <!-- LEFT COLUMN -->
                    <div style="padding-right: 15px; border-right: 1px solid #e2e8f0;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Person 1</span>
                                <input type="text" name="contact_person1" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Phone No. 1</span>
                                <input type="text" name="phone1" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Email</span>
                                <input type="email" name="email" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                    </div>
                    
                    <!-- RIGHT COLUMN -->
                    <div style="padding-left: 15px;">
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Office No.</span>
                                <input type="text" name="office_phone" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Fax No.</span>
                                <input type="text" name="fax_number" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block;">Contact No.</span>
                                <input type="text" name="contact_no" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; height: 32px;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Remarks - WITH NAME ATTRIBUTES -->
            <div style="margin-bottom: 20px; border: 1px solid #d1d5db; border-radius: 4px; padding: 15px; background: white;">
                <div style="display: flex; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #e2e8f0; padding-bottom: 8px;">
                    <h2 style="color: var(--dark); font-size: 14px; font-weight: 600; margin: 0;">Remarks</h2>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr; gap: 0;">
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; align-items: flex-start; margin-bottom: 6px;">
                            <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block; padding-top: 6px;">Customer Remarks</span>
                            <textarea name="customer_remarks" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; min-height: 60px; resize: vertical;"></textarea>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; align-items: flex-start; margin-bottom: 6px;">
                            <span style="font-weight: 600; color: var(--dark); font-size: 12px; width: 120px; display: inline-block; padding-top: 6px;">Customer Note</span>
                            <textarea name="customer_note" style="flex: 1; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; min-height: 60px; resize: vertical;"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'customer-view': {
                            heading: 'View Customer Details',
                            title: 'View Customer',
                            content: `
        <div class="customer-view-form" id="customer-view-page">
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding: 10px 0; border-bottom: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 8px;">
                    <button class="btn btn-outline" id="back-to-list-btn-view"
                            style="padding: 6px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 4px; cursor: pointer; font-weight: 500; font-size: 13px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                    <button class="btn btn-warning" id="edit-customer-btn-view"
                            style="padding: 6px 16px; background: #f59e0b; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500; font-size: 13px;">
                        <i class="fas fa-edit"></i> Edit Customer
                    </button>
                </div>
                <div id="customer-id-display-view" style="color: #64748b; font-size: 12px; font-weight: 500;">
                    <i class="fas fa-spinner fa-spin"></i> Loading...
                </div>
            </div>
            
            <!-- CUSTOMER DETAILS WILL BE DYNAMICALLY LOADED HERE -->
            <div id="customer-view-content" style="background: #f9fafb; padding: 20px; border-radius: 6px; min-height: 500px;">
                <div style="text-align: center; padding: 60px 20px;">
                    <div style="width: 40px; height: 40px; border: 3px solid #e5e7eb; border-top-color: #3b82f6; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 16px auto;"></div>
                    <p style="color: #6b7280; font-size: 14px; margin: 0;">Loading customer details...</p>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        `
                        }, 'project-management': {
                            heading: 'Projects',
                            title: 'Projects',
                            content: `
        <div class="projects-management">
            <div class="action-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: auto 1fr 1fr 1fr 1fr auto; gap: 15px; align-items: end;">
                    <button class="btn btn-primary project-create-btn" 
                            style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Add Project
                    </button>
                    
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Status</label>
                        <select id="project-status-filter" 
                                style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option value="All">All Status</option>
                            <option value="On going">On going</option>
                            <option value="Completed">Completed</option>
                            <option value="On Hold">On Hold</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Active</label>
                        <select id="project-active-filter" 
                                style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option value="">All</option>
                            <option value="true">Active Only</option>
                            <option value="false">Inactive</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Search</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" id="project-search" 
                                   placeholder="Code, Name or Customer" 
                                   style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Created Date</label>
                        <input type="date" id="project-date-filter" 
                               style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                    </div>
                    
                    <button class="btn btn-primary fetch-btn" 
                            style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                </div>
            </div>
            
            <div class="table-container">
                <table class="projects-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Code</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 200px;">Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 200px;">Customer Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Start Date</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Created Date</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Status</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data will be loaded here dynamically -->
                    </tbody>
                </table>
            </div>
            
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <!-- Show entries dropdown -->
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select id="project-limit" 
                                style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option value="10">10</option>
                            <option value="20" selected>20</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <!-- Pagination info -->
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Loading...
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" 
                                style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px; opacity: 0.5; cursor: not-allowed;">
                            Previous
                        </button>
                        <button class="btn btn-outline" 
                                style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px; opacity: 0.5; cursor: not-allowed;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'project-create': {
                            heading: 'Project Create',
                            title: 'Project Create',
                            content: `
        <div class="project-create">
            <!-- Action Buttons -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary project-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create
                    </button>
                    <button class="btn btn-outline project-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Main Form Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Code*</label>
                                <input type="text" id="project-code" 
                                       placeholder="e.g., PROJ-001"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Name*</label>
                                <input type="text" id="project-name" 
                                       placeholder="Enter project name"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Country</label>
                                <select id="project-country" 
                                        style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option value="">Select Country</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Customer Name*</label>
                                <select id="project-customer" 
                                        style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option value="">Loading customers...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Project Status</label>
                                <select id="project-status" 
                                        style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option value="On going">On going</option>
                                    <option value="Completed">Completed</option>
                                    <option value="On Hold">On Hold</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Active</label>
                                <div style="display: flex; align-items: center; gap: 10px; margin-top: 8px;">
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="radio" name="active" value="Yes" checked style="accent-color: var(--primary);">
                                        <span style="font-size: 13px;">Yes</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                        <input type="radio" name="active" value="No" style="accent-color: var(--primary);">
                                        <span style="font-size: 13px;">No</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'project-tasks': {
                            heading: 'Project Tasks',
                            title: 'Project Tasks Management',
                            content: `
        <div class="project-tasks-management">
            <div class="warning-messages" style="margin-bottom: 20px;">
                <div style="background: #fef3f2; border: 1px solid #fecdca; padding: 15px; border-radius: 8px; margin-bottom: 10px;">
                    <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                        <div>
                            <p style="margin: 0 0 10px 0; color: #d92d20; font-size: 14px; font-weight: 500;">
                                There are no entries for AutoCode Generation. Please create AutoCode before creating Project Task!
                            </p>
                        </div>
                       <button class="btn btn-primary project-task-autocode-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Create
                    </button>
                    </div>
                </div>
                <div style="background: #fef3f2; border: 1px solid #fecdca; padding: 15px; border-radius: 8px; margin-bottom: 10px;">
                    <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                        <div>
                            <p style="margin: 0 0 10px 0; color: #d92d20; font-size: 14px; font-weight: 500;">
                                There are no entries for Project. Please create Project before creating Project Task!
                            </p>
                        </div>
                        <button class="btn btn-primary project-task-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Create
                    </button>
                    </div>
                </div>
                <div style="background: #fef3f2; border: 1px solid #fecdca; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                        <div>
                            <p style="margin: 0 0 10px 0; color: #d92d20; font-size: 14px; font-weight: 500;">
                                There are no entries for PickList. Please create PickList status before creating Project Task!
                            </p>
                        </div>
                         <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Create
                    </button>
                    </div>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Select Project</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Projects</option>
                            <option>Project 1</option>
                            <option>Project 2</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Status</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Status</option>
                            <option>Active</option>
                            <option>Completed</option>
                            <option>Pending</option>
                        </select>
                    </div>
                    <div class="form-group" style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-search"></i> Fetch
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="project-tasks-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Code</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Name</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Description</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Status</th>
                            <th style="padding: 12px 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="5" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'project-task-autocode-create': {
                            heading: 'Project Tasks - AutoCode Generation',
                            title: 'AutoCode Generation',
                            content: `
        <div class="project-task-autocode-create">
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save
                    </button>
                    <button class="btn btn-primary autocode-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        Cancel
                    </button>
                </div>
            </div>

            <!-- Warning Message -->
            <div style="background: #fef3cd; border: 1px solid #f59e0b; color: #92400e; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-exclamation-triangle" style="color: #f59e0b;"></i>
                    <span style="font-size: 13px; font-weight: 500;">
                        There are no entries for AutoCode Generation. Please create AutoCode before creating Project Task!
                    </span>
                </div>
            </div>

            <!-- AutoCode Form -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 13px; font-weight: 600;">Add Autonumber</h4>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Table Name*</label>
                                <input type="text" value="ProjectTask" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Field Name*</label>
                                <input type="text" value="ProjectTaskCode" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Next Number*</label>
                                <input type="number" value="1" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Number Digits*</label>
                                <input type="number" value="4" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Prefix</label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Suffix</label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Prefix Delimiter</label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Suffix Delimiter</label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Checkbox Section -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                    <div class="form-column">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" id="is-date-include" style="width: 16px; height: 16px;">
                            <label for="is-date-include" style="font-weight: 600; color: var(--dark); font-size: 12px; margin: 0;">
                                Is Date Include
                            </label>
                        </div>
                    </div>
                    <div class="form-column">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" id="is-enable" style="width: 16px; height: 16px;" checked>
                            <label for="is-enable" style="font-weight: 600; color: var(--dark); font-size: 12px; margin: 0;">
                                IsEnable
                            </label>
                        </div>
                    </div>
                </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'project-create-auto': {
                            heading: 'Project Create',
                            title: 'Project Create',
                            content: `
        <div class="project-create">
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Create
                    </button>
                    <button class="btn btn-primary project-create-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Form Content -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Code*</label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Name*</label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Country</label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Singapore</option>
                                    <option>Malaysia</option>
                                    <option>India</option>
                                    <option>USA</option>
                                    <option>UK</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Customer Name*</label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Choose Customer</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Project Status</label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>On going</option>
                                    <option>Completed</option>
                                    <option>Pending</option>
                                    <option>Cancelled</option>
                                    <option>On Hold</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Checkbox Section -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                    <div class="form-column">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" id="active" style="width: 16px; height: 16px;" checked>
                            <label for="active" style="font-weight: 600; color: var(--dark); font-size: 12px; margin: 0;">
                                Active
                            </label>
                        </div>
                    </div>
                    <div class="form-column">
                        <!-- Empty for alignment -->
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'employees': {
                            heading: 'Employees',
                            title: 'Employees Management',
                            content: `
        <div class="employees-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-upload"></i> Import
                    </button>
                </div> 
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Code</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Search by code" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Name</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Search by name" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Designation</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Designations</option>
                            <option>Managing Director</option>
                            <option>Senior Accounts Manager</option>
                            <option>General Manager</option>
                        </select>
                    </div>
                    <div class="form-group" style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-search"></i> Search
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="employees-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1); font-size: 14px;">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px 10px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Staff ID</th>
                            <th style="padding: 12px 10px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Name</th>
                            <th style="padding: 12px 10px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">NRIC/S Pass/Work Permit No.</th>
                            <th style="padding: 12px 10px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Nationality</th>
                            <th style="padding: 12px 10px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Pass Type</th>
                            <th style="padding: 12px 10px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Gender</th>
                            <th style="padding: 12px 10px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employed Since</th>
                            <th style="padding: 12px 10px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Occupation</th>
                            <th style="padding: 12px 10px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Date of Birth</th>
                            <th style="padding: 12px 10px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Mobile No.</th>
                            <th style="padding: 12px 10px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Salary</th>
                            <th style="padding: 12px 10px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Current Residential Address</th>
                            <th style="padding: 12px 10px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Employee 1 -->
                        <tr style="border-bottom: 1px solid #e2e8f0;">
                            <td style="padding: 12px 10px; color: #374151; font-weight: 500;">1</td>
                            <td style="padding: 12px 10px; color: #374151;">IQBAL ABDUL ALEEM</td>
                            <td style="padding: 12px 10px; color: #374151;">S7279102A</td>
                            <td style="padding: 12px 10px; color: #374151;">SINGAPOREAN</td>
                            <td style="padding: 12px 10px; color: #374151;">SINGAPORE IC</td>
                            <td style="padding: 12px 10px; color: #374151;">MALE</td>
                            <td style="padding: 12px 10px; color: #374151;">15/5/2002</td>
                            <td style="padding: 12px 10px; color: #374151;">MANAGING DIRECTOR</td>
                            <td style="padding: 12px 10px; color: #374151;">9/5/1972</td>
                            <td style="padding: 12px 10px; color: #374151;">93840214</td>
                            <td style="padding: 12px 10px; color: #374151;">$15,000.00</td>
                            <td style="padding: 12px 10px; color: #374151;">BLK 236A SERANGOON AVENUE 2, #16-145, SINGAPORE 551236</td>
                            <td style="padding: 12px 10px; text-align: center;">
                                <div style="display: flex; justify-content: center; gap: 8px;">
                                    <button style="background: none; border: none; cursor: pointer; color: #2563eb; font-size: 16px;" title="Edit">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button style="background: none; border: none; cursor: pointer; color: #ef4444; font-size: 16px;" title="Delete">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        
                        <!-- Employee 2 -->
                        <tr style="border-bottom: 1px solid #e2e8f0;">
                            <td style="padding: 12px 10px; color: #374151; font-weight: 500;">2</td>
                            <td style="padding: 12px 10px; color: #374151;">ABDUL JALEEL HIZAMUDEEN</td>
                            <td style="padding: 12px 10px; color: #374151;">G5653307Z</td>
                            <td style="padding: 12px 10px; color: #374151;">INDIAN</td>
                            <td style="padding: 12px 10px; color: #374151;">EMPLOYMENT PASS</td>
                            <td style="padding: 12px 10px; color: #374151;">MALE</td>
                            <td style="padding: 12px 10px; color: #374151;">1/12/2008</td>
                            <td style="padding: 12px 10px; color: #374151;">SENIOR ACCOUNTS MANAGER</td>
                            <td style="padding: 12px 10px; color: #374151;">26/7/1975</td>
                            <td style="padding: 12px 10px; color: #374151;">98509498</td>
                            <td style="padding: 12px 10px; color: #374151;">$8,500.00</td>
                            <td style="padding: 12px 10px; color: #374151;">BLK 408 SERANGOON AVENUE 1, #05-77, SINGAPORE 550408</td>
                            <td style="padding: 12px 10px; text-align: center;">
                                <div style="display: flex; justify-content: center; gap: 8px;">
                                    <button style="background: none; border: none; cursor: pointer; color: #2563eb; font-size: 16px;" title="Edit">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button style="background: none; border: none; cursor: pointer; color: #ef4444; font-size: 16px;" title="Delete">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        
                        <!-- Employee 3 -->
                        <tr style="border-bottom: 1px solid #e2e8f0;">
                            <td style="padding: 12px 10px; color: #374151; font-weight: 500;">3</td>
                            <td style="padding: 12px 10px; color: #374151;">ABDUL AZMI A</td>
                            <td style="padding: 12px 10px; color: #374151;">G6318529P</td>
                            <td style="padding: 12px 10px; color: #374151;">INDIAN</td>
                            <td style="padding: 12px 10px; color: #374151;">EMPLOYMENT PASS</td>
                            <td style="padding: 12px 10px; color: #374151;">MALE</td>
                            <td style="padding: 12px 10px; color: #374151;">1/9/2025</td>
                            <td style="padding: 12px 10px; color: #374151;">SOFTWARE ENGINEER</td>
                            <td style="padding: 12px 10px; color: #374151;">10/8/2004</td>
                            <td style="padding: 12px 10px; color: #374151;">8825687238</td>
                            <td style="padding: 12px 10px; color: #374151;">$1,000.00</td>
                            <td style="padding: 12px 10px; color: #374151;">1/105-A,AHAMATHIYA ST,ADIYAKKAMANGALAM,THIRUVARUR</td>
                            <td style="padding: 12px 10px; text-align: center;">
                                <div style="display: flex; justify-content: center; gap: 8px;">
                                    <button style="background: none; border: none; cursor: pointer; color: #2563eb; font-size: 16px;" title="Edit">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button style="background: none; border: none; cursor: pointer; color: #ef4444; font-size: 16px;" title="Delete">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 1 to 3 of 3 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'monthly-attendance': {
                            heading: 'Monthly Attendance',
                            title: 'Monthly Attendance Management',
                            content: `
        <div class="attendance-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary employee-monthly-attendance-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create New
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-upload"></i> Import Excel
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-download"></i> Get Template
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-trash"></i> Multi Delete
                    </button>
                </div> 
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Types</option>
                            <option>Full Time</option>
                            <option>Part Time</option>
                            <option>Contract</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Departments</option>
                            <option>Operations</option>
                            <option>IT</option>
                            <option>HR</option>
                            <option>Finance</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Employees</option>
                            <option>DEVARAJ PRASANNA KUMAR</option>
                            <option>HAJI MOHAMED MOHAMED RAMEEZ</option>
                            <option>NETYAN JUESH</option>
                            <option>SHABEER</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Pay Period</label>
                        <div style="display: flex; gap: 10px;">
                            <select style="flex: 1; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <option>Monthly</option>
                                <option>Weekly</option>
                                <option>Bi-Weekly</option>
                            </select>
                            <select style="flex: 1; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <option>Nov-2025</option>
                                <option>Oct-2025</option>
                                <option>Dec-2025</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-search"></i> Fetch
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="attendance-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Employee Code</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Employee Name</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Working Days/Hours</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">OT1 Hrs</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">OT1 Amt</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">OT2 Hrs</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">OT2 Amt</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Total</th>
                            <th style="padding: 12px 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="9" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'employee-monthly-attendance-create': {
                            heading: 'Employee Monthly Attendance Create',
                            title: 'Employee Monthly Attendance Create',
                            content: `
        <div class="employee-monthly-attendance-create">
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save
                    </button>
                    <button class="btn btn-primary employee-attendance-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Basic Information -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Month</label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>November</option>
                                    <option>December</option>
                                    <option>January</option>
                                    <option>February</option>
                                    <option>March</option>
                                    <option>April</option>
                                    <option>May</option>
                                    <option>June</option>
                                    <option>July</option>
                                    <option>August</option>
                                    <option>September</option>
                                    <option>October</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Year</label>
                                <input type="number" value="2025" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Code</label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Select Employee</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Name</label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;" readonly>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">From Date</label>
                                <input type="date" value="2025-11-01" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">To Date</label>
                                <input type="date" value="2025-11-30" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Pay Period</label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Monthly</option>
                                    <option>Weekly</option>
                                    <option>Bi-Weekly</option>
                                    <option>Semi-Monthly</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">No Of Days</label>
                                <input type="number" value="30.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Checkbox Section -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px;">
                    <div class="form-column">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" id="ot-allowed" style="width: 16px; height: 16px;">
                            <label for="ot-allowed" style="font-weight: 600; color: var(--dark); font-size: 12px; margin: 0;">
                                OT Allowed
                            </label>
                        </div>
                    </div>
                    <div class="form-column">
                        <!-- Empty for alignment -->
                    </div>
                </div>
            </div>

            <!-- Allowances Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 13px; font-weight: 600;">Allowances</h4>
                
                <!-- Hours/Days Table -->
                <div style="margin-bottom: 20px;">
                    <h5 style="color: var(--dark); margin-bottom: 10px; font-size: 12px; font-weight: 600;">Hours/Days Based</h5>
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #f8fafc;">
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Name</th>
                                <th style="padding: 12px; text-align: right; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Hours/Days</th>
                                <th style="padding: 12px; text-align: right; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Rate</th>
                                <th style="padding: 12px; text-align: right; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 12px; border: 1px solid #e2e8f0;">
                                    <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                </td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0;">
                                    <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                                </td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0;">
                                    <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                                </td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0;">
                                    <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Fixed Amount Table -->
                <div>
                    <h5 style="color: var(--dark); margin-bottom: 10px; font-size: 12px; font-weight: 600;">Fixed Amount</h5>
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #f8fafc;">
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Name</th>
                                <th style="padding: 12px; text-align: right; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Days</th>
                                <th style="padding: 12px; text-align: right; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 12px; border: 1px solid #e2e8f0;">
                                    <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                </td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0;">
                                    <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                                </td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0;">
                                    <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Totals Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div></div>
                    <div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; background: #f8fafc; padding: 15px; border-radius: 5px; border: 1px solid #e2e8f0;">
                            <div style="font-weight: 600; color: var(--dark); font-size: 13px;">TPT</div>
                            <div style="text-align: right; font-size: 13px;">
                                <input type="number" value="0.00" style="width: 100%; padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 3px; font-size: 13px; background: white; text-align: right;">
                            </div>
                            
                            <div style="font-weight: 600; color: var(--dark); font-size: 13px;">AL</div>
                            <div style="text-align: right; font-size: 13px;">
                                <input type="number" value="0.00" style="width: 100%; padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 3px; font-size: 13px; background: white; text-align: right;">
                            </div>
                            
                            <div style="font-weight: 600; color: var(--dark); font-size: 13px;">Food</div>
                            <div style="text-align: right; font-size: 13px;">
                                <input type="number" value="0.00" style="width: 100%; padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 3px; font-size: 13px; background: white; text-align: right;">
                            </div>
                            
                            <div style="font-weight: 600; color: var(--dark); font-size: 13px;">Others</div>
                            <div style="text-align: right; font-size: 13px;">
                                <input type="number" value="0.00" style="width: 100%; padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 3px; font-size: 13px; background: white; text-align: right;">
                            </div>
                            
                            <div style="font-weight: 600; color: var(--dark); font-size: 14px; border-top: 1px solid #e2e8f0; padding-top: 5px;">Totals</div>
                            <div style="text-align: right; font-weight: 600; color: var(--primary); font-size: 14px; border-top: 1px solid #e2e8f0; padding-top: 5px;">
                                <input type="number" value="0.00" style="width: 100%; padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 3px; font-size: 13px; background: white; text-align: right;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'daily-attendance': {
                            heading: 'Daily Attendance',
                            title: 'Daily Attendance Management',
                            content: `
        <div class="daily-attendance-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary daily-attendance-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create New
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-trash"></i> Multiple Delete
                    </button>
                </div> 
            </div>
            <div class="new-filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="margin-bottom: 15px;">
                    <h3 style="margin: 0 0 10px 0; color: var(--dark); font-size: 16px; font-weight: 600;">First Half Month</h3>
                    <div style="display: grid; grid-template-columns: 1fr; gap: 10px;">
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Location</label>
                            <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <option>All Locations</option>
                                <option>Singapore</option>
                                <option>Malaysia</option>
                                <option>India</option>
                                <option>USA</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Types</option>
                            <option>Full Time</option>
                            <option>Part Time</option>
                            <option>Contract</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Departments</option>
                            <option>Operations</option>
                            <option>IT</option>
                            <option>HR</option>
                            <option>Finance</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Employees</option>
                            <option>DEVARAJ PRASANNA KUMAR</option>
                            <option>HAJI MOHAMED MOHAMED RAMEEZ</option>
                            <option>NETYAN JUESH</option>
                            <option>SHABEER</option>
                        </select>
                    </div>
                    <div class="form-group" style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-search"></i> Fetch
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="daily-attendance-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Employee Code</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Employee Name</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Total Hours</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Total Normal Amount</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Total OT Amount</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Net Total</th>
                            <th style="padding: 12px 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="7" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'daily-attendance-create': {
                            heading: 'Daily Attendance Create',
                            title: 'Daily Attendance Create',
                            content: `
        <div class="daily-attendance-create">
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        Calculate Header
                    </button>
                    <button class="btn btn-primary daily-attendance-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Basic Information -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Pay Month</label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>November</option>
                                    <option>December</option>
                                    <option>January</option>
                                    <option>February</option>
                                    <option>March</option>
                                    <option>April</option>
                                    <option>May</option>
                                    <option>June</option>
                                    <option>July</option>
                                    <option>August</option>
                                    <option>September</option>
                                    <option>October</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Pay Year</label>
                                <input type="number" value="2025" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Code</label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Select Employee</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Name</label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;" readonly>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Pay Period</label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Monthly</option>
                                    <option>Weekly</option>
                                    <option>Bi-Weekly</option>
                                    <option>Semi-Monthly</option>
                                    <option>Daily</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Daily Rate</label>
                                <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">From Date</label>
                                <input type="date" value="2025-11-01" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">To Date</label>
                                <input type="date" value="2025-11-30" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Checkbox Section -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px;">
                    <div class="form-column">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" id="ot-allowed" style="width: 16px; height: 16px;">
                            <label for="ot-allowed" style="font-weight: 600; color: var(--dark); font-size: 12px; margin: 0;">
                                OT Allowed
                            </label>
                        </div>
                    </div>
                    <div class="form-column">
                        <!-- Empty for alignment -->
                    </div>
                </div>
            </div>

            <!-- Time Details -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 13px; font-weight: 600;">Time Details</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">In Time</label>
                        <input type="time" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Out Time</label>
                        <input type="time" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Working Hours</label>
                        <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;" readonly>
                    </div>
                </div>

                <!-- Others Section -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px;">
                    <div class="form-column">
                        <div style="display: flex; gap: 20px;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" id="is-offday" style="width: 16px; height: 16px;">
                                <label for="is-offday" style="font-weight: 600; color: var(--dark); font-size: 12px; margin: 0;">
                                    Is OffDay
                                </label>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" id="is-publicholiday" style="width: 16px; height: 16px;">
                                <label for="is-publicholiday" style="font-weight: 600; color: var(--dark); font-size: 12px; margin: 0;">
                                    Is PublicHoliday
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-column">
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            Create
                        </button>
                    </div>
                </div>
            </div>

            <!-- Allowances Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 13px; font-weight: 600;">Allowances</h4>
                
                <!-- Hours/Days Table -->
                <div style="margin-bottom: 20px;">
                    <h5 style="color: var(--dark); margin-bottom: 10px; font-size: 12px; font-weight: 600;">Hours/Days Based</h5>
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #f8fafc;">
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Name</th>
                                <th style="padding: 12px; text-align: right; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Days</th>
                                <th style="padding: 12px; text-align: right; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Rate</th>
                                <th style="padding: 12px; text-align: right; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 12px; border: 1px solid #e2e8f0;">
                                    <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                </td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0;">
                                    <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                                </td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0;">
                                    <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                                </td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0;">
                                    <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Fixed Amount Table -->
                <div>
                    <h5 style="color: var(--dark); margin-bottom: 10px; font-size: 12px; font-weight: 600;">Fixed Amount</h5>
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #f8fafc;">
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Name</th>
                                <th style="padding: 12px; text-align: right; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Days</th>
                                <th style="padding: 12px; text-align: right; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 12px; border: 1px solid #e2e8f0;">
                                    <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                </td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0;">
                                    <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                                </td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0;">
                                    <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Totals Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0;">
                <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 13px; font-weight: 600;">Summary</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="form-column">
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">No Of Days</label>
                            <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                        </div>
                    </div>
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; background: #f8fafc; padding: 15px; border-radius: 5px; border: 1px solid #e2e8f0;">
                            <div style="font-weight: 600; color: var(--dark); font-size: 13px;">TPT</div>
                            <div style="text-align: right; font-size: 13px;">
                                <input type="number" value="0.00" style="width: 100%; padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 3px; font-size: 13px; background: white; text-align: right;">
                            </div>
                            
                            <div style="font-weight: 600; color: var(--dark); font-size: 13px;">AL</div>
                            <div style="text-align: right; font-size: 13px;">
                                <input type="number" value="0.00" style="width: 100%; padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 3px; font-size: 13px; background: white; text-align: right;">
                            </div>
                            
                            <div style="font-weight: 600; color: var(--dark); font-size: 13px;">Food</div>
                            <div style="text-align: right; font-size: 13px;">
                                <input type="number" value="0.00" style="width: 100%; padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 3px; font-size: 13px; background: white; text-align: right;">
                            </div>
                            
                            <div style="font-weight: 600; color: var(--dark); font-size: 13px;">Others</div>
                            <div style="text-align: right; font-size: 13px;">
                                <input type="number" value="0.00" style="width: 100%; padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 3px; font-size: 13px; background: white; text-align: right;">
                            </div>
                            
                            <div style="font-weight: 600; color: var(--dark); font-size: 14px; border-top: 1px solid #e2e8f0; padding-top: 5px;">Totals</div>
                            <div style="text-align: right; font-weight: 600; color: var(--primary); font-size: 14px; border-top: 1px solid #e2e8f0; padding-top: 5px;">
                                <input type="number" value="0.00" style="width: 100%; padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 3px; font-size: 13px; background: white; text-align: right;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'daily-clock-in-out': {
                            heading: 'Daily Clock In-Out',
                            title: 'Daily Clock In-Out Management',
                            content: `
        <div class="daily-clock-in-out-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary daily-clock-in-out-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-sync-alt"></i> Convert
                    </button>
                </div> 
            </div>
            <hr style="border: none; border-top: 2px solid #e2e8f0; margin: 20px 0;">
            <div class="month-filter-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <h3 style="margin: 0 0 15px 0; color: var(--dark); font-size: 16px; font-weight: 600;">Month Filter</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Departments</option>
                            <option>Operations</option>
                            <option>IT</option>
                            <option>HR</option>
                            <option>Finance</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Location</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Locations</option>
                            <option>Singapore</option>
                            <option>Malaysia</option>
                            <option>India</option>
                            <option>USA</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Nov-2025</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Nov-2025</option>
                            <option>Oct-2025</option>
                            <option>Dec-2025</option>
                            <option>Jan-2026</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Is Processing</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All</option>
                            <option>Yes</option>
                            <option>No</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Types</option>
                            <option>Full Time</option>
                            <option>Part Time</option>
                            <option>Contract</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Name</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Employees</option>
                            <option>DEVARAJ PRASANNA KUMAR</option>
                            <option>HAJI MOHAMED MOHAMED RAMEEZ</option>
                            <option>NETYAN JUESH</option>
                            <option>SHABEER</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="clock-in-out-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Code</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Name</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Nick Name</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Date</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Status</th>
                            <th style="padding: 12px 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="6" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'daily-clock-in-out-create': {
                            heading: 'Daily Clock In-Out',
                            title: 'Daily Clock In-Out - Create',
                            content: `
        <div class="daily-clock-in-out-create">
            <!-- Header Actions -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <h2 style="color: var(--dark); font-size: 18px; font-weight: 600;">Daily Clock In-Out</h2>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save
                    </button>
                    <button class="btn btn-outline daily-clock-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: #f59e0b; color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        Process
                    </button>
                </div>
            </div>

            <!-- Main Form Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <!-- Date -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Date</label>
                        <input type="date" value="2025-11-30" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                    </div>
                    
                    <!-- In Time -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">In Time</label>
                        <div style="display: flex; gap: 5px; align-items: center;">
                            <input type="time" style="flex: 1; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <span style="color: #64748b; font-size: 12px;">--+---</span>
                        </div>
                    </div>
                    
                    <!-- Out Time -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Out Time</label>
                        <div style="display: flex; gap: 5px; align-items: center;">
                            <input type="time" style="flex: 1; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <span style="color: #64748b; font-size: 12px;">--+---</span>
                        </div>
                    </div>
                </div>

                <hr style="border: none; border-top: 1px solid #e2e8f0; margin: 20px 0;">

                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 20px; align-items: end;">
                    <!-- Department -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Department...</option>
                        </select>
                    </div>
                    
                    <!-- Employee Name -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Name</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Employee Name...</option>
                        </select>
                    </div>
                    
                    <!-- Pay Period -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Pay Period</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Monthly</option>
                            <option>Weekly</option>
                            <option>Bi-weekly</option>
                        </select>
                    </div>
                    
                    <!-- Fetch Button -->
                    <div class="form-group">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; font-size: 13px; width: 100%;">
                            Fetch
                        </button>
                    </div>
                </div>
            </div>

            <!-- Employee Table -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h3 style="color: var(--dark); font-size: 14px; font-weight: 600;">Employee Time Records</h3>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 12px; color: #64748b;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 3px; font-size: 12px;">
                            <option>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="font-size: 12px; color: #64748b;">entries</span>
                    </div>
                </div>

                <table style="width: 100%; border-collapse: collapse; margin-bottom: 15px;">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Code</th>
                            <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Name</th>
                            <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Nick Name</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">In Time</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Out Time</th>
                            <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Remarks</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Option</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="7" style="padding: 40px; text-align: center; color: #64748b; font-style: italic; border: 1px solid #e2e8f0;">
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>

                <!-- Table Footer -->
                <div style="display: flex; justify-content: space-between; align-items: center; font-size: 12px; color: #64748b;">
                    <div>
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 3px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 3px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>

            <!-- Sample Data Table (For Reference) -->
            <div style="background: #f8fafc; padding: 15px; border-radius: 5px; border: 1px solid #e2e8f0; margin-top: 20px;">
                <h4 style="color: var(--dark); margin-bottom: 10px; font-size: 13px; font-weight: 600;">Sample Employee Data</h4>
                <table style="width: 100%; border-collapse: collapse; font-size: 12px;">
                    <thead>
                        <tr style="background: #e2e8f0;">
                            <th style="padding: 8px; text-align: left; border: 1px solid #cbd5e1; font-weight: 600; color: var(--dark);">Code</th>
                            <th style="padding: 8px; text-align: left; border: 1px solid #cbd5e1; font-weight: 600; color: var(--dark);">Name</th>
                            <th style="padding: 8px; text-align: left; border: 1px solid #cbd5e1; font-weight: 600; color: var(--dark);">Nick Name</th>
                            <th style="padding: 8px; text-align: center; border: 1px solid #cbd5e1; font-weight: 600; color: var(--dark);">In Time</th>
                            <th style="padding: 8px; text-align: center; border: 1px solid #cbd5e1; font-weight: 600; color: var(--dark);">Out Time</th>
                            <th style="padding: 8px; text-align: left; border: 1px solid #cbd5e1; font-weight: 600; color: var(--dark);">Remarks</th>
                            <th style="padding: 8px; text-align: center; border: 1px solid #cbd5e1; font-weight: 600; color: var(--dark);">Option</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background: white;">
                            <td style="padding: 8px; border: 1px solid #e2e8f0;">EMP-0004</td>
                            <td style="padding: 8px; border: 1px solid #e2e8f0;">SHABEER</td>
                            <td style="padding: 8px; border: 1px solid #e2e8f0;">SHABEER</td>
                            <td style="padding: 8px; border: 1px solid #e2e8f0; text-align: center;"></td>
                            <td style="padding: 8px; border: 1px solid #e2e8f0; text-align: center;"></td>
                            <td style="padding: 8px; border: 1px solid #e2e8f0;"></td>
                            <td style="padding: 8px; border: 1px solid #e2e8f0; text-align: center;"></td>
                        </tr>
                        <tr style="background: white;">
                            <td style="padding: 8px; border: 1px solid #e2e8f0;">EMP-0003</td>
                            <td style="padding: 8px; border: 1px solid #e2e8f0;">NEYYAN JUESH</td>
                            <td style="padding: 8px; border: 1px solid #e2e8f0;">JUESH</td>
                            <td style="padding: 8px; border: 1px solid #e2e8f0; text-align: center;"></td>
                            <td style="padding: 8px; border: 1px solid #e2e8f0; text-align: center;"></td>
                            <td style="padding: 8px; border: 1px solid #e2e8f0;"></td>
                            <td style="padding: 8px; border: 1px solid #e2e8f0; text-align: center;"></td>
                        </tr>
                        <tr style="background: white;">
                            <td style="padding: 8px; border: 1px solid #e2e8f0;">EMP-0002</td>
                            <td style="padding: 8px; border: 1px solid #e2e8f0;">HAJI NOHAMED MOHAMED RAMEEZ</td>
                            <td style="padding: 8px; border: 1px solid #e2e8f0;">Rameez</td>
                            <td style="padding: 8px; border: 1px solid #e2e8f0; text-align: center;"></td>
                            <td style="padding: 8px; border: 1px solid #e2e8f0; text-align: center;"></td>
                            <td style="padding: 8px; border: 1px solid #e2e8f0;"></td>
                            <td style="padding: 8px; border: 1px solid #e2e8f0; text-align: center;"></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'invalid-clock-in-out': {
                            heading: 'Invalid Clock In-Out',
                            title: 'Invalid Clock In-Out Management',
                            content: `
        <div class="invalid-clock-in-out-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create New
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Employees</option>
                            <option>DEVARAJ PRASANNA KUMAR</option>
                            <option>HAJI MOHAMED MOHAMED RAMEEZ</option>
                            <option>NETYAN JUESH</option>
                            <option>SHABEER</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Date</label>
                        <input type="date" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Attachment</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All</option>
                            <option>With Attachment</option>
                            <option>Without Attachment</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Created By</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Users</option>
                            <option>Admin</option>
                            <option>Manager</option>
                            <option>Supervisor</option>
                        </select>
                    </div>
                    <div class="form-group" style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-search"></i> Search
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="invalid-clock-in-out-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Employee</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Date</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Attachment</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Created By</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Remarks</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="5" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'hr-clock-in-out': {
                            heading: 'HR Clock In Out',
                            title: 'HR Clock In Out Management',
                            content: `
        <div class="hr-clock-in-out-management">
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Date</label>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <input type="date" value="2025-11-22" style="flex: 1; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <span style="color: #64748b; font-size: 13px;">-</span>
                            <input type="date" value="2025-11-22" style="flex: 1; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Types</option>
                            <option>Full Time</option>
                            <option>Part Time</option>
                            <option>Contract</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Employees</option>
                            <option>DEVARAJ PRASANNA KUMAR</option>
                            <option>HAJI MOHAMED MOHAMED RAMEEZ</option>
                            <option>NETYAN JUESH</option>
                            <option>SHABEER</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Location</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Locations</option>
                            <option>Singapore</option>
                            <option>Malaysia</option>
                            <option>India</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Project</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Projects</option>
                            <option>Project A</option>
                            <option>Project B</option>
                            <option>Project C</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Departments</option>
                            <option>Operations</option>
                            <option>IT</option>
                            <option>HR</option>
                            <option>Finance</option>
                        </select>
                    </div>
                    <div class="form-group" style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-search"></i> Fetch
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-file-alt"></i> With Header
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-print"></i> Print
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-file-excel"></i> Export Excel
                        </button>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-clock"></i> Clock In Out
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-user-times"></i> Absence
                        </button>
                    </div>
                </div>
                <div style="margin-top: 15px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-map-marker-alt"></i> Get Address
                    </button>
                </div>
            </div>
            <div class="table-container">
                <table class="hr-clock-in-out-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Code</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Name</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Nick Name</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Date</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">In Time</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Out Time</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Work Hrs</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">In Address</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Out Address</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">In Remarks</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Out Remarks</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="11" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'leave-management': {
                            heading: 'Employee Leave Entries',
                            title: 'Employee Leave Entries Management',
                            content: `
        <div class="employee-leave-entries">
            <!-- Header Section -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <h2 style="color: var(--dark); font-size: 18px; font-weight: 600;">Employee Leave Entries</h2>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-sync-alt"></i> Fetch
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-times"></i> Clear
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-file-import"></i> Import
                    </button>
                    
                </div>
            </div>

            <!-- Filter Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Status</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Requested</option>
                            <option>Approved</option>
                            <option>Rejected</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Month</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>November</option>
                            <option>December</option>
                            <option>January</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Year</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>2025</option>
                            <option>2024</option>
                            <option>2026</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Employee</option>
                            <option>Specific Employee</option>
                        </select>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Leave Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Leave Types</option>
                            <option>Sick Leave</option>
                            <option>Annual Leave</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Types</option>
                            <option>Permanent</option>
                            <option>Contract</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Departments</option>
                            <option>IT</option>
                            <option>HR</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Location</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Locations</option>
                            <option>Main Office</option>
                            <option>Branch Office</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Tabs Section -->
            <div class="tabs-section" style="background: white; padding: 0; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div class="tabs-header" style="display: flex; border-bottom: 1px solid #e2e8f0;">
                    <button class="tab-btn active" data-tab="leave-entry" style="padding: 12px 20px; background: none; border: none; border-bottom: 2px solid var(--primary); color: var(--primary); font-weight: 600; font-size: 13px; cursor: pointer;">
                        Leave Entry
                    </button>
                    <button class="tab-btn" data-tab="off-in-lieu" style="padding: 12px 20px; background: none; border: none; color: #64748b; font-weight: 500; font-size: 13px; cursor: pointer;">
                        Off in Lieu
                    </button>
                    <button class="tab-btn" data-tab="leave-encashment" style="padding: 12px 20px; background: none; border: none; color: #64748b; font-weight: 500; font-size: 13px; cursor: pointer;">
                        Leave Encashment
                    </button>
                </div>
                
                <!-- Action Buttons for Tabs -->
                <div style="padding: 15px 20px; border-bottom: 1px solid #e2e8f0; display: flex; justify-content: space-between; align-items: center;">
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary employee-leave-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create 
                    </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: #dc2626; border: 1px solid #dc2626; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-trash"></i> Multi Delete
                        </button>
                    </div>
                </div>
                
                <!-- Leave Entry Tab -->
                <div class="tab-content" id="leave-entry-tab" style="padding: 20px; display: block;">
                    <table style="width: 100%; border-collapse: collapse; margin-bottom: 15px;">
                        <thead>
                            <tr style="background: #f8fafc;">
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Code</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Name</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Leave Type</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">From Date</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">To Date</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Days</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Reason</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Status</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Options</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="9" style="padding: 40px; text-align: center; color: #64748b; font-style: italic; border: 1px solid #e2e8f0;">
                                    No data available in table
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- Off in Lieu Tab -->
                <div class="tab-content" id="off-in-lieu-tab" style="padding: 20px; display: none;">
                    <table style="width: 100%; border-collapse: collapse; margin-bottom: 15px;">
                        <thead>
                            <tr style="background: #f8fafc;">
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Code</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Name</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Description</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Actual Date</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">From Date</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">To Date</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">No Of Hours/Days</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Remarks</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Options</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="9" style="padding: 40px; text-align: center; color: #64748b; font-style: italic; border: 1px solid #e2e8f0;">
                                    No data available in table
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- Leave Encashment Tab -->
                <div class="tab-content" id="leave-encashment-tab" style="padding: 20px; display: none;">
                    <table style="width: 100%; border-collapse: collapse; margin-bottom: 15px;">
                        <thead>
                            <tr style="background: #f8fafc;">
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Code</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Name</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Leave Type</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Encashment Type</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">No Of Hours/Days</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Options</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="6" style="padding: 40px; text-align: center; color: #64748b; font-style: italic; border: 1px solid #e2e8f0;">
                                    No data available in table
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Table Footer -->
                <div style="padding: 15px 20px; border-top: 1px solid #e2e8f0; display: flex; justify-content: space-between; align-items: center; font-size: 12px; color: #64748b;">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span>Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 3px; font-size: 12px;">
                            <option>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span>entries</span>
                    </div>
                    <div>
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 3px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 3px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'employee-leave-create': {
                            heading: 'Employee Leave Entries Create',
                            title: 'Employee Leave Entries - Create',
                            content: `
        <div class="employee-leave-create">
            <!-- Header Actions -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <h2 style="color: var(--dark); font-size: 18px; font-weight: 600;">Employee Leave Entries Create</h2>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: #f59e0b; color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        Save & New
                    </button>
                    <button class="btn btn-outline employee-leave-create-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Main Form Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Employee -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Employee*
                                </label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Choose Employee</option>
                                </select>
                            </div>
                            
                            <!-- Month -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Month*
                                </label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>November</option>
                                    <option>December</option>
                                    <option>January</option>
                                </select>
                            </div>
                            
                            <!-- From Date -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    From Date
                                </label>
                                <input type="date" value="2025-11-30" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- No of Days -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    No of Days*
                                </label>
                                <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                            </div>
                            
                            <!-- Half Day Leave -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Half Day Leave
                                </label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>No</option>
                                    <option>Yes</option>
                                </select>
                            </div>
                            
                            <!-- Multiple Leave Tracking -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Multiple Leave Tracking
                                </label>
                                <div style="display: flex; gap: 10px;">
                                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 13px; flex: 1;">
                                        Leave Summary
                                    </button>
                                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 13px; flex: 1;">
                                        Leave Details
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Code
                                </label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f8fafc; height: 36px;" readonly>
                            </div>
                            
                            <!-- Year -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Year*
                                </label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>2025</option>
                                    <option>2024</option>
                                    <option>2026</option>
                                </select>
                            </div>
                            
                            <!-- To Date -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    To Date
                                </label>
                                <input type="date" value="2025-11-30" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Leave Type -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Leave Type*
                                </label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Sick Leave</option>
                                    <option>Annual Leave</option>
                                    <option>Emergency Leave</option>
                                </select>
                            </div>
                            
                            <!-- Is Include PH -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Is Include PH
                                </label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>No</option>
                                    <option>Yes</option>
                                </select>
                            </div>
                            
                            <!-- Leave Request Status -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Leave Request Status*
                                </label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Requested</option>
                                    <option>Approved</option>
                                    <option>Rejected</option>
                                    <option>Cancelled</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Reason Textarea -->
                <div style="margin-top: 15px;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                            Reason
                        </label>
                        <textarea style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; min-height: 80px; resize: vertical;"></textarea>
                    </div>
                </div>
                
                <!-- Attachments Section -->
                <div style="margin-top: 20px; padding: 15px; background: #f8fafc; border-radius: 5px; border: 1px solid #e2e8f0;">
                    <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 13px; font-weight: 600;">Attachments</h4>
                    <div style="display: grid; grid-template-columns: 1fr 2fr auto; gap: 15px; align-items: end;">
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Name</label>
                            <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Select File</label>
                            <input type="file" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                        <div class="form-group">
                            <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; font-size: 13px;">
                                Upload
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'leave-carry-forward': {
                            heading: 'Leave Carry Forward',
                            title: 'Leave Carry Forward Management',
                            content: `
        <div class="leave-carry-forward-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary leave-carry-forward-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-check"></i> Complete
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-trash"></i> Delete
                    </button>
                </div> 
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Choose Depart...</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Departments</option>
                            <option>Operations</option>
                            <option>IT</option>
                            <option>HR</option>
                            <option>Finance</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Choose Employ...</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Employees</option>
                            <option>DEVARAJ PRASANNA KUMAR</option>
                            <option>HAJI MOHAMED MOHAMED RAMEEZ</option>
                            <option>NETYAN JUESH</option>
                            <option>SHABEER</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Choose Leave...</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Leave Types</option>
                            <option>Sick Leave</option>
                            <option>Annual Leave</option>
                            <option>Emergency Leave</option>
                            <option>Maternity Leave</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">2025</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>2025</option>
                            <option>2024</option>
                            <option>2023</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">2026</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>2026</option>
                            <option>2025</option>
                            <option>2027</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Employees</option>
                            <option>DEVARAJ PRASANNA KUMAR</option>
                            <option>HAJI MOHAMED MOHAMED RAMEEZ</option>
                            <option>NETYAN JUESH</option>
                            <option>SHABEER</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Choose Local...</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Locations</option>
                            <option>Singapore</option>
                            <option>Malaysia</option>
                            <option>India</option>
                        </select>
                    </div>
                    <div class="form-group" style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-search"></i> Fetch
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
                <div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 15px;">
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-file-excel"></i> Export Excel
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-print"></i> Print
                    </button>
                </div>
            </div>
            <div class="table-container">
                <table class="leave-carry-forward-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Employee Name</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Leave Type</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Current Year</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Current Year Entitlement</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Carry Forward</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Allocate for the year</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Total Leave</th>
                            <th style="padding: 12px 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="8" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'leave-carry-forward-create': {
                            heading: 'Leave Carry Forward Create',
                            title: 'Leave Carry Forward - Create',
                            content: `
        <div class="leave-carry-forward-create">
          
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: #f59e0b; color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        Save & New
                    </button>
                    <button class="btn btn-outline leave-carry-forward-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Main Form Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <!-- Filter Row 1 -->
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                    <!-- Department -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Department</option>
                            <option>IT Department</option>
                            <option>HR Department</option>
                            <option>Finance Department</option>
                        </select>
                    </div>
                    
                    <!-- Employee Type -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Employee Type</option>
                            <option>Permanent</option>
                            <option>Contract</option>
                            <option>Part-time</option>
                        </select>
                    </div>
                    
                    <!-- Location -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Location</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Location</option>
                            <option>Main Office</option>
                            <option>Branch Office</option>
                            <option>Remote</option>
                        </select>
                    </div>
                    
                    <!-- Employee -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee*</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Employee</option>
                            <option>SHABEER (EMP-0004)</option>
                            <option>NEYYAN JUESH (EMP-0003)</option>
                            <option>HAJI NOHAMED (EMP-0002)</option>
                        </select>
                    </div>
                </div>

                <!-- Filter Row 2 -->
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                    <!-- Leave Type -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Leave Type*</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Leave Type</option>
                            <option>Annual Leave</option>
                            <option>Sick Leave</option>
                            <option>Emergency Leave</option>
                        </select>
                    </div>
                    
                    <!-- Current Year -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Current Year*</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>2025</option>
                            <option>2024</option>
                            <option>2026</option>
                        </select>
                    </div>
                    
                    <!-- Period Setup -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Period Setup</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Period</option>
                            <option>Monthly</option>
                            <option>Quarterly</option>
                            <option>Yearly</option>
                        </select>
                    </div>
                    
                    <!-- Is Expiry -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Is Expiry</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>No</option>
                            <option>Yes</option>
                        </select>
                    </div>
                </div>

                <!-- Leave Details Table -->
                <div style="margin-top: 20px;">
                    <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 13px; font-weight: 600;">Leave Carry Forward Details</h4>
                    <table style="width: 100%; border-collapse: collapse; margin-bottom: 15px;">
                        <thead>
                            <tr style="background: #f8fafc;">
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Leave Type</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Total Leave</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Leave Taken</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Balance Leave</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Carry Forward Days</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Expiry Date</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Options</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="7" style="padding: 40px; text-align: center; color: #64748b; font-style: italic; border: 1px solid #e2e8f0;">
                                    No data available in table
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Add New Row Button -->
                    <div style="text-align: right;">
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--primary); border: 1px solid var(--primary); border-radius: 5px; cursor: pointer; display: inline-flex; align-items: center; gap: 5px;">
                            <i class="fas fa-plus"></i> Add Row
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'loan-management': {
                            heading: 'Loan Entries',
                            title: 'Loan Entries Management',
                            content: `
        <div class="loan-entries-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary loan-entry-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Code</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Search by code" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Name</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Search by name" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Loan No</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Search loan no" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Loan Description</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Search description" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Status</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Status</option>
                            <option>Active</option>
                            <option>Completed</option>
                            <option>Pending</option>
                        </select>
                    </div>
                    <div class="form-group" style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-search"></i> Search
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="loan-entries-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Employee Code</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Employee Name</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Loan No</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Loan Description</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Loan Amount</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Start Date</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Balance Amount</th>
                            <th style="padding: 12px 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Status</th>
                            <th style="padding: 12px 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 13px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="9" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'loan-entry-create': {
                            heading: 'Loan Entry',
                            title: 'Loan Entry - Create',
                            content: `
        <div class="loan-entry-create">
            <!-- Header Actions -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <h2 style="color: var(--dark); font-size: 18px; font-weight: 600;">Loan Entry</h2>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save & Close
                    </button>
                    <button class="btn btn-outline loan-entry-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Main Form Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Employee Name -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Employee Name*
                                </label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>HAJI MOHAMED MOHAMED RAMEEZ</option>
                                    <option>SHABEER</option>
                                    <option>NEYYAN JUESH</option>
                                </select>
                            </div>
                            
                            <!-- Start Date -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Start Date*
                                </label>
                                <input type="date" value="2025-11-30" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Loan Amount -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Loan Amount*
                                </label>
                                <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                            </div>
                            
                            <!-- No of Installments -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    No of Ins*
                                </label>
                                <input type="number" value="0" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Loan Number -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Loan Number
                                </label>
                                <input type="text" value="LN-0001" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f8fafc; height: 36px;" readonly>
                            </div>
                            
                            <!-- Loan Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Loan Code*
                                </label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Choose Loan Code</option>
                                    <option>Personal Loan</option>
                                    <option>Housing Loan</option>
                                    <option>Vehicle Loan</option>
                                </select>
                            </div>
                            
                            <!-- Balance Amount -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Bal Amount
                                </label>
                                <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f8fafc; height: 36px; text-align: right;" readonly>
                            </div>
                            
                            <!-- Installment Amount -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Ins Amount
                                </label>
                                <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f8fafc; height: 36px; text-align: right;" readonly>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Description and Remarks -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                            Description
                        </label>
                        <textarea style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; min-height: 80px; resize: vertical;"></textarea>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                            Remarks
                        </label>
                        <textarea style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; min-height: 80px; resize: vertical;"></textarea>
                    </div>
                </div>

                <!-- Loan Status -->
                <div style="margin-top: 15px;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                            Loan Status*
                        </label>
                        <select style="width: 100%; max-width: 300px; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Active</option>
                            <option>Pending</option>
                            <option>Closed</option>
                            <option>Defaulted</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Loan History Table -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 13px; font-weight: 600;">Loan History</h4>
                <table style="width: 100%; border-collapse: collapse; margin-bottom: 15px;">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Loan No</th>
                            <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Loan Description</th>
                            <th style="padding: 12px; text-align: right; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Loan Amount</th>
                            <th style="padding: 12px; text-align: right; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Balance Amount</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Start Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="5" style="padding: 40px; text-align: center; color: #64748b; font-style: italic; border: 1px solid #e2e8f0;">
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Installment Schedule Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 13px; font-weight: 600;">Installment Schedule</h4>
                <table style="width: 100%; border-collapse: collapse; margin-bottom: 15px;">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Installment No</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Due Date</th>
                            <th style="padding: 12px; text-align: right; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Amount</th>
                            <th style="padding: 12px; text-align: right; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Principal</th>
                            <th style="padding: 12px; text-align: right; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Interest</th>
                            <th style="padding: 12px; text-align: right; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Balance</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="7" style="padding: 40px; text-align: center; color: #64748b; font-style: italic; border: 1px solid #e2e8f0;">
                                No installment schedule available
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'earnings-deductions': {
                            heading: 'Earnings & Deductions',
                            title: 'Earnings & Deductions Management',
                            content: `
        <div class="earnings-deductions-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary earnings-deductions-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-layer-group"></i> Multiple E&D
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
            </div>
            <div style="background: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <span style="font-weight: 600; color: var(--dark);">Multi Delete</span>
                    <button class="btn btn-danger" style="padding: 6px 12px; background: #dc2626; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">
                        Delete Selected
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Employees</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Departments</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Designation</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Location</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Month</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>November</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Year</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>2025</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-download"></i> Fetch
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-times"></i> Clear
                    </button>
                </div>
            </div>
            <div class="table-container">
                <table class="earnings-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 80px;">
                                <input type="checkbox" style="margin-right: 8px;">
                            </th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Code</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 200px;">Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Employee Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Project</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Earning Type</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Amount</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="8" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'earnings-deductions-create': {
                            heading: 'Earnings & Deductions',
                            title: 'Earnings & Deductions - Create',
                            content: `
        <div class="earnings-deductions-create">
            <!-- Header Actions -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <h2 style="color: var(--dark); font-size: 18px; font-weight: 600;">Earnings & Deductions</h2>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save
                    </button>
                    <button class="btn btn-outline earnings-deductions-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Main Form Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <!-- Basic Information Row -->
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                    <!-- Month -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                            Month
                        </label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>November</option>
                            <option>December</option>
                            <option>January</option>
                            <option>February</option>
                            <option>March</option>
                            <option>April</option>
                            <option>May</option>
                            <option>June</option>
                            <option>July</option>
                            <option>August</option>
                            <option>September</option>
                            <option>October</option>
                        </select>
                    </div>
                    
                    <!-- Year -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                            Year
                        </label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>2025</option>
                            <option>2024</option>
                            <option>2026</option>
                        </select>
                    </div>
                    
                    <!-- Employee Name -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                            Employee Name*
                        </label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Employee</option>
                            <option>HAJI MOHAMED MOHAMED RAMEEZ</option>
                            <option>SHABEER</option>
                            <option>NEYYAN JUESH</option>
                        </select>
                    </div>
                    
                    <!-- Earning Name -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                            Earning Name*
                        </label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Earning Type</option>
                            <option>Basic Salary</option>
                            <option>Overtime</option>
                            <option>Bonus</option>
                            <option>Allowance</option>
                            <option>Commission</option>
                        </select>
                    </div>
                </div>

                <!-- Amount and Add Button Row -->
                <div style="display: grid; grid-template-columns: 1fr auto; gap: 15px; align-items: end;">
                    <!-- Amount -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                            Amount*
                        </label>
                        <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                    </div>
                    
                    <!-- Add Detail Button -->
                    <div class="form-group">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; font-size: 13px; white-space: nowrap;">
                            Add Detail
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'claim-management': {
                            heading: 'Claim Management',
                            title: 'Claim Management System',
                            content: `
        <div class="claim-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary claims-management-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create
                    </button>
                    <button class="btn btn-success" style="padding: 8px 16px; background: #10b981; color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-check"></i> Approve
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Claim No</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Find Claim No" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Claim Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Types</option>
                            <option>Travel</option>
                            <option>Medical</option>
                            <option>Food</option>
                            <option>Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Claim Status</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Status</option>
                            <option>Pending</option>
                            <option>Approved</option>
                            <option>Rejected</option>
                            <option>Paid</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Choose Location</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Locations</option>
                            <option>Main Office</option>
                            <option>Branch Office</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Pay Month</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Months</option>
                            <option>January</option>
                            <option>February</option>
                            <option>March</option>
                            <option>April</option>
                            <option>May</option>
                            <option>June</option>
                            <option>July</option>
                            <option>August</option>
                            <option>September</option>
                            <option>October</option>
                            <option>November</option>
                            <option>December</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Pay Year</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>2025</option>
                            <option>2024</option>
                            <option>2023</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Name</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Find Employee" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                </div>  
                <div style="display: flex; justify-content: flex-end; gap: 15px; margin-top: 15px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-download"></i> Fetch
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-times"></i> Clear
                    </button>
                </div>
            </div>
            <div class="table-container">
                <table class="claim-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Pay Month</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Pay Year</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Employee Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Claim Type</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Claim Status</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Amount</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Chart of Account</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Pay Status</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="9" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'claims-management-create': {
                            heading: 'Claims Management',
                            title: 'Claims Management',
                            content: `
        <div class="claims-management">
            <!-- Header Actions -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <h2 style="color: var(--dark); font-size: 18px; font-weight: 600;">Claims Management</h2>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save
                    </button>
                    <button class="btn btn-outline claims-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Tabs Section -->
            <div class="tabs-section" style="background: white; padding: 0; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div class="tabs-header" style="display: flex; border-bottom: 1px solid #e2e8f0;">
                    <button class="tab-btn active" data-tab="claim-details" style="padding: 12px 20px; background: none; border: none; border-bottom: 2px solid var(--primary); color: var(--primary); font-weight: 600; font-size: 13px; cursor: pointer;">
                        Claim Details
                    </button>
                    <button class="tab-btn" data-tab="claim-tracking" style="padding: 12px 20px; background: none; border: none; color: #64748b; font-weight: 500; font-size: 13px; cursor: pointer;">
                        Claim Tracking
                    </button>
                </div>
                
                <!-- Claim Details Tab -->
                <div class="tab-content" id="claim-details-tab" style="padding: 20px; display: block;">
                    <!-- Form Section -->
                    <div style="margin-bottom: 20px;">
                        <!-- First Row -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                            <!-- Month -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Month
                                </label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>November</option>
                                    <option>December</option>
                                    <option>January</option>
                                </select>
                            </div>
                            
                            <!-- Year -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Year
                                </label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>2025</option>
                                    <option>2024</option>
                                    <option>2026</option>
                                </select>
                            </div>
                            
                            <!-- Date -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Date
                                </label>
                                <input type="date" value="2025-11-30" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Employee -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Employee*
                                </label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Choose Employee</option>
                                    <option>HAJI MOHAMED MOHAMED RAMEEZ</option>
                                    <option>SHABEER</option>
                                    <option>NEYYAN JUESH</option>
                                </select>
                            </div>
                        </div>

                        <!-- Second Row -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                            <!-- Claim Number -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Claim Number*
                                </label>
                                <input type="text" value="CL-0014" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f8fafc; height: 36px;" readonly>
                            </div>
                            
                            <!-- Claim Type -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Claim Type*
                                </label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Travel</option>
                                    <option>Medical</option>
                                    <option>Meal</option>
                                    <option>Transport</option>
                                    <option>Accommodation</option>
                                </select>
                            </div>
                            
                            <!-- Amount -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Amount*
                                </label>
                                <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                            </div>
                            
                            <!-- Claims Request Status -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Claims Request Status
                                </label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Requested</option>
                                    <option>Approved</option>
                                    <option>Rejected</option>
                                    <option>Paid</option>
                                </select>
                            </div>
                        </div>

                        <!-- Remarks -->
                        <div style="margin-bottom: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Remarks
                                </label>
                                <textarea style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; min-height: 60px; resize: vertical;"></textarea>
                            </div>
                        </div>

                        <!-- Attachments Section -->
                        <div style="padding: 15px; background: #f8fafc; border-radius: 5px; border: 1px solid #e2e8f0;">
                            <h4 style="color: var(--dark); margin-bottom: 10px; font-size: 13px; font-weight: 600;">Attachments</h4>
                            <p style="color: #64748b; font-size: 11px; margin-bottom: 10px;">
                                (Max. File Size: 4 MB, Supported file formats: jpg, png, pdf, doc)
                            </p>
                            <div style="display: grid; grid-template-columns: 1fr 2fr auto; gap: 15px; align-items: end;">
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Name</label>
                                    <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                </div>
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Select File</label>
                                    <input type="file" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                </div>
                                <div class="form-group">
                                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; font-size: 13px;">
                                        Upload
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Claim Tracking Tab -->
                <div class="tab-content" id="claim-tracking-tab" style="padding: 20px; display: none;">
                    <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 13px; font-weight: 600;">Claim Tracking History</h4>
                    
                    <!-- Claim Tracking Table -->
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #f8fafc;">
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Date</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Pay Month</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Pay Year</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Claim Type</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Claim Status</th>
                                <th style="padding: 12px; text-align: right; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Amount</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Pay Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="7" style="padding: 40px; text-align: center; color: #64748b; font-style: italic; border: 1px solid #e2e8f0;">
                                    No claim tracking data available
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'commission': {
                            heading: 'Sales Commission',
                            title: 'Sales Commission Management',
                            content: `
        <div class="sales-commission-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" id="addCommissionBtn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Add Commission
                    </button>
                    <button class="btn btn-success" style="padding: 8px 16px; background: #10b981; color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-check"></i> Approve
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Month</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Months</option>
                            <option>January</option>
                            <option>February</option>
                            <option>March</option>
                            <option>April</option>
                            <option>May</option>
                            <option>June</option>
                            <option>July</option>
                            <option>August</option>
                            <option>September</option>
                            <option>October</option>
                            <option>November</option>
                            <option>December</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Year</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>2025</option>
                            <option>2024</option>
                            <option>2023</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Name</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Find Employee" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Pay Status</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Status</option>
                            <option>Pending</option>
                            <option>Paid</option>
                            <option>Processing</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-download"></i> Fetch
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-times"></i> Clear
                    </button>
                </div>
            </div>
            <div class="table-container">
                <table class="sales-commission-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Month</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Year</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 200px;">Employee Name</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Sales Amt</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Commission Amt</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Pay Status</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="7" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'pay-generation': {
                            heading: 'Pay Generate',
                            title: 'Payroll Generation System',
                            content: `
        <div class="pay-generate-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" id="generatePayBtn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-cogs"></i> Generate
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-print"></i> Print PaySlip
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-bars"></i> Actions
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Pay Month</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>November</option>
                            <option>December</option>
                            <option>January</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Year</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>2025</option>
                            <option>2024</option>
                            <option>2023</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Emp Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Employee Type</option>
                            <option>Permanent</option>
                            <option>Contract</option>
                            <option>Part-time</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Paymode</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Paymode</option>
                            <option>Bank Transfer</option>
                            <option>Cash</option>
                            <option>Cheque</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Pay period</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Monthly</option>
                            <option>Weekly</option>
                            <option>Bi-weekly</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Department</option>
                            <option>HR</option>
                            <option>Finance</option>
                            <option>IT</option>
                            <option>Sales</option>
                        </select>
                    </div>
                </div>  
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr; gap: 15px; align-items: end; margin-top: 15px;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">ID Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Employee ID Type</option>
                            <option>Employee ID</option>
                            <option>NRIC</option>
                            <option>Passport</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Find Employee" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Location</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Location</option>
                            <option>Main Office</option>
                            <option>Branch Office</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Pay Date</label>
                        <input type="date" value="2025-11-23" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                    </div>
                    <div class="form-group" style="grid-column: span 2;">
                        <div style="display: flex; gap: 10px; margin-top: 20px;">
                            <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                                <i class="fas fa-search"></i> Search
                            </button>
                            <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                                <i class="fas fa-times"></i> Clear
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="pay-generate-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">
                                <input type="checkbox" style="margin-right: 8px;"> Emp Code
                            </th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Emp Name</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Earnings</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Deductions</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Others</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Net Pay</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Employee CPP</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Employer CPP</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Paymode</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Pay Status</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Posting Status</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="12" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'CPF-file-generation': {
                            heading: 'CPF File Generate',
                            title: 'CPF File Generation System',
                            content: `
        <div class="cpf-file-generate-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" id="generateCpfBtn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-cogs"></i> Generate CPF File
                    </button>
                    <button class="btn btn-success" style="padding: 8px 16px; background: #10b981; color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-upload"></i> Submit CPF
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-print"></i>
                    </button>
                </div>
            </div>
            <div class="cpf-info-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 20px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Month</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option selected>November</option>
                            <option>December</option>
                            <option>January</option>
                            <option>February</option>
                            <option>March</option>
                            <option>April</option>
                            <option>May</option>
                            <option>June</option>
                            <option>July</option>
                            <option>August</option>
                            <option>September</option>
                            <option>October</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Year</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option selected>2025</option>
                            <option>2024</option>
                            <option>2023</option>
                            <option>2022</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">CSN Number</label>
                        <input type="text" value="202405870KPTEO1" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;" readonly>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Submission Status</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Status</option>
                            <option>Draft</option>
                            <option>Generated</option>
                            <option>Submitted</option>
                            <option>Approved</option>
                            <option>Rejected</option>
                        </select>
                    </div>
                </div>
                <div style="display: flex; justify-content: flex-end; gap: 15px; margin-top: 20px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-search"></i> Fetch Records
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-times"></i> Clear
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Employee Types</option>
                            <option>Singaporean</option>
                            <option>PR</option>
                            <option>Foreigner</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Departments</option>
                            <option>HR</option>
                            <option>Finance</option>
                            <option>IT</option>
                            <option>Sales</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Location</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Locations</option>
                            <option>Main Office</option>
                            <option>Branch Office</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Name</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Search Employee" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="cpf-file-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 80px;">
                                <input type="checkbox" style="margin-right: 8px;">
                            </th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Employee ID</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 200px;">Employee Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">NRIC/FIN</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Ordinary Wages</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Employee CPF</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Employer CPF</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Total CPF</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Status</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="10" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'HR-may-bank-file-generate': {
                            heading: 'HR May Bank File Generate',
                            title: 'Bank File Generation System',
                            content: `
        <div class="hr-bank-file-generate-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary hr-bank-file-generate-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create
                    </button>
                    <button class="btn btn-success" style="padding: 8px 16px; background: #10b981; color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-cogs"></i> Generate File
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-upload"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Batch No</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Search Batch No" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Month</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Months</option>
                            <option>January</option>
                            <option>February</option>
                            <option>March</option>
                            <option>April</option>
                            <option selected>May</option>
                            <option>June</option>
                            <option>July</option>
                            <option>August</option>
                            <option>September</option>
                            <option>October</option>
                            <option>November</option>
                            <option>December</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Year</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>2025</option>
                            <option>2024</option>
                            <option>2023</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Bank Name</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Banks</option>
                            <option>DBS Bank</option>
                            <option>OCBC Bank</option>
                            <option>UOB Bank</option>
                            <option>Standard Chartered</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-search"></i> Search
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-times"></i> Clear
                    </button>
                </div>
            </div>
            <div class="table-container">
                <table class="bank-file-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Batch No</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Month</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Year</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Employee Count</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Total Amount</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Bank Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Status</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="8" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'hr-bank-file-generate': {
                            heading: 'HR May Bank File Generate',
                            title: 'HR Bank File Generate',
                            content: `
        <div class="hr-bank-file-generate">
            <!-- Header Section -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <h2 style="color: var(--dark); font-size: 18px; font-weight: 600;">HR May Bank File Generate</h2>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-download"></i> Generate
                    </button>
                    <button class="btn btn-outline bank-file-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Filter Section - Image-à®²à¯ à®‡à®°à¯à®ªà¯à®ªà®¤à¯ à®ªà¯‹à®² -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <!-- First Row -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 15px;">
                    <!-- Left Side - Month, Year -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Month</label>
                            <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <option>November</option>
                                <option>December</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Year*</label>
                            <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <option>2025</option>
                                <option>2024</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Right Side - Remarks -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Remarks</label>
                        <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                    </div>
                </div>

                <!-- Second Row - Department, Employee Type, Location, Pay Period, Book -->
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Departments</option>
                            <option>IT</option>
                            <option>HR</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Types</option>
                            <option>Permanent</option>
                            <option>Contract</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Location</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Locations</option>
                            <option>Main Office</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Pay Period</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Monthly</option>
                            <option>Weekly</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Book</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Book</option>
                            <option>Main Book</option>
                        </select>
                    </div>
                </div>

                <!-- Generate Button -->
                <div style="text-align: right;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; font-size: 13px; min-width: 120px;">
                        Generate
                    </button>
                </div>
            </div>

            <!-- Main Content Section - Image-à®²à¯ à®‡à®°à¯à®ªà¯à®ªà®¤à¯ à®ªà¯‹à®² 3 columns -->
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                
                <!-- Left Column - Bank Details Table -->
                <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; grid-column: span 1;">
                    <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 13px; font-weight: 600;">Bank Account Details</h4>
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #f8fafc;">
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Bank Code</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Account</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Employee ID</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">DBSSSG5GXXX</td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">007621396</td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">EMP-0001</td>
                            </tr>
                            <tr>
                                <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">DBSSSG5GXXX</td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">438303480</td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">EMP-0002</td>
                            </tr>
                            <tr>
                                <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">DBSSSG5GXXX</td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">438049487</td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">EMP-0003</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Middle Column - Employee Count -->
                <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; grid-column: span 1;">
                    <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 13px; font-weight: 600;">
                        Total Count: <span style="color: var(--primary);">3</span>
                    </h4>
                    <div style="display: grid; grid-template-columns: 1fr; gap: 10px;">
                        <div style="padding: 12px; background: #f8fafc; border-radius: 5px; border: 1px solid #e2e8f0; font-size: 13px; font-weight: 500;">
                            DEVARAJ PRASANNA KUMAR
                        </div>
                        <div style="padding: 12px; background: #f8fafc; border-radius: 5px; border: 1px solid #e2e8f0; font-size: 13px; font-weight: 500;">
                            HAJI MOHAMED MOHAMED RAMEEZ
                        </div>
                        <div style="padding: 12px; background: #f8fafc; border-radius: 5px; border: 1px solid #e2e8f0; font-size: 13px; font-weight: 500;">
                            NEYYAN JUESH
                        </div>
                    </div>
                </div>

                <!-- Right Column - Amount Summary -->
                <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; grid-column: span 1;">
                    <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 13px; font-weight: 600;">
                        Total Amount: <span style="color: var(--primary);">28,550.00</span>
                    </h4>
                    <div style="display: grid; grid-template-columns: 1fr; gap: 10px;">
                        <div style="display: flex; justify-content: space-between; padding: 12px; background: #f8fafc; border-radius: 5px; border: 1px solid #e2e8f0; font-size: 13px;">
                            <span>DEVARAJ PRASANNA KUMAR</span>
                            <span style="font-weight: 600; color: var(--primary);">9,650.00</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 12px; background: #f8fafc; border-radius: 5px; border: 1px solid #e2e8f0; font-size: 13px;">
                            <span>HAJI MOHAMED MOHAMED RAMEEZ</span>
                            <span style="font-weight: 600; color: var(--primary);">8,300.00</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 12px; background: #f8fafc; border-radius: 5px; border: 1px solid #e2e8f0; font-size: 13px;">
                            <span>NEYYAN JUESH</span>
                            <span style="font-weight: 600; color: var(--primary);">10,600.00</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 12px; background: var(--primary); border-radius: 5px; border: 1px solid var(--primary); font-size: 13px; font-weight: 600; color: white;">
                            <span>GRAND TOTAL</span>
                            <span>28,550.00</span>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'IRAS-submission': {
                            heading: 'IRAS Submission',
                            title: 'IRAS AIS Submission',
                            content: `
        <div class="iras-submission" style="max-width: 800px; margin: 0 auto; padding: 40px 20px;">
            <div class="welcome-card" style="background: white; padding: 40px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); text-align: center;">
                <h1 style="color: var(--dark); margin-bottom: 15px; font-size: 28px;">
                    IRAS Submission
                </h1>
                
                <div style="margin-bottom: 30px;">
                    <h2 style="color: var(--secondary); margin-bottom: 10px; font-size: 20px; font-weight: 600;">
                        Welcome to IRAS AIS Submission Wizard !
                    </h2>
                    <div style="display: inline-flex; align-items: center; gap: 8px; background: #dcfce7; color: #166534; padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: 600;">
                        <div style="width: 8px; height: 8px; background: #22c55e; border-radius: 50%;"></div>
                        LIVE
                    </div>
                </div>
                
                <button class="btn btn-primary" style="padding: 12px 30px; background: var(--primary); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: 600; display: inline-flex; align-items: center; gap: 8px;">
                    <i class="fas fa-eye"></i>
                    VIEW SUBMISSION
                </button>
                
                <div style="margin-top: 30px; padding: 20px; background: #f8fafc; border-radius: 8px; text-align: left;">
                    <h3 style="color: var(--dark); margin-bottom: 15px; font-size: 16px;">Quick Actions:</h3>
                    <div style="display: flex; gap: 15px; justify-content: center;">
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 13px;">
                            New Submission
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 13px;">
                            History
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 13px;">
                            Settings
                        </button>
                    </div>
                </div>
            </div>
            
           <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'IRAS': {
                            heading: 'IRAS',
                            title: 'IRAS Submission 2025',
                            content: `
        <div class="iras-dashboard" style="max-width: 1000px; margin: 0 auto; padding: 20px;">
            <div class="header-section" style="text-align: center; margin-bottom: 40px;">
                <h1 style="color: var(--dark); margin-bottom: 10px; font-size: 32px;">IRAS</h1>
                <div style="background: #1e40af; color: white; padding: 8px 16px; border-radius: 6px; display: inline-block; font-weight: 600;">
                    2025 ASSESSMENT FOR YEAR 2024 INCOME
                </div>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px;">
                <div class="setup-column">
                    <div class="section-card" style="background: white; padding: 25px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h2 style="color: var(--dark); margin-bottom: 20px; font-size: 18px; border-bottom: 2px solid #3b82f6; padding-bottom: 8px;">SETUP</h2>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <button class="menu-item" style="display: flex; align-items: center; gap: 10px; padding: 12px 15px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 6px; cursor: pointer; text-align: left; width: 100%;">
                                <i class="fas fa-cog" style="color: #3b82f6;"></i>
                                <span style="font-weight: 500;">Settings</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="files-column">
                    <div class="section-card" style="background: white; padding: 25px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h2 style="color: var(--dark); margin-bottom: 20px; font-size: 18px; border-bottom: 2px solid #10b981; padding-bottom: 8px;">FILES</h2>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <div class="menu-group">
                                <div style="font-weight: 600; color: var(--dark); margin-bottom: 5px; padding-left: 10px;">â€¢ IR8A</div>
                                <div style="display: flex; flex-direction: column; gap: 5px; margin-left: 20px;">
                                    <button class="sub-menu-item" style="padding: 8px 12px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 4px; cursor: pointer; text-align: left; font-size: 14px;">
                                        â—‹ Original
                                    </button>
                                    <button class="sub-menu-item" style="padding: 8px 12px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 4px; cursor: pointer; text-align: left; font-size: 14px;">
                                        â—‹ Amendment
                                    </button>
                                </div>
                            </div>
                            <button class="menu-item" style="display: flex; align-items: center; gap: 10px; padding: 12px 15px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 6px; cursor: pointer; text-align: left; width: 100%;">
                                <span style="font-weight: 500;">â€¢ IR8S</span>
                            </button>
                            <div class="menu-group">
                                <div style="font-weight: 600; color: var(--dark); margin-bottom: 5px; padding-left: 10px;">â€¢ A8A</div>
                                <div style="display: flex; flex-direction: column; gap: 5px; margin-left: 20px;">
                                    <button class="sub-menu-item" style="padding: 8px 12px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 4px; cursor: pointer; text-align: left; font-size: 14px;">
                                        â—‹ Original
                                    </button>
                                    <button class="sub-menu-item" style="padding: 8px 12px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 4px; cursor: pointer; text-align: left; font-size: 14px;">
                                        â—‹ Amendment
                                    </button>
                                </div>
                            </div>
                            <button class="menu-item" style="display: flex; align-items: center; gap: 10px; padding: 12px 15px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 6px; cursor: pointer; text-align: left; width: 100%;">
                                <span style="font-weight: 500;">â€¢ A8B</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="checking-column">
                    <div class="section-card" style="background: white; padding: 25px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <h2 style="color: var(--dark); margin-bottom: 20px; font-size: 18px; border-bottom: 2px solid #f59e0b; padding-bottom: 8px;">CHECKING AND GENERATE</h2>
                        <div style="display: flex; flex-direction: column; gap: 15px;">
                            <div class="menu-group">
                                <div style="font-weight: 600; color: var(--dark); margin-bottom: 10px;">â€¢ Preview</div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
                                    <button class="sub-menu-item" style="padding: 8px 12px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 4px; cursor: pointer; text-align: center; font-size: 13px;">
                                        IR8A
                                    </button>
                                    <button class="sub-menu-item" style="padding: 8px 12px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 4px; cursor: pointer; text-align: center; font-size: 13px;">
                                        IR8A Summary
                                    </button>
                                    <button class="sub-menu-item" style="padding: 8px 12px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 4px; cursor: pointer; text-align: center; font-size: 13px;">
                                        IR8S
                                    </button>
                                    <button class="sub-menu-item" style="padding: 8px 12px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 4px; cursor: pointer; text-align: center; font-size: 13px;">
                                        A8A
                                    </button>
                                </div>
                            </div>
                            <div class="menu-group">
                                <div style="font-weight: 600; color: var(--dark); margin-bottom: 10px;">â€¢ Generate</div>
                                <div style="display: flex; flex-direction: column; gap: 8px;">
                                    <button class="sub-menu-item" style="padding: 10px 12px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 4px; cursor: pointer; text-align: left; font-size: 14px;">
                                        File Generate
                                    </button>
                                    <button class="sub-menu-item" style="padding: 10px 12px; background: #3b82f6; color: white; border: none; border-radius: 4px; cursor: pointer; text-align: left; font-size: 14px; font-weight: 600;">
                                        Submit
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
              <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'IRAS-file-upload': {
                            heading: 'IRAS File Upload',
                            title: 'IRAS File Upload Management',
                            content: `
        <div class="iras-file-upload">
            <div class="header-section" style="margin-bottom: 20px;">
                <h1 style="color: var(--dark); margin-bottom: 15px;">IRAS File Upload</h1>
            </div>
            <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: flex; justify-content: center;">
                    <button class="btn btn-primary" style="padding: 12px 30px; background: var(--primary); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: 600; display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-upload"></i>
                        File Upload
                    </button>
                </div>
            </div>
            <div class="table-container">
                <table class="file-upload-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Year</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Company</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">File Type</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">No of Records</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Created On</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Status</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="7" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
        </div>
    `
                        }, 'employee-information-list': {
                            heading: 'Employees Information List',
                            title: 'Employees Information Management',
                            content: `
        <div class="employees-information">
            <div class="header-section" style="margin-bottom: 20px;">
                <h1 style="color: var(--dark); margin-bottom: 15px;">Employees Information List</h1>
            </div>
            <div class="filters-section" style="background: white; padding: 25px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr; gap: 20px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Department</label>
                        <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                            <option>Choose Departments</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Employee Type</label>
                        <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                            <option>Choose Employee Types</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Name</label>
                        <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                            <option>Choose Employees Name</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Is Active</label>
                        <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                            <option>Active Employees</option>
                            <option>Inactive Employees</option>
                            <option>All Employees</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Location</label>
                        <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                            <option>Choose Location</option>
                        </select>
                    </div>

                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr auto auto; gap: 20px; align-items: end; margin-top: 20px;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Group by</label>
                        <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                            <option>Select Grouping</option>
                            <option>Department</option>
                            <option>Location</option>
                            <option>Employee Type</option>
                            <option>Designation</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary" style="width: 100%; padding: 10px 16px; background: var(--primary); color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 600; height: 40px;">
                            View Report
                        </button>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-outline" style="width: 100%; padding: 10px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 600; height: 40px; display: flex; align-items: center; justify-content: center; gap: 8px;">
                            <i class="fas fa-file-excel" style="color: #22c55e;"></i>
                            Export Excel
                        </button>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-outline" style="padding: 10px 20px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 600; height: 40px;">
                            More >
                        </button>
                    </div>
                </div>
            </div>
            <div style="background: #f8fafc; padding: 40px; border-radius: 8px; text-align: center; color: #64748b; border: 1px dashed #d1d5db;">
                <i class="fas fa-users" style="font-size: 48px; color: #d1d5db; margin-bottom: 15px; display: block;"></i>
                <p style="font-size: 16px; margin-bottom: 10px;">Employee data will be displayed here</p>
                <p style="font-size: 14px;">Use the filters above to view specific employee information</p>
            </div>
             <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'employee-details': {
                            heading: 'Employees Details',
                            title: 'Employees Details Management',
                            content: `
        <div class="employees-details">
            <div class="header-section" style="margin-bottom: 20px;">
                <h1 style="color: var(--dark); margin-bottom: 15px;">Employees Details</h1>
            </div>
            <div class="filters-section" style="background: white; padding: 25px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                    <div style="display: flex; flex-direction: column; gap: 20px;">
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Department</label>
                            <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                                <option>Choose Departments</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Is Active</label>
                            <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                                <option>Active Employees</option>
                                <option>Inactive Employees</option>
                                <option>All Employees</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 15px; margin-top: 10px;">
                            <button class="btn btn-primary" style="padding: 10px 20px; background: var(--primary); color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 600;">
                                View Report
                            </button>
                            <button class="btn btn-outline" style="padding: 10px 20px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 600; display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-file-excel" style="color: #22c55e;"></i>
                                Export Excel
                            </button>
                        </div>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 20px;">
                        <!-- Employee Type -->
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Employee Type</label>
                            <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                                <option>Choose Employee Types</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Name</label>
                            <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                                <option>Choose Employees Name</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div style="height: 1px; background: #e2e8f0; margin: 25px 0;"></div>
            </div>
            <div style="background: #f8fafc; padding: 40px; border-radius: 8px; text-align: center; color: #64748b; border: 1px dashed #d1d5db; margin-bottom: 20px;">
                <i class="fas fa-id-card" style="font-size: 48px; color: #d1d5db; margin-bottom: 15px; display: block;"></i>
                <p style="font-size: 16px; margin-bottom: 10px;">Employee details will be displayed here</p>
                <p style="font-size: 14px;">Apply filters and click 'View Report' to see employee information</p>
            </div>
            <div style="text-align: center; margin-top: 30px; padding: 20px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Employee Details Management â€¢ HR Information System
            </div>
        </div>
    `
                        }, 'emergency-contact': {
                            heading: 'Emergency Contact',
                            title: 'Emergency Contact Management',
                            content: `
        <div class="emergency-contact">
            <div class="header-section" style="margin-bottom: 20px;">
                <h1 style="color: var(--dark); margin-bottom: 15px;">Emergency Contact</h1>
            </div>
            <div class="filters-section" style="background: white; padding: 25px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 25px; align-items: end;">
                    
                    <!-- Left Column -->
                    <div style="display: flex; flex-direction: column; gap: 20px;">
                        <!-- Department -->
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Department</label>
                            <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                                <option>Choose Departments</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Employee Type</label>
                            <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                                <option>Choose Employee Types</option>
                            </select>
                        </div>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 20px;">
                        <!-- Name -->
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Name</label>
                            <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                                <option>Choose Employees Name</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Is Active</label>
                            <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                                <option>Active Employees</option>
                                <option>Inactive Employees</option>
                                <option>All Employees</option>
                            </select>
                        </div>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 15px; justify-content: flex-end;">
                        <button class="btn btn-primary" style="padding: 12px 24px; background: var(--primary); color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 600; height: 45px;">
                            View Report
                        </button>
                        <button class="btn btn-outline" style="padding: 12px 24px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 600; height: 45px; display: flex; align-items: center; justify-content: center; gap: 8px;">
                            <i class="fas fa-file-excel" style="color: #22c55e;"></i>
                            Export Excel
                        </button>
                    </div>

                </div>
            </div>
            <div style="background: white; padding: 30px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <div style="text-align: center; color: #64748b;">
                    <i class="fas fa-address-book" style="font-size: 48px; color: #d1d5db; margin-bottom: 15px; display: block;"></i>
                    <h3 style="font-size: 18px; margin-bottom: 10px; color: var(--dark);">Emergency Contact Information</h3>
                    <p style="font-size: 14px; margin-bottom: 20px;">Employee emergency contact details will be displayed here</p>
                    
                    <!-- Sample Table Structure -->
                    <div style="background: #f8fafc; padding: 20px; border-radius: 6px; border: 1px dashed #d1d5db;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="border-bottom: 2px solid #e2e8f0;">
                                    <th style="padding: 12px; text-align: left; font-weight: 600; color: var(--dark);">Employee Name</th>
                                    <th style="padding: 12px; text-align: left; font-weight: 600; color: var(--dark);">Contact Person</th>
                                    <th style="padding: 12px; text-align: left; font-weight: 600; color: var(--dark);">Relationship</th>
                                    <th style="padding: 12px; text-align: left; font-weight: 600; color: var(--dark);">Phone Number</th>
                                    <th style="padding: 12px; text-align: left; font-weight: 600; color: var(--dark);">Address</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td colspan="5" style="padding: 30px; text-align: center; color: #64748b; font-style: italic;">
                                        No emergency contact records found
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 30px; padding: 20px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Emergency Contact Management â€¢ HR Safety System
            </div>
        </div>
    `
                        }, 'expiry-info': {
                            heading: 'Expiry Info',
                            title: 'Expiry Information Management',
                            content: `
        <div class="expiry-info">
            <div class="header-section" style="margin-bottom: 20px;">
                <h1 style="color: var(--dark); margin-bottom: 15px;">Expiry Info</h1>
            </div>

            <!-- Filters Section -->
            <div class="filters-section" style="background: white; padding: 25px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                    
                    <!-- Left Column -->
                    <div style="display: flex; flex-direction: column; gap: 20px;">
                        <!-- Department -->
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Department</label>
                            <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                                <option>Choose Departments</option>
                            </select>
                        </div>

                        <!-- Employee Type -->
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Employee Type</label>
                            <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                                <option>Choose Employee Types</option>
                            </select>
                        </div>
                    </div>

                    <!-- Right Column -->
                    <div style="display: flex; flex-direction: column; gap: 20px;">
                        <!-- Name -->
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Name</label>
                            <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                                <option>Choose Employees</option>
                            </select>
                        </div>

                        <!-- Expiry Type -->
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Expiry Type</label>
                            <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                                <option>Choose Expiry Type</option>
                                <option>Passport</option>
                                <option>Visa</option>
                                <option>Work Permit</option>
                                <option>License</option>
                                <option>Certification</option>
                            </select>
                        </div>
                    </div>

                </div>

                <!-- Divider Line -->
                <div style="height: 1px; background: #e2e8f0; margin: 25px 0;"></div>

                <!-- Bottom Row - Date Range and Actions -->
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr; gap: 20px; align-items: end;">
                    
                    <!-- Is Active -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">Is Active</label>
                        <select style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                            <option>Active</option>
                            <option>Expired</option>
                            <option>All</option>
                        </select>
                    </div>

                    <!-- From Date -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">From Date</label>
                        <input type="date" value="2025-11-01" style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                    </div>

                    <!-- To Date -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--dark); font-size: 14px;">To Date</label>
                        <input type="date" value="2025-11-25" style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; height: 40px;">
                    </div>

                    <!-- Fetch Button -->
                    <div class="form-group">
                        <button class="btn btn-primary" style="width: 100%; padding: 10px 16px; background: var(--primary); color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 600; height: 40px;">
                            Fetch
                        </button>
                    </div>

                    <!-- Action Buttons -->
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-outline" style="flex: 1; padding: 10px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 6px; cursor: pointer; font-size: 13px; font-weight: 600; height: 40px;">
                            Print
                        </button>
                        <button class="btn btn-outline" style="flex: 1; padding: 10px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 6px; cursor: pointer; font-size: 13px; font-weight: 600; height: 40px; display: flex; align-items: center; justify-content: center; gap: 5px;">
                            <i class="fas fa-file-excel" style="color: #22c55e;"></i>
                            Excel
                        </button>
                    </div>

                </div>
            </div>

            <!-- Expiry Info Table Placeholder -->
            <div style="background: white; padding: 30px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <div style="text-align: center; color: #64748b;">
                    <i class="fas fa-clock" style="font-size: 48px; color: #d1d5db; margin-bottom: 15px; display: block;"></i>
                    <h3 style="font-size: 18px; margin-bottom: 10px; color: var(--dark);">Expiry Information</h3>
                    <p style="font-size: 14px; margin-bottom: 20px;">Document expiry details will be displayed here</p>
                    
                    <!-- Sample Table Structure -->
                    <div style="background: #f8fafc; padding: 20px; border-radius: 6px; border: 1px dashed #d1d5db;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="border-bottom: 2px solid #e2e8f0;">
                                    <th style="padding: 12px; text-align: left; font-weight: 600; color: var(--dark);">Employee Name</th>
                                    <th style="padding: 12px; text-align: left; font-weight: 600; color: var(--dark);">Document Type</th>
                                    <th style="padding: 12px; text-align: left; font-weight: 600; color: var(--dark);">Document No</th>
                                    <th style="padding: 12px; text-align: left; font-weight: 600; color: var(--dark);">Issue Date</th>
                                    <th style="padding: 12px; text-align: left; font-weight: 600; color: var(--dark);">Expiry Date</th>
                                    <th style="padding: 12px; text-align: left; font-weight: 600; color: var(--dark);">Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td colspan="6" style="padding: 30px; text-align: center; color: #64748b; font-style: italic;">
                                        No expiry records found
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div style="text-align: center; margin-top: 30px; padding: 20px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Expiry Information Management â€¢ Document Tracking System
            </div>
        </div>
    `
                        }, 'leave-summary-(as on)-report': {
                            heading: 'Leave Summary',
                            title: 'Leave Summary Management',
                            content: `
        <div class="leave-summary-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" id="generateReportBtn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-file-export"></i> Generate Report
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-print"></i> Print
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <h3 style="margin-bottom: 15px; color: var(--dark); font-size: 16px;">Leave Summary Filters</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Group By</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Department</option>
                            <option>Location</option>
                            <option>Employee Type</option>
                            <option>Designation</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Choose Departments</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Departments</option>
                            <option>IT</option>
                            <option>HR</option>
                            <option>Finance</option>
                            <option>Operations</option>
                            <option>Sales</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Choose Location</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Locations</option>
                            <option>Chennai</option>
                            <option>Bangalore</option>
                            <option>Mumbai</option>
                            <option>Delhi</option>
                            <option>Hyderabad</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Is Active</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All</option>
                            <option>Active Only</option>
                            <option>Inactive Only</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Sort By</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Employee Name</option>
                            <option>Employee ID</option>
                            <option>Department</option>
                            <option>Join Date</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Employee Types</option>
                            <option>Permanent</option>
                            <option>Contract</option>
                            <option>Intern</option>
                            <option>Probation</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Choose Employees Name</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Employees</option>
                            <option>Ramesh Kumar</option>
                            <option>Priya Sharma</option>
                            <option>Arun Patel</option>
                            <option>Deepa Singh</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Year</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>2025</option>
                            <option>2024</option>
                            <option>2023</option>
                            <option>2026</option>
                        </select>
                    </div>
                </div>  
                <div style="display: flex; justify-content: flex-end; gap: 15px; margin-top: 15px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-filter"></i> Apply Filters
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-times"></i> Clear All
                    </button>
                </div>
            </div>
            <div class="table-container">
                <table class="leave-summary-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Department</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Total Leaves</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Leaves Taken</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Balance</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Sick Leave</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Casual Leave</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Earned Leave</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="9" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-calendar-alt" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No leave data available. Apply filters to generate report.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'leave-details-(as on)-report': {
                            heading: 'Leave Details',
                            title: 'Leave Details Management',
                            content: `
        <div class="leave-details-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" id="viewReportBtn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-eye"></i> View Report
                    </button>
                    <button class="btn btn-outline" id="exportExcelBtn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-file-excel"></i> Export Excel
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-print"></i> Print
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <h3 style="margin-bottom: 15px; color: var(--dark); font-size: 16px;">Leave Details Filters</h3>    
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 20px; align-items: start;">
                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                            <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <option>Choose Departments</option>
                                <option>IT Department</option>
                                <option>HR Department</option>
                                <option>Finance Department</option>
                                <option>Operations</option>
                                <option>Sales & Marketing</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Name</label>
                            <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <option>Choose Employees Name</option>
                                <option>Ramesh Kumar</option>
                                <option>Priya Sharma</option>
                                <option>Arun Patel</option>
                                <option>Deepa Singh</option>
                                <option>Mohammed Ali</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Leave Type</label>
                            <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <option>Choose Leave Type</option>
                                <option>Sick Leave</option>
                                <option>Casual Leave</option>
                                <option>Earned Leave</option>
                                <option>Maternity Leave</option>
                                <option>Paternity Leave</option>
                                <option>Emergency Leave</option>
                            </select>
                        </div>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Type</label>
                            <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <option>Choose Employee Types</option>
                                <option>Permanent</option>
                                <option>Contract</option>
                                <option>Intern</option>
                                <option>Probation</option>
                                <option>Temporary</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Version</label>
                            <div style="padding: 8px 10px; border: 1px solid #e2e8f0; border-radius: 5px; font-size: 13px; background: #f8fafc; height: 36px; display: flex; align-items: center;">
                                Version 2.0
                            </div>
                        </div>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Type</label>
                            <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <option>Current</option>
                                <option>Historical</option>
                                <option>Future</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Location</label>
                            <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <option>Choose Location</option>
                                <option>Chennai</option>
                                <option>Bangalore</option>
                                <option>Mumbai</option>
                                <option>Delhi</option>
                                <option>Hyderabad</option>
                            </select>
                        </div>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <!-- Is Active -->
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Is Active</label>
                            <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <option>All</option>
                                <option>Active Only</option>
                                <option>Inactive Only</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Sort By</label>
                            <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <option>Employee Name</option>
                                <option>Employee ID</option>
                                <option>Department</option>
                                <option>Leave Date</option>
                                <option>Leave Type</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div style="display: flex; justify-content: flex-end; gap: 15px; margin-top: 20px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-filter"></i> Apply Filters
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-times"></i> Clear All
                    </button>
                </div>
            </div>
            <div class="table-container">
                <table class="leave-details-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee ID</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Department</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Leave Type</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">From Date</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">To Date</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Days</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Status</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Applied Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="9" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-clipboard-list" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No leave details found. Apply filters to view report.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'salary-summary-report': {
                            heading: 'Salary Summary',
                            title: 'Salary Summary Report',
                            content: `
        <div class="salary-summary-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" id="viewSalaryReportBtn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-eye"></i> View Report
                    </button>
                    <button class="btn btn-outline" id="exportSalaryExcelBtn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-file-excel"></i> Export Excel
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-print"></i> Print
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
            </div>

            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <h3 style="margin-bottom: 15px; color: var(--dark); font-size: 16px;">Salary Summary Filters</h3>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 20px; align-items: end;">
                    <!-- Group By -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Group By</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Department</option>
                            <option>Location</option>
                            <option>Employee Type</option>
                            <option>Designation</option>
                            <option>Month</option>
                        </select>
                    </div>

                    <!-- Location -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Location</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Locations</option>
                            <option>Chennai</option>
                            <option>Bangalore</option>
                            <option>Mumbai</option>
                            <option>Delhi</option>
                            <option>Hyderabad</option>
                            <option>Pune</option>
                        </select>
                    </div>

                    <!-- Working Type -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Working Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Select Working Type</option>
                            <option>Full Time</option>
                            <option>Part Time</option>
                            <option>Remote</option>
                            <option>Hybrid</option>
                            <option>On-site</option>
                        </select>
                    </div>

                    <!-- Sort by -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Sort by</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Employee Name</option>
                            <option>Employee ID</option>
                            <option>Department</option>
                            <option>Salary Amount</option>
                            <option>Join Date</option>
                        </select>
                    </div>

                    <!-- Employee Status -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Status</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Status</option>
                            <option>Active</option>
                            <option>Inactive</option>
                            <option>On Leave</option>
                            <option>Probation</option>
                            <option>Resigned</option>
                        </select>
                    </div>

                    <!-- Month -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Month</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Nov-2025</option>
                            <option>Dec-2025</option>
                            <option>Jan-2026</option>
                            <option>Feb-2026</option>
                            <option>Mar-2026</option>
                            <option>Apr-2026</option>
                            <option>May-2026</option>
                            <option>Jun-2026</option>
                            <option>Jul-2026</option>
                            <option>Aug-2026</option>
                            <option>Sep-2026</option>
                            <option>Oct-2026</option>
                        </select>
                    </div>

                    <!-- Department -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Departments</option>
                            <option>IT Department</option>
                            <option>HR Department</option>
                            <option>Finance Department</option>
                            <option>Operations</option>
                            <option>Sales & Marketing</option>
                            <option>Research & Development</option>
                        </select>
                    </div>

                    <!-- Employee Type -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Employee Types</option>
                            <option>Permanent</option>
                            <option>Contract</option>
                            <option>Intern</option>
                            <option>Probation</option>
                            <option>Temporary</option>
                        </select>
                    </div>
                </div>

                <!-- Employee Name Row -->
                <div style="display: grid; grid-template-columns: 1fr auto auto; gap: 15px; align-items: end; margin-top: 15px;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Name</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Employees</option>
                            <option>Ramesh Kumar</option>
                            <option>Priya Sharma</option>
                            <option>Arun Patel</option>
                            <option>Deepa Singh</option>
                            <option>Mohammed Ali</option>
                            <option>Sneha Reddy</option>
                        </select>
                    </div>

                    <div style="display: flex; gap: 10px; justify-self: end; grid-column: span 2;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-eye"></i> View Report
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-file-excel"></i> Export Excel
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-print"></i> Print
                        </button>
                    </div>
                </div>
            </div>

            <div class="table-container">
                <table class="salary-summary-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee ID</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Department</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Designation</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Basic Salary</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Allowances</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Deductions</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Net Salary</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Payment Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="9" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-file-invoice-dollar" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No salary data available. Apply filters to generate report.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'salary-details-report': {
                            heading: 'Salary Details',
                            title: 'Salary Details Report',
                            content: `
        <div class="salary-details-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" id="viewSalaryDetailsBtn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-eye"></i> View Report
                    </button>
                    <button class="btn btn-outline" id="exportSalaryDetailsExcelBtn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-file-excel"></i> Export Excel
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-print"></i> Print
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <h3 style="margin-bottom: 15px; color: var(--dark); font-size: 16px;">Salary Details Filters</h3>    
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 20px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Group By</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Department</option>
                            <option>Location</option>
                            <option>Employee Type</option>
                            <option>Designation</option>
                            <option>Month</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Sort by</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Employee Name</option>
                            <option>Employee ID</option>
                            <option>Department</option>
                            <option>Salary Amount</option>
                            <option>Join Date</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Month</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Nov-2025</option>
                            <option>Dec-2025</option>
                            <option>Jan-2026</option>
                            <option>Feb-2026</option>
                            <option>Mar-2026</option>
                            <option>Apr-2026</option>
                            <option>May-2026</option>
                            <option>Jun-2026</option>
                            <option>Jul-2026</option>
                            <option>Aug-2026</option>
                            <option>Sep-2026</option>
                            <option>Oct-2026</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Department</option>
                            <option>IT Department</option>
                            <option>HR Department</option>
                            <option>Finance Department</option>
                            <option>Operations</option>
                            <option>Sales & Marketing</option>
                            <option>Research & Development</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Employee Type</option>
                            <option>Permanent</option>
                            <option>Contract</option>
                            <option>Intern</option>
                            <option>Probation</option>
                            <option>Temporary</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Name</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Employee</option>
                            <option>Ramesh Kumar</option>
                            <option>Priya Sharma</option>
                            <option>Arun Patel</option>
                            <option>Deepa Singh</option>
                            <option>Mohammed Ali</option>
                            <option>Sneha Reddy</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Location</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Location</option>
                            <option>Chennai</option>
                            <option>Bangalore</option>
                            <option>Mumbai</option>
                            <option>Delhi</option>
                            <option>Hyderabad</option>
                            <option>Pune</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Is Active</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All</option>
                            <option>Active Only</option>
                            <option>Inactive Only</option>
                        </select>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr auto auto auto; gap: 15px; align-items: end; margin-top: 15px;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Working Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Select Working Type</option>
                            <option>Full Time</option>
                            <option>Part Time</option>
                            <option>Remote</option>
                            <option>Hybrid</option>
                            <option>On-site</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Print Header</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Default</option>
                            <option>Custom Header</option>
                            <option>No Header</option>
                            <option>Company Logo</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Template</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Standard</option>
                            <option>Detailed</option>
                            <option>Summary</option>
                            <option>Custom</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Version</label>
                        <div style="padding: 8px 10px; border: 1px solid #e2e8f0; border-radius: 5px; font-size: 13px; background: #f8fafc; height: 36px; display: flex; align-items: center;">
                            Version 2.0
                        </div>
                    </div>
                    <div style="display: flex; gap: 10px; justify-self: end; grid-column: span 2;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-eye"></i> View Report
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-file-excel"></i> Export Excel
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-print"></i> Print
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="salary-details-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee ID</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Department</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Designation</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Basic Salary</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">HRA</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Conveyance</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Medical</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Special Allowance</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Total Earnings</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">PF</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Professional Tax</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">TDS</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Total Deductions</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Net Salary</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="15" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-file-invoice" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No salary details available. Apply filters to generate detailed report.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'year-to-date-report': {
                            heading: 'Year To Date',
                            title: 'Year To Date Report',
                            content: `
        <div class="year-to-date-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" id="viewYTDReportBtn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-eye"></i> View Report
                    </button>
                    <button class="btn btn-outline" id="exportYTDExcelBtn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-file-excel"></i> Export Excel
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-print"></i> Print
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <h3 style="margin-bottom: 15px; color: var(--dark); font-size: 16px;">Year To Date Filters</h3>       
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 20px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Format</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Summary</option>
                            <option>Detailed</option>
                            <option>Monthly Breakdown</option>
                            <option>Quarterly</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Group By</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Department</option>
                            <option>Location</option>
                            <option>Employee Type</option>
                            <option>Designation</option>
                            <option>Month</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Sort by</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Employee Name</option>
                            <option>Employee ID</option>
                            <option>Department</option>
                            <option>Total Salary</option>
                            <option>Join Date</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">From Month</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Jan-2025</option>
                            <option>Feb-2025</option>
                            <option>Mar-2025</option>
                            <option>Apr-2025</option>
                            <option>May-2025</option>
                            <option>Jun-2025</option>
                            <option>Jul-2025</option>
                            <option>Aug-2025</option>
                            <option>Sep-2025</option>
                            <option>Oct-2025</option>
                            <option>Nov-2025</option>
                            <option>Dec-2025</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">To Month</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Nov-2025</option>
                            <option>Dec-2025</option>
                            <option>Jan-2026</option>
                            <option>Feb-2026</option>
                            <option>Mar-2026</option>
                            <option>Apr-2026</option>
                            <option>May-2026</option>
                            <option>Jun-2026</option>
                            <option>Jul-2026</option>
                            <option>Aug-2026</option>
                            <option>Sep-2026</option>
                            <option>Oct-2026</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Is Active</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All</option>
                            <option>Active Only</option>
                            <option>Inactive Only</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Departments</option>
                            <option>All Departments</option>
                            <option>IT Department</option>
                            <option>HR Department</option>
                            <option>Finance Department</option>
                            <option>Operations</option>
                            <option>Sales & Marketing</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Employee Types</option>
                            <option>All Employee Types</option>
                            <option>Permanent</option>
                            <option>Contract</option>
                            <option>Intern</option>
                            <option>Probation</option>
                        </select>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr auto auto auto; gap: 15px; align-items: end; margin-top: 15px;">
                    <!-- Employee Name -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Name</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Employees Name</option>
                            <option>All Employees</option>
                            <option>Ramesh Kumar</option>
                            <option>Priya Sharma</option>
                            <option>Arun Patel</option>
                            <option>Deepa Singh</option>
                            <option>Mohammed Ali</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Location</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Location</option>
                            <option>All Locations</option>
                            <option>Chennai</option>
                            <option>Bangalore</option>
                            <option>Mumbai</option>
                            <option>Delhi</option>
                            <option>Hyderabad</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Print Header</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Row wise</option>
                            <option>Column wise</option>
                            <option>Default</option>
                            <option>Custom</option>
                        </select>
                    </div>
                    <div style="display: flex; gap: 10px; justify-self: end; grid-column: span 3;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-eye"></i> View Report
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-file-excel"></i> Export Excel
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-print"></i> Print
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="year-to-date-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee ID</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Department</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Basic Salary YTD</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Allowances YTD</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Bonus YTD</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Deductions YTD</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Net Salary YTD</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Tax YTD</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="9" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-chart-line" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No year-to-date data available. Apply filters to generate report.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'CPF-summary-report': {
                            heading: 'CPF Summary',
                            title: 'CPF Summary Report',
                            content: `
        <div class="cpf-summary-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" id="viewCPFReportBtn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-eye"></i> View Report
                    </button>
                    <button class="btn btn-outline" id="exportCPFExcelBtn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-file-excel"></i> Export Excel
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-print"></i> Print
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <h3 style="margin-bottom: 15px; color: var(--dark); font-size: 16px;">CPF Summary Filters</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 20px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Group By</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Department</option>
                            <option>Employee Name</option>
                            <option>Location</option>
                            <option>Employee Type</option>
                            <option>Month-Year</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Sort by</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Employee Name</option>
                            <option>Employee ID</option>
                            <option>Department</option>
                            <option>CPF Amount</option>
                            <option>Join Date</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Month-Year</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Nov-2025</option>
                            <option>Dec-2025</option>
                            <option>Jan-2026</option>
                            <option>Feb-2026</option>
                            <option>Mar-2026</option>
                            <option>Apr-2026</option>
                            <option>May-2026</option>
                            <option>Jun-2026</option>
                            <option>Jul-2026</option>
                            <option>Aug-2026</option>
                            <option>Sep-2026</option>
                            <option>Oct-2026</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Departments</option>
                            <option>All Departments</option>
                            <option>IT Department</option>
                            <option>HR Department</option>
                            <option>Finance Department</option>
                            <option>Operations</option>
                            <option>Sales & Marketing</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Employee Types</option>
                            <option>All Employee Types</option>
                            <option>Permanent</option>
                            <option>Contract</option>
                            <option>Intern</option>
                            <option>Probation</option>
                            <option>Temporary</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Name</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Employees Name</option>
                            <option>All Employees</option>
                            <option>Ramesh Kumar</option>
                            <option>Priya Sharma</option>
                            <option>Arun Patel</option>
                            <option>Deepa Singh</option>
                            <option>Mohammed Ali</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Location</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Location</option>
                            <option>All Locations</option>
                            <option>Chennai</option>
                            <option>Bangalore</option>
                            <option>Mumbai</option>
                            <option>Delhi</option>
                            <option>Hyderabad</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Is Active</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All</option>
                            <option>Active Only</option>
                            <option>Inactive Only</option>
                        </select>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr auto auto auto; gap: 15px; align-items: end; margin-top: 15px;">
                    <!-- Version -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Version</label>
                        <div style="padding: 8px 10px; border: 1px solid #e2e8f0; border-radius: 5px; font-size: 13px; background: #f8fafc; height: 36px; display: flex; align-items: center;">
                            Version 2.0
                        </div>
                    </div>
                    <div></div>
                    <div style="display: flex; gap: 10px; justify-self: end; grid-column: span 3;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-eye"></i> View Report
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-file-excel"></i> Export Excel
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-print"></i> Print
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="cpf-summary-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee ID</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Department</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Ordinary Wages</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee CPF</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employer CPF</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Total CPF</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Additional Wages</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">CPF Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="9" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-piggy-bank" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No CPF data available. Apply filters to generate report.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'loan-summary-report': {
                            heading: 'Loan Summary',
                            title: 'Loan Summary Report',
                            content: `
        <div class="loan-summary-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" id="viewLoanReportBtn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-eye"></i> View Report
                    </button>
                    <button class="btn btn-outline" id="exportLoanExcelBtn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-file-excel"></i> Export Excel
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-print"></i> Print
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <h3 style="margin-bottom: 15px; color: var(--dark); font-size: 16px;">Loan Summary Filters</h3>   
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 20px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Loan Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Select Loan Type</option>
                            <option>Personal Loan</option>
                            <option>Home Loan</option>
                            <option>Car Loan</option>
                            <option>Education Loan</option>
                            <option>Emergency Loan</option>
                            <option>Advance Salary</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Departments</option>
                            <option>All Departments</option>
                            <option>IT Department</option>
                            <option>HR Department</option>
                            <option>Finance Department</option>
                            <option>Operations</option>
                            <option>Sales & Marketing</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Employee Types</option>
                            <option>All Employee Types</option>
                            <option>Permanent</option>
                            <option>Contract</option>
                            <option>Intern</option>
                            <option>Probation</option>
                            <option>Temporary</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Name</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Employees Name</option>
                            <option>All Employees</option>
                            <option>Ramesh Kumar</option>
                            <option>Priya Sharma</option>
                            <option>Arun Patel</option>
                            <option>Deepa Singh</option>
                            <option>Mohammed Ali</option>
                        </select>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr auto auto auto; gap: 15px; align-items: end; margin-top: 15px;">
                    <!-- Start Date -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Start Date</label>
                        <input type="date" value="2025-11-01" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">End Date</label>
                        <input type="date" value="2025-11-25" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Print Header</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Header</option>
                            <option>No Header</option>
                            <option>Custom Header</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Is Active</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All</option>
                            <option>Active Only</option>
                            <option>Inactive Only</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Version</label>
                        <div style="padding: 8px 10px; border: 1px solid #e2e8f0; border-radius: 5px; font-size: 13px; background: #f8fafc; height: 36px; display: flex; align-items: center;">
                            Version 2.0
                        </div>
                    </div>
                    <div style="display: flex; gap: 10px; justify-self: end; grid-column: span 2;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-eye"></i> View Report
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-file-excel"></i> Export Excel
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-print"></i> Print
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="loan-summary-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 60px;">S.No</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 80px;">Code</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Name</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Loan No</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">NRIC/FIN</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Start Date</th>
                            <th style="padding: 12px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Loan Amount</th>
                            <th style="padding: 12px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Pay Amount</th>
                            <th style="padding: 12px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Balance Amount</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="10" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-hand-holding-usd" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No loan data available. Apply filters to generate report.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'loan-details-report': {
                            heading: 'Loan Details',
                            title: 'Loan Details Report',
                            content: `
        <div class="loan-details-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" id="viewLoanDetailsBtn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-eye"></i> View Report
                    </button>
                    <button class="btn btn-outline" id="exportLoanDetailsExcelBtn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-file-excel"></i> Export Excel
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-print"></i> Print
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <h3 style="margin-bottom: 15px; color: var(--dark); font-size: 16px;">Loan Details Filters</h3>  
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 20px; align-items: end;">
                    <!-- Loan Type -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Loan Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Select Loan Type</option>
                            <option>Personal Loan</option>
                            <option>Home Loan</option>
                            <option>Car Loan</option>
                            <option>Education Loan</option>
                            <option>Emergency Loan</option>
                            <option>Advance Salary</option>
                            <option>Vehicle Loan</option>
                            <option>Medical Loan</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Start Date</label>
                        <input type="date" value="2025-11-01" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">End Date</label>
                        <input type="date" value="2025-11-25" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Departments</option>
                            <option>All Departments</option>
                            <option>IT Department</option>
                            <option>HR Department</option>
                            <option>Finance Department</option>
                            <option>Operations</option>
                            <option>Sales & Marketing</option>
                            <option>Research & Development</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Print Header</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Default Header</option>
                            <option>Custom Header</option>
                            <option>No Header</option>
                            <option>Company Logo</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Is Active</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All</option>
                            <option>Active Only</option>
                            <option>Inactive Only</option>
                            <option>Pending</option>
                            <option>Closed</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Employee Types</option>
                            <option>All Employee Types</option>
                            <option>Permanent</option>
                            <option>Contract</option>
                            <option>Intern</option>
                            <option>Probation</option>
                            <option>Temporary</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Version</label>
                        <div style="padding: 8px 10px; border: 1px solid #e2e8f0; border-radius: 5px; font-size: 13px; background: #f8fafc; height: 36px; display: flex; align-items: center;">
                            Version 2.0
                        </div>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr auto auto; gap: 15px; align-items: end; margin-top: 15px;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Name</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Employees Name</option>
                            <option>All Employees</option>
                            <option>Ramesh Kumar</option>
                            <option>Priya Sharma</option>
                            <option>Arun Patel</option>
                            <option>Deepa Singh</option>
                            <option>Mohammed Ali</option>
                            <option>Sneha Reddy</option>
                            <option>Vikram Joshi</option>
                        </select>
                    </div>
                    <div style="display: flex; gap: 10px; justify-self: end; grid-column: span 2;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-eye"></i> View Report
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-file-excel"></i> Export Excel
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-print"></i> Print
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="loan-details-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">S.No</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee ID</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee Name</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Loan Type</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Loan Account No</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Start Date</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">End Date</th>
                            <th style="padding: 12px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Loan Amount</th>
                            <th style="padding: 12px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Interest Rate</th>
                            <th style="padding: 12px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">EMI Amount</th>
                            <th style="padding: 12px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Paid Amount</th>
                            <th style="padding: 12px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Balance Amount</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="13" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-file-invoice-dollar" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No loan details available. Apply filters to generate report.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'general-ledger-report': {
                            heading: 'General Ledger',
                            title: 'General Ledger Report',
                            content: `
        <div class="general-ledger-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" id="viewGLReportBtn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-eye"></i> View Report
                    </button>
                    <button class="btn btn-outline" id="exportGLExcelBtn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-file-excel"></i> Export Excel
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-print"></i> Print
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <h3 style="margin-bottom: 15px; color: var(--dark); font-size: 16px;">General Ledger Filters</h3>  
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Month</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>November</option>
                            <option>December</option>
                            <option>January</option>
                            <option>February</option>
                            <option>March</option>
                            <option>April</option>
                            <option>May</option>
                            <option>June</option>
                            <option>July</option>
                            <option>August</option>
                            <option>September</option>
                            <option>October</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Year</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>2025</option>
                            <option>2024</option>
                            <option>2023</option>
                            <option>2026</option>
                            <option>2027</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Department</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Departments</option>
                            <option>All Departments</option>
                            <option>IT Department</option>
                            <option>HR Department</option>
                            <option>Finance Department</option>
                            <option>Operations</option>
                            <option>Sales & Marketing</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Type</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Employee Type</option>
                            <option>All Employee Types</option>
                            <option>Permanent</option>
                            <option>Contract</option>
                            <option>Intern</option>
                            <option>Probation</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employee Name</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Choose Employee Name</option>
                            <option>All Employees</option>
                            <option>Ramesh Kumar</option>
                            <option>Priya Sharma</option>
                            <option>Arun Patel</option>
                            <option>Deepa Singh</option>
                            <option>Mohammed Ali</option>
                        </select>
                    </div>
                    <div class="form-group" style="display: flex; align-items: center; gap: 8px; height: 36px;">
                        <input type="checkbox" id="printHeader" style="width: 16px; height: 16px;">
                        <label for="printHeader" style="font-weight: 600; color: var(--dark); font-size: 12px; margin: 0;">Print Header</label>
                    </div>
                </div>
                <div style="display: flex; justify-content: flex-end; gap: 15px; margin-top: 15px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-eye"></i> View Report
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-file-excel"></i> Export Excel
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-print"></i> Print
                    </button>
                </div>
            </div>
            <div class="table-container" style="margin-bottom: 20px;">
                <table class="general-ledger-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 60%;">Description</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 20%;">Debit</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 20%;">Credit</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 12px; border-bottom: 1px solid #e2e8f0; color: #64748b; font-style: italic;">No transactions found</td>
                            <td style="padding: 12px; text-align: right; border-bottom: 1px solid #e2e8f0; color: #64748b;">-</td>
                            <td style="padding: 12px; text-align: right; border-bottom: 1px solid #e2e8f0; color: #64748b;">-</td>
                        </tr>
                        <tr style="background: #f1f5f9;">
                            <td style="padding: 12px; font-weight: 600; color: var(--dark);">Total</td>
                            <td style="padding: 12px; text-align: right; font-weight: 600; color: var(--dark);">0.00</td>
                            <td style="padding: 12px; text-align: right; font-weight: 600; color: var(--dark);">0.00</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="payments-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <h3 style="margin-bottom: 15px; color: var(--dark); font-size: 16px;">Payments</h3>
                <table class="payments-table" style="width: 100%; border-collapse: collapse;">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 70%;">Description</th>
                            <th style="padding: 12px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 30%;">Amount</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 12px; border-bottom: 1px solid #e2e8f0; color: #64748b; font-style: italic;">No payment records found</td>
                            <td style="padding: 12px; text-align: right; border-bottom: 1px solid #e2e8f0; color: #64748b;">-</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'notifications': {
                            heading: 'Expiry Notifications',
                            title: 'Expiry Notifications Management',
                            content: `
        <div class="expiry-notifications-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" id="refreshNotificationsBtn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-bell"></i> Notify All
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-print"></i>
                    </button>
                </div>
            </div>
            <div class="notification-tabs" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 10px;">
                    <button class="notification-tab active" style="padding: 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: 600; font-size: 13px;">
                        Expiry Notification
                    </button>
                    <button class="notification-tab" style="padding: 12px; background: #f8fafc; color: var(--dark); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-weight: 600; font-size: 13px;">
                        Other Notification
                    </button>
                    <button class="notification-tab" style="padding: 12px; background: #f8fafc; color: var(--dark); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-weight: 600; font-size: 13px;">
                        Earnings Notification
                    </button>
                    <button class="notification-tab" style="padding: 12px; background: #f8fafc; color: var(--dark); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-weight: 600; font-size: 13px;">
                        Birthday Notification
                    </button>
                    <button class="notification-tab" style="padding: 12px; background: #f8fafc; color: var(--dark); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-weight: 600; font-size: 13px;">
                        Cessation Notification
                    </button>
                </div>
            </div>
            <div class="notification-content expiry-notification active">
                <div class="table-container">
                    <table class="expiry-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <thead>
                            <tr style="background: #f8fafc;">
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Code</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Name</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Type</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Number</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Expiry Date</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid #e2e8f0;">EMP-0002</td>
                                <td style="padding: 12px; border-bottom: 1px solid #e2e8f0;">HAJI MOHAMED MOHAMED RAMEEZ</td>
                                <td style="padding: 12px; border-bottom: 1px solid #e2e8f0;">Passport</td>
                                <td style="padding: 12px; border-bottom: 1px solid #e2e8f0;">M8071599</td>
                                <td style="padding: 12px; border-bottom: 1px solid #e2e8f0; color: #dc2626;">29/03/2025</td>
                                <td style="padding: 12px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                    <span style="background: #fee2e2; color: #dc2626; padding: 4px 8px; border-radius: 12px; font-size: 11px; font-weight: 600;">Expired</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="notification-content other-notification" style="display: none;">
                <div class="table-container">
                    <table class="other-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <thead>
                            <tr style="background: #f8fafc;">
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee Code</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee Name</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Type Name</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Application Date</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Issue Date</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Expiry Date</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Length of Service (Year)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="7" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                    <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                    No data available in table
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="notification-content earnings-notification" style="display: none;">
                <div class="table-container">
                    <table class="earnings-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <thead>
                            <tr style="background: #f8fafc;">
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee Name</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Earnings</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Effective Date</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Notify Date</th>
                                <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="5" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                    <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                    No data available in table
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="notification-content birthday-notification" style="display: none;">
                <div class="table-container">
                    <table class="birthday-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <thead>
                            <tr style="background: #f8fafc;">
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Code</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee Name</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Date of Birth</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Upcoming Birthday</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Days Left</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="5" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                    <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                    No data available in table
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="notification-content cessation-notification" style="display: none;">
                <div class="table-container">
                    <table class="cessation-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <thead>
                            <tr style="background: #f8fafc;">
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Code</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee Name</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Notice Period</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Cessation Date</th>
                                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Reason</th>
                                <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="6" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                    <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                    No data available in table
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 1 to 1 of 1 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>

    `
                        }, 'locations': {
                            heading: 'Locations',
                            title: 'Locations Management',
                            content: `
        <div class="locations-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary locations-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Add Location
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-upload"></i> Import
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-print"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr auto auto auto; gap: 15px; align-items: end;">
                    <!-- Search -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Search Code, Name, etc.</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Search locations..." style="width: 100%; padding: 8px 10px 8px 35px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Status</label>
                        <select style="width: 180px; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Active Locations</option>
                            <option>Inactive Locations</option>
                            <option>All Locations</option>
                        </select>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-filter"></i> Fetch
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-print"></i> Print
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="locations-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 200px;">Location Code</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Location Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Status</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Created Date</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                   
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 1 to 3 of 3 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'locations-create': {
                            heading: 'Locations',
                            title: 'Locations',
                            content: `
        <div class="locations-create">
            <!-- Header Actions -->
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" id="save-location-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save & Close
                    </button>
                    <button class="btn btn-outline locations-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
                <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                    <i class="fas fa-map-marker-alt"></i> Create New Location
                </div>
            </div>

            <!-- Main Form Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                    
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Location Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Location Code*
                                </label>
                                <input type="text" id="location-code" placeholder="e.g., LOC-001, HQ, BRANCH-01" 
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <div id="location-code-error" style="color: #ef4444; font-size: 11px; margin-top: 4px; display: none;"></div>
                            </div>
                            
                            <!-- Location Name -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Location Name*
                                </label>
                                <input type="text" id="location-name" placeholder="e.g., Main Office, Warehouse, Branch" 
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Address -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Address
                                </label>
                                <textarea id="location-address" placeholder="Full address of the location"
                                          style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; min-height: 80px; resize: vertical;"></textarea>
                            </div>
                            
                            <!-- City -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    City
                                </label>
                                <input type="text" id="location-city" value="Singapore"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Country -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Country
                                </label>
                                <select id="location-country" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option value="Singapore" selected>Singapore</option>
                                    <option value="Malaysia">Malaysia</option>
                                    <option value="India">India</option>
                                    <option value="USA">USA</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            
                            <!-- Postal Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Postal Code
                                </label>
                                <input type="text" id="location-postal" placeholder="e.g., 123456"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Telephone -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Telephone
                                </label>
                                <input type="tel" id="location-telephone" placeholder="e.g., +65 6123 4567"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Fax -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Fax
                                </label>
                                <input type="tel" id="location-fax" placeholder="e.g., +65 6123 4568"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Is Active -->
                            <div class="form-group" style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" id="location-is-active" checked style="width: 16px; height: 16px;">
                                <label for="location-is-active" style="font-weight: 600; color: var(--dark); font-size: 12px; margin: 0;">Is Active</label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Admin Name -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Admin Name
                                </label>
                                <input type="text" id="location-admin" placeholder="e.g., John Doe"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Sort Code (Auto-calculated) -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Sort Code* <span id="sort-code-hint" style="color: #64748b; font-size: 11px; font-weight: normal;">(Auto-generated)</span>
                                </label>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <input type="number" id="location-sort-code" readonly 
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; text-align: right; color: #059669; font-weight: 600;">
                                   
                                </div>
                            </div>
                            
                            <!-- Staff Code Prefix -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Staff Code Prefix
                                </label>
                                <input type="text" id="location-staff-prefix" placeholder="e.g., HQ, WH, BR"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-transform: uppercase;">
                            </div>
                            
                            <!-- Office Start Time -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Office Start Time*
                                </label>
                                <input type="time" id="location-start-time" value="09:00"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Office End Time -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Office End Time*
                                </label>
                                <input type="time" id="location-end-time" value="18:00"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Break Hours -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Break Hours* <span style="color: #64748b; font-size: 11px; font-weight: normal;">(in hours)</span>
                                </label>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <input type="number" id="location-break-hours" value="1.00" step="0.25" min="0" max="4"
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                                    <span style="color: #64748b; font-size: 13px;">hours</span>
                                </div>
                            </div>
                            
                            <!-- Grace Period -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Grace Period <span style="color: #64748b; font-size: 11px; font-weight: normal;">(in minutes)</span>
                                </label>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <input type="number" id="location-grace-period" value="15" min="0" max="120"
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                                    <span style="color: #64748b; font-size: 13px;">minutes</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Info Box -->
            <div style="background: #f0f9ff; padding: 15px; border-radius: 5px; margin-top: 20px; border: 1px solid #bae6fd;">
                <div style="display: flex; align-items: flex-start; gap: 10px;">
                    <i class="fas fa-info-circle" style="color: #0ea5e9; margin-top: 2px;"></i>
                    <div>
                        <div style="font-weight: 600; color: #0369a1; font-size: 12px; margin-bottom: 5px;">Sort Code Logic:</div>
                        <ul style="margin: 0; padding-left: 20px; color: #64748b; font-size: 12px;">
                            <li><strong>Auto-generated</strong> - System will assign next available number</li>
                            <li><strong>Manual override</strong> - You can manually set if needed</li>
                            <li><strong>Unique</strong> - Each location must have unique sort code</li>
                            <li><strong>Used for ordering</strong> - Locations will be displayed in sort code order</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'departments': {
                            heading: 'Departments',
                            title: 'Departments Management',
                            content: `
        <div class="departments-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary department-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-upload"></i> Import
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline department-refresh-btn" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-print"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr auto auto; gap: 15px; align-items: end;">
                    <!-- Find a Department -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Find a Department</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Search departments..." class="department-search-input" style="width: 100%; padding: 8px 10px 8px 35px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Status</label>
                        <select class="department-status-select" style="width: 180px; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Active Departments</option>
                            <option>Inactive Departments</option>
                            <option>All Departments</option>
                        </select>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary department-fetch-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-filter"></i> Fetch
                        </button>
                        <button class="btn btn-outline department-clear-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="departments-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Code</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Status</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Sort Code</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Created Date</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="6" style="text-align: center; padding: 40px; color: #64748b;">
                                <div class="spinner-border" role="status" style="width: 2rem; height: 2rem;">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                                <p style="margin-top: 10px;">Loading departments...</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select class="department-page-size-select" style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option value="10">10</option>
                            <option value="20" selected>20</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info department-pagination-info" style="color: #64748b; font-size: 14px;">
                        Loading...
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline department-prev-btn" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary department-current-page-btn" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline department-next-btn" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'department-create': {
                            heading: 'Department',
                            title: 'Department - Create',
                            content: `
        <div class="department-create">
            <!-- Header Actions -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save & Close
                    </button>
                    <button class="btn btn-outline department-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
                <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                    <i class="fas fa-building"></i> Create New Department
                </div>
            </div>

            <!-- Main Form Section - 2 Columns -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                    
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Code* <span id="department-code-hint" style="color: #64748b; font-size: 11px; font-weight: normal;"></span>
                                </label>
                                <input type="text" id="department-code" placeholder="e.g., DEPT-001, HR, IT"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <div id="department-code-error" style="color: #ef4444; font-size: 11px; margin-top: 4px; display: none;"></div>
                            </div>
                            
                            <!-- Name -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Name*
                                </label>
                                <input type="text" id="department-name" placeholder="e.g., Human Resources, IT Department"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Office Start Time -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Office Start Time*
                                </label>
                                <input type="time" id="department-start-time" value="09:00"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Office End Time -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Office End Time*
                                </label>
                                <input type="time" id="department-end-time" value="18:00"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Sort Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Sort Code* <span id="sort-code-hint" style="color: #64748b; font-size: 11px; font-weight: normal;">(Auto-generated)</span>
                                </label>
                                <input type="number" id="department-sort-code" readonly
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; text-align: right; color: #059669; font-weight: 600;">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Grace In Before Mins -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Grace In Before Mins
                                </label>
                                <input type="number" id="grace-in-before" value="0" min="0" max="120"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                            </div>
                            
                            <!-- Grace In After Mins -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Grace In After Mins
                                </label>
                                <input type="number" id="grace-in-after" value="0" min="0" max="120"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                            </div>
                            
                            <!-- Grace Out Before Mins -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Grace Out Before Mins
                                </label>
                                <input type="number" id="grace-out-before" value="0" min="0" max="120"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                            </div>
                            
                            <!-- Grace Out After Mins -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Grace Out After Mins
                                </label>
                                <input type="number" id="grace-out-after" value="0" min="0" max="120"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                            </div>
                            
                            <!-- Is Active - Checkbox -->
                            <div class="form-group">
                                <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                    <input type="checkbox" id="department-is-active" checked style="width: 16px; height: 16px; cursor: pointer;">
                                    Is Active
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Info Box -->
            <div style="background: #f0f9ff; padding: 15px; border-radius: 5px; margin-top: 20px; border: 1px solid #bae6fd;">
                <div style="display: flex; align-items: flex-start; gap: 10px;">
                    <i class="fas fa-info-circle" style="color: #0ea5e9; margin-top: 2px;"></i>
                    <div>
                        <div style="font-weight: 600; color: #0369a1; font-size: 12px; margin-bottom: 5px;">How Sort Code Works:</div>
                        <ul style="margin: 0; padding-left: 20px; color: #64748b; font-size: 12px;">
                            <li><strong>Auto-generated</strong> - System will assign next available number (starting from 1)</li>
                            <li><strong>First time</strong> - Creates department with sort code 1</li>
                            <li><strong>Second time</strong> - Auto assigns sort code 2</li>
                            <li><strong>Unique</strong> - Each department has unique sort code</li>
                            <li><strong>Used for ordering</strong> - Departments displayed in sort code order</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'employee-types': {
                            heading: 'Employee Types',
                            title: 'Employee Types Management',
                            content: `
        <div class="employee-types-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary employee-type-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-upload"></i> Import
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-print"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr auto auto; gap: 15px; align-items: end;">
                    <!-- History/Breadcrumb -->
                      <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Search</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Search Employee Type..." style="width: 100%; padding: 8px 10px 8px 35px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Status</label>
                        <select style="width: 150px; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Active</option>
                            <option>Inactive</option>
                            <option>All</option>
                        </select>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-filter"></i> Fetch
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="employee-types-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Type Code</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Description</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Status</th>
                                  <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Hierarchy</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Created Date</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 1 to 3 of 3 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'employee-type-create': {
                            heading: 'Employee Type Create',
                            title: 'Employee Type - Create',
                            content: `
        <div class="employee-type-create">
            <!-- Header Actions -->
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" id="save-employee-type-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save & Close
                    </button>
                    <button class="btn btn-outline employee-type-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
                <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                    <i class="fas fa-user-tag"></i> Create New Employee Type
                </div>
            </div>

            <!-- Main Form Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                    
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Type Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Type Code*
                                </label>
                                <input type="text" id="employee-type-code" placeholder="e.g., DIR, MGR, EMP, CON"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <div id="employee-type-code-error" style="color: #ef4444; font-size: 11px; margin-top: 4px; display: none;"></div>
                            </div>
                            
                            <!-- Description -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Description*
                                </label>
                                <input type="text" id="employee-type-description" placeholder="e.g., Director, Manager, Employee, Contractor"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Hierarchy Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Hierarchy Code* 
                                    <span id="hierarchy-code-hint" style="color: #64748b; font-size: 11px; font-weight: normal;">(Auto-generated)</span>
                                </label>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <input type="number" id="employee-type-hierarchy" readonly
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; text-align: right; color: #059669; font-weight: 600;">
                                    <button id="refresh-hierarchy-btn" class="btn btn-outline" 
                                            style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; white-space: nowrap;">
                                        <i class="fas fa-sync-alt"></i> Refresh
                                    </button>
                                </div>
                                <div style="font-size: 10px; color: #64748b; margin-top: 4px;">
                                    Lower number = Higher hierarchy (1 = Highest)
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column - Checkboxes -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px; margin-top: 40px;">
                            <!-- Is Director - Checkbox -->
                            <div class="form-group">
                                <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                    <input type="checkbox" id="employee-type-is-director" style="width: 16px; height: 16px; cursor: pointer;">
                                    Is Director
                                </label>
                                <div style="font-size: 10px; color: #64748b; margin-top: 4px;">
                                    Director level employees have special privileges
                                </div>
                            </div>
                            
                            <!-- Is Active - Checkbox -->
                            <div class="form-group">
                                <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                    <input type="checkbox" id="employee-type-is-active" checked style="width: 16px; height: 16px; cursor: pointer;">
                                    Is Active
                                </label>
                                <div style="font-size: 10px; color: #64748b; margin-top: 4px;">
                                    Inactive types won't appear in dropdowns
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Info Box -->
            <div style="background: #f0f9ff; padding: 15px; border-radius: 5px; margin-top: 20px; border: 1px solid #bae6fd;">
                <div style="display: flex; align-items: flex-start; gap: 10px;">
                    <i class="fas fa-info-circle" style="color: #0ea5e9; margin-top: 2px;"></i>
                    <div>
                        <div style="font-weight: 600; color: #0369a1; font-size: 12px; margin-bottom: 5px;">Hierarchy Code Logic:</div>
                        <ul style="margin: 0; padding-left: 20px; color: #64748b; font-size: 12px;">
                            <li><strong>Auto-generated</strong> - System assigns next available number (1, 2, 3...)</li>
                            <li><strong>Manual override</strong> - You can manually change if needed</li>
                            <li><strong>Unique</strong> - Each employee type must have unique hierarchy code</li>
                            <li><strong>Ordering</strong> - Lower number = Higher hierarchy (1 = CEO, 2 = Director, etc.)</li>
                            <li><strong>Hierarchy flow</strong> - Used for reporting structure and approval workflows</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'earnings-types': {
                            heading: 'Earnings Types',
                            title: 'Earnings Types Management',
                            content: `
        <div class="earnings-types-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary earnings-type-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-upload"></i> Import
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-print"></i>
                    </button>
                </div>
            </div>

            <!-- Filters Section -->
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr auto auto; gap: 15px; align-items: end;">
                    <!-- Search -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Search Type Code, Description</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Search earnings types..." style="width: 100%; padding: 8px 10px 8px 35px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>

                    <!-- Status Filter -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Status</label>
                        <select style="width: 150px; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Active</option>
                            <option>Inactive</option>
                            <option>All</option>
                        </select>
                    </div>

                    <!-- Action Buttons -->
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-filter"></i> Fetch
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
            </div>

            <!-- Earnings Types Table -->
            <div class="table-container">
                <table class="earnings-types-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1); font-size: 13px;">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Type Code</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Description</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 80px;">CPF</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Additional Wage</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Is Addition</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 90px;">Daily Rate</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 80px;">Sort Code</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Basic Salary -->
                        <tr>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; font-weight: 600; color: var(--dark);">BP</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0;">Basic Salary</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" checked style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center; font-weight: 600;">1</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <div style="display: flex; gap: 5px; justify-content: center;">
                                    <button class="btn-edit" style="padding: 4px 8px; background: #3b82f6; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-delete" style="padding: 4px 8px; background: #ef4444; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        
                        <!-- Fixed Allowances -->
                        <tr>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; font-weight: 600; color: var(--dark);">ALL</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0;">Fixed Allowances</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" checked style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center; font-weight: 600;">2</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <div style="display: flex; gap: 5px; justify-content: center;">
                                    <button class="btn-edit" style="padding: 4px 8px; background: #3b82f6; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-delete" style="padding: 4px 8px; background: #ef4444; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        
                        <!-- Over Time -->
                        <tr>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; font-weight: 600; color: var(--dark);">OT</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0;">Over Time</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" checked style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center; font-weight: 600;">3</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <div style="display: flex; gap: 5px; justify-content: center;">
                                    <button class="btn-edit" style="padding: 4px 8px; background: #3b82f6; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-delete" style="padding: 4px 8px; background: #ef4444; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        
                        <!-- Bonus -->
                        <tr>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; font-weight: 600; color: var(--dark);">BNS</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0;">Bonus</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" checked style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center; font-weight: 600;">4</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <div style="display: flex; gap: 5px; justify-content: center;">
                                    <button class="btn-edit" style="padding: 4px 8px; background: #3b82f6; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-delete" style="padding: 4px 8px; background: #ef4444; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        
                        <!-- Housing Allowances -->
                        <tr>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; font-weight: 600; color: var(--dark);">HAL</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0;">Housing Allowances</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" checked style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center; font-weight: 600;">5</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <div style="display: flex; gap: 5px; justify-content: center;">
                                    <button class="btn-edit" style="padding: 4px 8px; background: #3b82f6; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-delete" style="padding: 4px 8px; background: #ef4444; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        
                        <!-- Transport Allowances -->
                        <tr>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; font-weight: 600; color: var(--dark);">TAL</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0;">Transport Allowances</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" checked style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center; font-weight: 600;">6</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <div style="display: flex; gap: 5px; justify-content: center;">
                                    <button class="btn-edit" style="padding: 4px 8px; background: #3b82f6; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-delete" style="padding: 4px 8px; background: #ef4444; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        
                        <!-- Mobile Allowances -->
                        <tr>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; font-weight: 600; color: var(--dark);">MAL</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0;">Mobile Allowances</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" checked style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center; font-weight: 600;">7</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <div style="display: flex; gap: 5px; justify-content: center;">
                                    <button class="btn-edit" style="padding: 4px 8px; background: #3b82f6; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-delete" style="padding: 4px 8px; background: #ef4444; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        
                        <!-- Unpaid Leave -->
                        <tr>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; font-weight: 600; color: var(--dark);">UL</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0;">Unpaid Leave</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" checked style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center; font-weight: 600;">8</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <div style="display: flex; gap: 5px; justify-content: center;">
                                    <button class="btn-edit" style="padding: 4px 8px; background: #3b82f6; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-delete" style="padding: 4px 8px; background: #ef4444; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        
                        <!-- Salary Advance -->
                        <tr>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; font-weight: 600; color: var(--dark);">SA</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0;">Salary Advance</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" checked style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <input type="checkbox" style="width: 16px; height: 16px;">
                            </td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center; font-weight: 600;">9</td>
                            <td style="padding: 10px; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <div style="display: flex; gap: 5px; justify-content: center;">
                                    <button class="btn-edit" style="padding: 4px 8px; background: #3b82f6; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-delete" style="padding: 4px 8px; background: #ef4444; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 10px;">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 1 to 9 of 9 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'earnings-type-create': {
                            heading: 'Earnings Type',
                            title: 'Earnings Type - Create',
                            content: `
        <div class="earnings-type-create">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save & Close
                    </button>
                    <button class="btn btn-outline earnings-type-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Main Form Section - 2 Columns -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                    
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Type Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Type Code*
                                </label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Description -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Description*
                                </label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- IRBA Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    IRBA Code*
                                </label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Choose IRBACode</option>
                                    <option>Basic Salary</option>
                                    <option>Allowance</option>
                                    <option>Bonus</option>
                                </select>
                            </div>
                            
                            <!-- Checkbox Group 1 -->
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 10px;">
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Is Rules
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" checked style="width: 16px; height: 16px; cursor: pointer;">
                                        Active
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Checkbox Group 2 -->
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Is Gross Wages
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        CPF
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Eligible for Leave Encashment -->
                            <div class="form-group">
                                <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                    <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                    Eligible for Leave Encashment
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Checkbox Group 3 -->
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Is Addition
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Is Daily Rate
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Checkbox Group 4 -->
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Is System
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Is Formula
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Checkbox Group 5 -->
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Is Own Description
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Is Employee Entitlement
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Sort Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Sort Code*
                                </label>
                                <input type="number" value="0" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                            </div>
                            
                            <!-- Chart Of Account -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Chart Of Account
                                </label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Choose Account</option>
                                    <option>Salary Expense</option>
                                    <option>Allowance Expense</option>
                                    <option>Bonus Expense</option>
                                </select>
                            </div>
                            
                            <!-- Backpay Earning -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Backpay Earning
                                </label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Choose Earning Type</option>
                                    <option>Basic Salary</option>
                                    <option>Overtime</option>
                                    <option>Bonus</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'leave-types': {
                            heading: 'Leave Types',
                            title: 'Leave Types Management',
                            content: `
        <div class="leave-types-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary leave-types-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create
                    </button>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr auto; gap: 15px; align-items: end;">
                    <!-- Find Leave Code -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Find Leave Code</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Find Leave Code" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Find Description</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Find Description" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Entitlement Status</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Status</option>
                            <option>With Entitlement</option>
                            <option>Without Entitlement</option>
                        </select>
                    </div>
                    <div class="form-group" style="display: flex; gap: 10px; align-items: end;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-filter"></i> Filter
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="leave-types-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Leave Code</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Description</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Emp Entitlement</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Leave per year</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Maximum Carry Forward</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Pro Rated</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                         
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 1 to 9 of 9 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'leave-types-create': {
                            heading: 'Leave Types',
                            title: 'Leave Types - Create',
                            content: `
        <div class="leave-types-create">
                <div style="display: flex; gap: 10px;">
    <button class="btn btn-primary" id="save-leave-type-btn" 
            style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
        <i class="fas fa-save"></i> Save & Close
    </button>                                                                                                                                                   
                    <button class="btn btn-outline leave-types-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Tabs Section -->
            <div class="tabs-section" style="background: white; padding: 0; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div class="tabs-header" style="display: flex; border-bottom: 1px solid #e2e8f0;">
                    <button class="tab-btn active" data-tab="info" style="padding: 12px 20px; background: none; border: none; border-bottom: 2px solid var(--primary); color: var(--primary); font-weight: 600; font-size: 13px; cursor: pointer;">
                        Info
                    </button>
                    <button class="tab-btn" data-tab="earned" style="padding: 12px 20px; background: none; border: none; color: #64748b; font-weight: 500; font-size: 13px; cursor: pointer;">
                        Earned
                    </button>
                    <button class="tab-btn" data-tab="settings" style="padding: 12px 20px; background: none; border: none; color: #64748b; font-weight: 500; font-size: 13px; cursor: pointer;">
                        Settings
                    </button>
                </div>
                
                <!-- Info Tab -->
                <div class="tab-content" id="info-tab" style="padding: 20px; display: block;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <!-- Left Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <!-- Leave Code -->
                               <div class="form-group">
    <label>Leave Code*</label>
    <input type="text" id="leave-code" placeholder="e.g., AL, CL, ML" 
           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
</div>
                                
                                <!-- Description -->
                              <div class="form-group">
    <label>Description*</label>
    <input type="text" id="leave-description" placeholder="e.g., Annual Leave, Casual Leave"
           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
</div>
                                
                                <!-- Leave Per Year -->
                               <div class="form-group">
    <label>Leave Per Year*</label>
    <input type="number" id="leave-per-year" value="0.00" step="0.25" min="0" max="365"
           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px;">
</div>
                                
                                <!-- Carry Forward Type -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Carry Forward Type
                                    </label>
                                    <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                        <option>Days</option>
                                        <option>Percentage</option>
                                        <option>Rules</option>
                                    </select>
                                </div>
                                
                                <!-- Maximum Carry Forward -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Maximum Carry Forward
                                    </label>
                                    <input type="number" value="0.00" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <!-- Pay Type -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Pay Type
                                    </label>
                                    <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                        <option>Choose Pay Type</option>
                                        <option>Paid</option>
                                        <option>Unpaid</option>
                                        <option>Half Paid</option>
                                    </select>
                                </div>
                                
                                <!-- Leave Taken Shown In PaySlip -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Leave Taken Shown In PaySlip
                                    </label>
                                    <div style="display: flex; gap: 15px;">
                                        <label style="display: flex; align-items: center; gap: 6px; font-size: 13px; cursor: pointer;">
                                            <input type="radio" name="leaveTaken" value="yes" style="width: 16px; height: 16px; cursor: pointer;">
                                            Yes
                                        </label>
                                        <label style="display: flex; align-items: center; gap: 6px; font-size: 13px; cursor: pointer;">
                                            <input type="radio" name="leaveTaken" value="no" checked style="width: 16px; height: 16px; cursor: pointer;">
                                            No
                                        </label>
                                    </div>
                                </div>
                                
                                <!-- Balance Leave In Pay Slip -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Balance Leave In Pay Slip
                                    </label>
                                    <div style="display: flex; gap: 15px;">
                                        <label style="display: flex; align-items: center; gap: 6px; font-size: 13px; cursor: pointer;">
                                            <input type="radio" name="balanceLeave" value="yes" style="width: 16px; height: 16px; cursor: pointer;">
                                            Yes
                                        </label>
                                        <label style="display: flex; align-items: center; gap: 6px; font-size: 13px; cursor: pointer;">
                                            <input type="radio" name="balanceLeave" value="no" checked style="width: 16px; height: 16px; cursor: pointer;">
                                            No
                                        </label>
                                    </div>
                                </div>
                                
                                <!-- Employee Entitlement -->
                               <div class="form-group" style="margin-top: 10px;">
    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
        <input type="checkbox" id="emp-entitlement-checkbox" 
               style="width: 18px; height: 18px; cursor: pointer;">
        <span style="font-weight: 600; color: #1f2937; font-size: 13px;">Employee Entitlement</span>
    </label>
</div>
                                       <div class="form-group" style="margin-top: 10px;">
                                <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                    <input type="checkbox" id="brand-is-active" checked 
                                           style="width: 18px; height: 18px; cursor: pointer;">
                                    <span style="font-weight: 600; color: #1f2937; font-size: 13px;">Is Active</span>
                                </label>
                                    </div>
                                </div>
                                
                                <!-- Sort Code -->
                               <div class="form-group">
    <label>Sort Code</label>
    <input type="number" id="leave-sort-code" value="0" readonly
           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; height: 36px; text-align: right; background: #f9fafb;">
</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Earned Tab -->
                <div class="tab-content" id="earned-tab" style="padding: 20px; display: none;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <!-- Left Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <!-- Type -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Type
                                    </label>
                                    <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                        <option>Calender Year</option>
                                        <option>Joining Date</option>
                                        <option>Financial Year</option>
                                        <option>Contract Type</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                                <!-- Pro Rated -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Pro Rated
                                    </label>
                                    <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                </div>
                                
                                <!-- Entitlement Type -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        Entitlement Type
                                    </label>
                                    <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                        <option>Month</option>
                                        <option>Days</option>
                                    </select>
                                </div>
                                
                                <!-- Month -->
                                <div class="form-group">
                                     <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Is Half Day 
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Settings Tab -->
                <div class="tab-content" id="settings-tab" style="padding: 20px; display: none;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                        <!-- Left Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 12px;">
                                <!-- Block On Probation -->
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Block On Probation
                                    </label>
                                </div>
                                
                                <!-- Auto Entitlement -->
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Auto Entitlement
                                    </label>
                                </div>
                                
                                <!-- Is Attachment Required -->
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Is Attachment Required
                                    </label>
                                </div>
                                
                                <!-- Is Only Full Day -->
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Is Only Full Day
                                    </label>
                                </div>
                                
                                <!-- Hide Balance in Mobile App -->
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Hide Balance in Mobile App
                                    </label>
                                </div>
                                
                                <!-- Hide In Mobile App -->
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Hide In Mobile App
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Column -->
                        <div class="form-column">
                            <div style="display: grid; grid-template-columns: 1fr; gap: 12px;">
                                <!-- Is System -->
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Is System
                                    </label>
                                </div>
                                
                                <!-- Is Off-Day Included -->
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Is Off-Day Included
                                    </label>
                                </div>
                                
                                <!-- Is Remarks required -->
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Is Remarks required
                                    </label>
                                </div>
                                
                                <!-- Custom Payslip Description -->
                                <div class="form-group">
                                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: var(--dark); font-size: 12px; cursor: pointer;">
                                        <input type="checkbox" style="width: 16px; height: 16px; cursor: pointer;">
                                        Custom Payslip Description
                                    </label>
                                </div>
                                
                                <!-- Custom Payslip Description -->
                                <div class="form-group">
                                    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                        custom Payslip Description
                                    </label>
                                    <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                </div>
                                
                               
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'leave-planner': {
                            heading: 'Leave Planner',
                            title: 'Leave Planner Management',
                            content: `
        <div class="leave-planner-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary leave-planner-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create
                    </button>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Find a Planner Name</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Find a Planner Name" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Active</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Status</option>
                            <option>Active</option>
                            <option>Inactive</option>
                        </select>
                    </div>
                    <div class="form-group" style="display: flex; gap: 10px; align-items: end;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-filter"></i> Fetch
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="leave-planner-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Planner Name</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="2" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'leave-planner-create': {
                            heading: 'Leave Planner Create',
                            title: 'Leave Planner Create',
                            content: `
        <div class="leave-planner-create">
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save
                    </button>
                    <button class="btn btn-outline leave-planner-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Main Form Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Planner Name*</label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Is Active</label>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <input type="checkbox" style="width: 16px; height: 16px;">
                                    <span style="font-size: 13px; color: var(--dark);">Active</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Leave Model Type</label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Leave Model</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Choose ...</label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Choose</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Table Section -->
                <div style="margin-top: 20px;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #f8fafc;">
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">From Date</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">To Date</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Block By</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">No Of Allowed</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Planner Status</th>
                                <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Employee</th>
                                <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">
                                    <input type="date" style="width: 100%; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 12px;">
                                </td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">
                                    <input type="date" style="width: 100%; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 12px;">
                                </td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">
                                    <select style="width: 100%; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 12px;">
                                        <option>Select</option>
                                    </select>
                                </td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">
                                    <input type="number" style="width: 100%; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 12px; text-align: right;">
                                </td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">
                                    <select style="width: 100%; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 12px;">
                                        <option>Select Status</option>
                                    </select>
                                </td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">
                                    <select style="width: 100%; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 12px;">
                                        <option>Select Employee</option>
                                    </select>
                                </td>
                                <td style="padding: 12px; border: 1px solid #e2e8f0; text-align: center; font-size: 13px;">
                                    <button class="btn-remove" style="background: none; border: none; color: #ef4444; cursor: pointer; font-size: 16px;">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Add Conditions Button -->
                <div style="margin-top: 15px;">
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-plus"></i> Add Conditions
                    </button>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'loan-types': {
                            heading: 'Loan Types',
                            title: 'Loan Types Management',
                            content: `
        <div class="loan-types-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary loan-type-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-upload"></i> Import
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-print"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr auto auto; gap: 15px; align-items: end;">
                    <!-- Search -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Search Code or Description</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Search loan types..." style="width: 100%; padding: 8px 10px 8px 35px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Status</label>
                        <select style="width: 150px; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>Active</option>
                            <option>Inactive</option>
                            <option>All</option>
                        </select>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-filter"></i> Fetch
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="loan-types-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Loan Code</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Description</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Status</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Created Date</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="5" style="text-align: center; padding: 40px; color: #64748b;">
                                <i class="fas fa-file-invoice-dollar" style="font-size: 24px; opacity: 0.5;"></i>
                                <p style="margin-top: 10px;">Loading loan types...</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'loan-create': {
                            heading: 'Loan Types',
                            title: 'Loan Types - Create',
                            content: `
        <div class="loan-create">
            <!-- Header Actions -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" id="save-loan-type-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save & Close
                    </button>
                    <button class="btn btn-outline loan-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
                <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                    <i class="fas fa-file-invoice-dollar"></i> Create New Loan Type
                </div>
            </div>

            <!-- Main Form Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Loan Code*
                                    <span style="color: #64748b; font-size: 11px; font-weight: normal;">(3-10 characters, uppercase)</span>
                                </label>
                                <input type="text" id="loan-code" 
                                       placeholder="e.g., PER, HOM, CAR, EDU"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-transform: uppercase;">
                                <div id="loan-code-error" style="color: #ef4444; font-size: 11px; margin-top: 4px; display: none;"></div>
                                <div style="font-size: 10px; color: #64748b; margin-top: 4px;">
                                    Examples: PER (Personal), HOM (Home), CAR (Car), EDU (Education)
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Description*
                                    <span style="color: #64748b; font-size: 11px; font-weight: normal;">(Full name of loan type)</span>
                                </label>
                                <input type="text" id="loan-description" 
                                       placeholder="e.g., Personal Loan, Home Loan, Car Loan"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <div style="font-size: 10px; color: #64748b; margin-top: 4px;">
                                    Clear description helps users identify loan type
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Is Active Checkbox -->
                <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid #e2e8f0;">
                    <div class="form-group">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <input type="checkbox" id="loan-is-active" checked style="width: 16px; height: 16px;">
                            <label for="loan-is-active" style="font-weight: 600; color: var(--dark); font-size: 12px; margin: 0;">Is Active</label>
                        </div>
                        <div style="font-size: 10px; color: #64748b; margin-top: 4px;">
                            Active loan types will appear in dropdown selections
                        </div>
                    </div>
                </div>
            </div>

            <!-- Info Box -->
            <div style="background: #f0f9ff; padding: 15px; border-radius: 5px; margin-top: 20px; border: 1px solid #bae6fd;">
                <div style="display: flex; align-items: flex-start; gap: 10px;">
                    <i class="fas fa-info-circle" style="color: #0ea5e9; margin-top: 2px;"></i>
                    <div>
                        <div style="font-weight: 600; color: #0369a1; font-size: 12px; margin-bottom: 5px;">Loan Code Guidelines:</div>
                        <ul style="margin: 0; padding-left: 20px; color: #64748b; font-size: 12px;">
                            <li><strong>Unique</strong> - Each loan code must be unique</li>
                            <li><strong>Uppercase</strong> - Codes are automatically converted to uppercase</li>
                            <li><strong>Short & Descriptive</strong> - Use 3-10 characters (e.g., PER, HOM, CAR)</li>
                            <li><strong>No Spaces</strong> - Avoid spaces in loan codes</li>
                            <li><strong>Active Status</strong> - Inactive loan types won't appear in application forms</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Sample Loan Types -->
            <div style="background: #fef3c7; padding: 15px; border-radius: 5px; margin-top: 15px; border: 1px solid #fbbf24;">
                <div style="display: flex; align-items: flex-start; gap: 10px;">
                    <i class="fas fa-lightbulb" style="color: #d97706; margin-top: 2px;"></i>
                    <div>
                        <div style="font-weight: 600; color: #92400e; font-size: 12px; margin-bottom: 5px;">Common Loan Types:</div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; margin-top: 8px;">
                            <div style="background: white; padding: 8px; border-radius: 4px; border: 1px solid #fbbf24;">
                                <div style="font-size: 11px; color: #92400e; font-weight: 600;">PER</div>
                                <div style="font-size: 10px; color: #64748b;">Personal Loan</div>
                            </div>
                            <div style="background: white; padding: 8px; border-radius: 4px; border: 1px solid #fbbf24;">
                                <div style="font-size: 11px; color: #92400e; font-weight: 600;">HOM</div>
                                <div style="font-size: 10px; color: #64748b;">Home Loan</div>
                            </div>
                            <div style="background: white; padding: 8px; border-radius: 4px; border: 1px solid #fbbf24;">
                                <div style="font-size: 11px; color: #92400e; font-weight: 600;">CAR</div>
                                <div style="font-size: 10px; color: #64748b;">Car Loan</div>
                            </div>
                            <div style="background: white; padding: 8px; border-radius: 4px; border: 1px solid #fbbf24;">
                                <div style="font-size: 11px; color: #92400e; font-weight: 600;">EDU</div>
                                <div style="font-size: 10px; color: #64748b;">Education Loan</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'public-holidays': {
                            heading: 'Public Holidays',
                            title: 'Public Holidays Management',
                            content: `
        <div class="public-holidays-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary public-holiday-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create Holiday
                    </button>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" id="refresh-holidays-btn" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" id="export-holidays-btn" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                </div>
            </div>
            
            <!-- Filters Section -->
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr auto auto auto auto; gap: 15px; align-items: end;">
                    <!-- Search -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Search Code or Description</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" id="holiday-search" placeholder="Search holidays..." style="width: 100%; padding: 8px 10px 8px 35px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    
                    <!-- Year Filter -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Year</label>
                        <select id="holiday-year" style="width: 120px; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option value="">All Years</option>
                            ${(() => {
                                    const currentYear = new Date().getFullYear();
                                    let options = '';
                                    for (let year = currentYear + 5; year >= currentYear - 5; year--) {
                                        options += `<option value="${year}" ${year === currentYear ? 'selected' : ''}>${year}</option>`;
                                    }
                                    return options;
                                })()}
                        </select>
                    </div>
                    
                    <!-- Type Filter -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Type</label>
                        <select id="holiday-type-filter" style="width: 150px; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option value="">All Types</option>
                            <option value="National">National</option>
                            <option value="State">State</option>
                            <option value="Company">Company</option>
                            <option value="Religious">Religious</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    
                    <!-- Location Filter -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Location</label>
                        <select id="holiday-location-filter" style="width: 180px; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option value="">All Locations</option>
                            <!-- Will be populated dynamically -->
                        </select>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" id="fetch-holidays-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-filter"></i> Fetch
                        </button>
                        <button class="btn btn-outline" id="clear-holidays-filter-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Table Container -->
            <div class="table-container">
                <table class="holidays-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 180px;">Holiday Code</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Description</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Actual Date</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Leave Date</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Type / Location</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Options</th>
                        </tr>
                    </thead>
                    <tbody id="holidays-table-body">
                        <!-- Will be populated dynamically -->
                        <tr>
                            <td colspan="6" style="padding: 40px; text-align: center; color: #64748b;">
                                <i class="fas fa-spinner fa-spin" style="font-size: 20px; margin-bottom: 10px; display: block;"></i>
                                Loading holidays...
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- Pagination -->
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select id="holidays-page-size" style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option value="10">10</option>
                            <option value="20" selected>20</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Loading...
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" id="prev-page-btn" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px; min-width: 80px;">
                            Previous
                        </button>
                        <div id="page-numbers" style="display: flex; gap: 2px;">
                            <!-- Page numbers will be generated here -->
                        </div>
                        <button class="btn btn-outline" id="next-page-btn" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px; min-width: 80px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'public-holiday-create': {
                            heading: 'Public Holiday Create',
                            title: 'Public Holiday Create',
                            content: `
        <div class="public-holiday-create">
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" id="save-holiday-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save & Close
                    </button>
                    <button class="btn btn-outline public-holiday-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
                <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                    <i class="fas fa-calendar-alt"></i> Create New Public Holiday
                </div>
            </div>

            <!-- Main Form Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Holiday Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Holiday Code* <span id="holiday-code-hint" style="color: #64748b; font-size: 11px; font-weight: normal;">(e.g., HOL-2024-001)</span>
                                </label>
                                <input type="text" id="holiday-code" placeholder="HOL-2024-001, NY-2024, etc."
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <div id="holiday-code-error" style="color: #ef4444; font-size: 11px; margin-top: 4px; display: none;"></div>
                            </div>
                            
                            <!-- Holiday Type -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Holiday Type*
                                </label>
                                <select id="holiday-type" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option value="National">National Holiday</option>
                                    <option value="State">State Holiday</option>
                                    <option value="Company">Company Holiday</option>
                                    <option value="Religious">Religious Holiday</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            
                            <!-- Description -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Description*
                                </label>
                                <input type="text" id="holiday-description" placeholder="e.g., New Year's Day, Deepavali, Christmas"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Actual Date -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Actual Date* <span style="color: #64748b; font-size: 11px; font-weight: normal;">(Actual holiday date)</span>
                                </label>
                                <input type="date" id="holiday-actual-date" 
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Location (Optional) -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Location <span style="color: #64748b; font-size: 11px; font-weight: normal;">(Leave empty for all locations)</span>
                                </label>
                                <select id="holiday-location" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option value="">All Locations</option>
                                    <!-- Will be populated dynamically -->
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Leave Date -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Leave Date* <span style="color: #64748b; font-size: 11px; font-weight: normal;">(Date observed as holiday)</span>
                                </label>
                                <input type="date" id="holiday-leave-date" 
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Is Recurring -->
                            <div class="form-group" style="background: #f0f9ff; padding: 12px; border-radius: 5px; border: 1px solid #bae6fd;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                    <input type="checkbox" id="holiday-is-recurring" checked style="width: 16px; height: 16px;">
                                    <label for="holiday-is-recurring" style="font-weight: 600; color: var(--dark); font-size: 12px; margin: 0;">Recurring Yearly</label>
                                </div>
                                <div style="font-size: 11px; color: #0369a1;">
                                    <i class="fas fa-info-circle"></i> If checked, holiday will repeat every year automatically
                                </div>
                            </div>
                            
                            <!-- Is National -->
                            <div class="form-group" style="background: #f0f9ff; padding: 12px; border-radius: 5px; border: 1px solid #bae6fd;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                    <input type="checkbox" id="holiday-is-national" checked style="width: 16px; height: 16px;">
                                    <label for="holiday-is-national" style="font-weight: 600; color: var(--dark); font-size: 12px; margin: 0;">National Holiday</label>
                                </div>
                                <div style="font-size: 11px; color: #0369a1;">
                                    <i class="fas fa-info-circle"></i> If checked, applies nationwide (overrides location)
                                </div>
                            </div>
                            
                          
                            
                            <!-- Year Display -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Holiday Year
                                </label>
                                <div style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; display: flex; align-items: center; justify-content: center;">
                                    <span id="holiday-year-display" style="font-size: 14px; font-weight: 700; color: #059669;">2024</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Info Box -->
            <div style="background: #fef3c7; padding: 15px; border-radius: 5px; margin-top: 20px; border: 1px solid #f59e0b;">
                <div style="display: flex; align-items: flex-start; gap: 10px;">
                    <i class="fas fa-exclamation-triangle" style="color: #d97706; margin-top: 2px;"></i>
                    <div>
                        <div style="font-weight: 600; color: #92400e; font-size: 12px; margin-bottom: 5px;">Important Notes:</div>
                        <ul style="margin: 0; padding-left: 20px; color: #92400e; font-size: 12px;">
                            <li><strong>Actual Date:</strong> The actual calendar date of the holiday</li>
                            <li><strong>Leave Date:</strong> The date when leave will be granted (may differ if holiday falls on weekend)</li>
                            <li><strong>Recurring:</strong> System will auto-create this holiday every year</li>
                            <li><strong>Location-specific:</strong> Leave location empty for company-wide holidays</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'claims-types': {
                            heading: 'Claim Types',
                            title: 'Claim Types Management',
                            content: `
        <div class="claim-types-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary claim-types-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create
                    </button>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 15px; align-items: end;">
                    <!-- Active Claim Filter -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Active Claim</label>
                        <select style="width: 150px; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Claims</option>
                            <option>Active Only</option>
                            <option>Inactive Only</option>
                        </select>
                    </div>
                    <div class="form-group" style="display: flex; gap: 10px; align-items: end;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-filter"></i> Fetch
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="claim-types-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Type Code</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Description</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">CPF</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Additional Wage</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Sort Code</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 12px; border-bottom: 1px solid #e2e8f0;">PC</td>
                            <td style="padding: 12px; border-bottom: 1px solid #e2e8f0;">Phone Claim</td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #e2e8f0;">â–¡</td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #e2e8f0;">â–¡</td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #e2e8f0;">1</td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #e2e8f0;">
                                <button style="background: none; border: none; color: var(--primary); cursor: pointer; font-size: 16px;">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 12px; border-bottom: 1px solid #e2e8f0;">TC</td>
                            <td style="padding: 12px; border-bottom: 1px solid #e2e8f0;">Transport Claim</td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #e2e8f0;">â–¡</td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #e2e8f0;">â–¡</td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #e2e8f0;">2</td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #e2e8f0;">
                                <button style="background: none; border: none; color: var(--primary); cursor: pointer; font-size: 16px;">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 12px; border-bottom: 1px solid #e2e8f0;">OE</td>
                            <td style="padding: 12px; border-bottom: 1px solid #e2e8f0;">Office Expenses</td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #e2e8f0;">â–¡</td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #e2e8f0;">â–¡</td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #e2e8f0;">3</td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #e2e8f0;">
                                <button style="background: none; border: none; color: var(--primary); cursor: pointer; font-size: 16px;">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 12px; border-bottom: 1px solid #e2e8f0;">HW</td>
                            <td style="padding: 12px; border-bottom: 1px solid #e2e8f0;">Hardware - For Customers</td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #e2e8f0;">â–¡</td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #e2e8f0;">â–¡</td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #e2e8f0;">4</td>
                            <td style="padding: 12px; text-align: center; border-bottom: 1px solid #e2e8f0;">
                                <button style="background: none; border: none; color: var(--primary); cursor: pointer; font-size: 16px;">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 1 to 4 of 4 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'claim-types-create': {
                            heading: 'Claim Types',
                            title: 'Claim Types Create',
                            content: `
        <div class="claim-types-create">
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save & Close
                    </button>
                    <button class="btn btn-outline claim-types-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Main Form Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                    
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Required Fields -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Type Code*</label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Description*</label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">IR8A Code*</label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Sort Code*</label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Checkbox Grid -->
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px;">
                                <div class="checkbox-group">
                                    <input type="checkbox" id="is-gross-wages" style="margin-right: 8px;">
                                    <label for="is-gross-wages" style="font-size: 12px; color: var(--dark);">Is Gross Wages</label>
                                </div>
                                <div class="checkbox-group">
                                    <input type="checkbox" id="active" style="margin-right: 8px;">
                                    <label for="active" style="font-size: 12px; color: var(--dark);">Active</label>
                                </div>
                                <div class="checkbox-group">
                                    <input type="checkbox" id="cpf" style="margin-right: 8px;">
                                    <label for="cpf" style="font-size: 12px; color: var(--dark);">CPF</label>
                                </div>
                                <div class="checkbox-group">
                                    <input type="checkbox" id="is-remarks-required" style="margin-right: 8px;">
                                    <label for="is-remarks-required" style="font-size: 12px; color: var(--dark);">Is Remarks required</label>
                                </div>
                                <div class="checkbox-group">
                                    <input type="checkbox" id="is-system" style="margin-right: 8px;">
                                    <label for="is-system" style="font-size: 12px; color: var(--dark);">Is System</label>
                                </div>
                                <div class="checkbox-group">
                                    <input type="checkbox" id="is-block-on-probation" style="margin-right: 8px;">
                                    <label for="is-block-on-probation" style="font-size: 12px; color: var(--dark);">Is Block on Probation</label>
                                </div>
                                <div class="checkbox-group">
                                    <input type="checkbox" id="is-block-on-notice-period" style="margin-right: 8px;">
                                    <label for="is-block-on-notice-period" style="font-size: 12px; color: var(--dark);">Is Block on Notice Period</label>
                                </div>
                                <div class="checkbox-group">
                                    <input type="checkbox" id="hide-in-mobile-app" style="margin-right: 8px;">
                                    <label for="hide-in-mobile-app" style="font-size: 12px; color: var(--dark);">Hide in Mobile App</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- Max Amount Fields -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Max Amount (per annum)</label>
                                <input type="number" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Max Amount (per instance)</label>
                                <input type="number" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Max Amount (per month)</label>
                                <input type="number" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                            </div>
                            
                            <!-- Additional Fields -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Chart Of Account</label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Select Chart Of Account</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Custom Payslip Description</label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Right Column Checkboxes -->
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px;">
                                <div class="checkbox-group">
                                    <input type="checkbox" id="is-pay-by-account" style="margin-right: 8px;">
                                    <label for="is-pay-by-account" style="font-size: 12px; color: var(--dark);">Is Pay By Account</label>
                                </div>
                                <div class="checkbox-group">
                                    <input type="checkbox" id="is-attachment-required" style="margin-right: 8px;">
                                    <label for="is-attachment-required" style="font-size: 12px; color: var(--dark);">Is Attachment required</label>
                                </div>
                                <div class="checkbox-group">
                                    <input type="checkbox" id="auto-entitlement" style="margin-right: 8px;">
                                    <label for="auto-entitlement" style="font-size: 12px; color: var(--dark);">AutoEntitlement</label>
                                </div>
                                <div class="checkbox-group">
                                    <input type="checkbox" id="is-entitlement" style="margin-right: 8px;">
                                    <label for="is-entitlement" style="font-size: 12px; color: var(--dark);">Is Entitlement</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'ot-types': {
                            heading: 'OT Types',
                            title: 'OT Types Management',
                            content: `
        <div class="ot-types-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary ot-types-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create
                    </button>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" id="refresh-ot-types-btn" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                </div>
            </div>
            
            <!-- Filters Section -->
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 15px; align-items: end;">
                    <!-- Search -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Search Code or OT Name</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" id="ot-types-search" placeholder="Search OT..." style="width: 100%; padding: 8px 10px 8px 35px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    
                    <!-- Active OT Filter -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Status</label>
                        <select id="ot-types-status" style="width: 150px; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option value="all">All OT Types</option>
                            <option value="active">Active Only</option>
                            <option value="inactive">Inactive Only</option>
                        </select>
                    </div>
                    
                    <!-- Category Filter -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Category</label>
                        <select id="ot-types-category" style="width: 150px; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option value="all">All Categories</option>
                            <option value="Daily">Daily</option>
                            <option value="Weekly">Weekly</option>
                            <option value="Monthly">Monthly</option>
                            <option value="Custom">Custom</option>
                        </select>
                    </div>
                    
                    <div class="form-group" style="display: flex; gap: 10px; align-items: end;">
                        <button class="btn btn-primary" id="fetch-ot-types-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-filter"></i> Fetch
                        </button>
                        <button class="btn btn-outline" id="clear-ot-types-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Table Container -->
            <div class="table-container">
                <table class="ot-types-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Code</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Name</th>
                            <th style="padding: 12px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Category</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Sort Code</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Status</th>
                            <th style="padding: 12px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Options</th>
                        </tr>
                    </thead>
                    <tbody id="ot-types-table-body">
                        <!-- Data will be loaded here dynamically -->
                        <tr id="ot-types-loading">
                            <td colspan="6" style="padding: 40px; text-align: center; color: #64748b;">
                                <i class="fas fa-spinner fa-spin fa-2x"></i>
                                <p style="margin-top: 10px;">Loading OT Types...</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- Pagination -->
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select id="ot-types-page-size" style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option value="10">10</option>
                            <option value="20" selected>20</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div id="ot-types-pagination-info" class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Loading...
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button id="ot-types-prev-btn" class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <span id="ot-types-page-numbers" style="display: flex; gap: 5px;">
                            <button class="btn btn-primary ot-types-page-btn" data-page="1" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        </span>
                        <button id="ot-types-next-btn" class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'ot-types-create': {
                            heading: 'OT Types',
                            title: 'OT Types Create',
                            content: `
        <div class="ot-types-create">
            <!-- Header Actions -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" id="save-ot-type-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save & Close
                    </button>
                    <button class="btn btn-outline ot-types-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
                <div style="color: #64748b; font-size: 12px; font-weight: 500;">
                    <i class="fas fa-clock"></i> Create New OT Type
                </div>
            </div>

            <!-- Main Form Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- OT Type Code -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Code*
                                </label>
                                <input type="text" id="ot-type-code" placeholder="e.g., OT-DLY, OT-WK, OT-MTH" 
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <div id="ot-type-code-error" style="color: #ef4444; font-size: 11px; margin-top: 4px; display: none;"></div>
                            </div>
                            
                            <!-- OT Type Name -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Name*
                                </label>
                                <input type="text" id="ot-type-name" placeholder="e.g., Daily OT, Weekly OT, Monthly OT" 
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            
                            <!-- Min Hours For Break Time -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Min Hrs For Break Time*
                                </label>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <input type="number" id="ot-type-min-hours" value="1.00" step="0.01" min="0" max="24"
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px; text-align: right;">
                                    <span style="color: #64748b; font-size: 13px;">hours</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <!-- OT Type Category -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    OT Type*
                                </label>
                                <select id="ot-type-category" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option value="Daily">Daily</option>
                                    <option value="Weekly">Weekly</option>
                                    <option value="Monthly">Monthly</option>
                                    <option value="Custom">Custom</option>
                                </select>
                            </div>
                            
                            <!-- Sort Code (Auto-generated) -->
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">
                                    Sort Code* <span id="ot-sort-code-hint" style="color: #64748b; font-size: 11px; font-weight: normal;">(Auto-generated)</span>
                                </label>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <input type="number" id="ot-type-sort-code" readonly 
                                           style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: #f9fafb; height: 36px; text-align: right; color: #059669; font-weight: 600;">
                                    <button type="button" id="refresh-ot-sort-btn" class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 12px;">
                                        <i class="fas fa-sync-alt"></i> Refresh
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Is Active -->
                            <div class="form-group" style="margin-top: 10px;">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <input type="checkbox" id="ot-type-is-active" checked style="width: 16px; height: 16px;">
                                    <label for="ot-type-is-active" style="font-weight: 600; color: var(--dark); font-size: 12px; margin: 0;">Is Active</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Info Box -->
            <div style="background: #f0f9ff; padding: 15px; border-radius: 5px; margin-top: 20px; border: 1px solid #bae6fd;">
                <div style="display: flex; align-items: flex-start; gap: 10px;">
                    <i class="fas fa-info-circle" style="color: #0ea5e9; margin-top: 2px;"></i>
                    <div>
                        <div style="font-weight: 600; color: #0369a1; font-size: 12px; margin-bottom: 5px;">Sort Code Logic:</div>
                        <ul style="margin: 0; padding-left: 20px; color: #64748b; font-size: 12px;">
                            <li><strong>Auto-generated</strong> - System will assign next available number (max + 1)</li>
                            <li><strong>First entry</strong>: Sort Code = 1</li>
                            <li><strong>Second entry</strong>: Sort Code = 2 (auto-incremented)</li>
                            <li><strong>Unique</strong> - Each OT type must have unique sort code</li>
                            <li><strong>Used for ordering</strong> - OT Types displayed in sort code order</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'accounts-settings-bank': {
                            heading: 'Banks',
                            title: 'Banks',
                            content: `
        <div class="banks-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px; align-items: center;">
                     <button class="btn btn-primary bank-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create Bank
                    </button>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <!-- Find Bank -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Find Bank</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" id="banks-search" placeholder="Bank Name or Code" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>   
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Account Type</label>
                        <select id="banks-account-type" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Types</option>
                            <option>Current</option>
                            <option>Savings</option>
                            <option>Fixed Deposit</option>
                        </select>
                    </div>   
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Default Status</label>
                        <select id="banks-default-status" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All</option>
                            <option>Default</option>
                            <option>Non-Default</option>
                        </select>
                    </div>   
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-download"></i> Fetch
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="banks-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Code</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Account No</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Account Type</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 100px;">Is Default</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                 
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select id="banks-limit-select" style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 1 to 2 of 2 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt  Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'bank-create': {
                            heading: 'Bank Create',
                            title: 'Bank Create',
                            content: `
        <div class="bank-create">
            <!-- Action Buttons -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                   <button class="btn btn-primary save-btn" onclick="saveBank()" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
            <i class="fas fa-save"></i> Save &Close
        </button>
                    <button class="btn btn-outline bank-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Main Form Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Bank Code*</label>
                                <input type="text" placeholder="Bank Code*" id="bank-code" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Bank Name*</label>
                               <input type="text" placeholder="Bank Name*" id="bank-name" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Account No</label>
                                <input type="text" id="account-number" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Display Name*</label>
                                <input type="text" placeholder="Display Name*" id="display-name" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Beneficiary Name</label>
                                <input type="text" id="beneficiary-name" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Phone No</label>
                                <input type="text" id="phone-number" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Branch Code</label>
                                <input type="text" id="branch-code" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">SWIFT Code</label>
                                <input type="text" id="swift-code" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">IFSC Code</label>
                                <input type="text" id="ifsc-code" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                                                        <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Account Type</label>
                                <select id="account-type" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Current</option>
                                    <option>Savings</option>
                                </select>
                            </div>
                              <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">File Format</label>
                                <select id="file-format" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>DBS</option>
                                    <option>OCBC</option>
                                    <option>RHB</option>
                                    <option>UOB</option>
                                    <option>MAY</option>
                                    <option>GENERIC</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Chart Of Account*</label>
                                <select id="bank-chart-account" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
    <option value="">Loading accounts...</option>
</select>
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Address1</label>
                                <input type="text" id="address1" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Address2</label>
                                <input type="text" id="address2" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Address3</label>
                                <input type="text" id="address3" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">City</label>
                                <input type="text" id="city" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Country</label>
                                <select id="country" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>Choose Country</option>
                                    <option>Singapore</option>
                                    <option>Brunei</option>
                                    <option>Malaysia</option>
                                    <option>Taiwan</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Postal Code</label>
                                <input type="text" id="postal-code" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Currency</label>
                               <select id="bank-currency" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
    <option value="">Loading currencies...</option>
</select>
                            </div>
                            <div class="form-group">
                                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                    <input type="checkbox" id="is-active" checked style="accent-color: var(--primary);">
                                    <span style="font-weight: 600; color: var(--dark); font-size: 13px;">Is Active</span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                    <input type="checkbox" id="is-default" style="accent-color: var(--primary);">
                                    <span style="font-weight: 600; color: var(--dark); font-size: 13px;">Is Default</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'accounts-settings-paymode': {
                            heading: 'Paymode',
                            title: 'Paymode',
                            content: `
        <div class="paymode-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px; align-items: center;">
                   <button class="btn btn-primary paymode-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create New
                    </button>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Find Paymode</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                             <input type="text" placeholder="Code or Description" id="paymode-search" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>   
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Default Status</label>
                       <select id="paymode-default-filter" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All</option>
                            <option>Default</option>
                            <option>Non-Default</option>
                        </select>
                    </div>       
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-download"></i> Fetch
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="paymode-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Code</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 200px;">Description</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Is Default</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>

                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <!-- Show entries dropdown -->
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                       <select id="paymode-page-size" style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <!-- Pagination info -->
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 1 to 2 of 2 entries
                    </div>
                    <!-- Pagination controls -->
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
             <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt  Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'paymode-create': {
                            heading: 'Paymode Create',
                            title: 'Paymode Create',
                            content: `
        <div class="paymode-create">
            <!-- Action Buttons - TOP -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" onclick="savePaymode()"
                        style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save & close
                    </button>
                    <button class="btn btn-outline paymode-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Main Form Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Code*</label>
                                <input type="text" id="paymode-code" 
                                       placeholder="e.g., CASH, BANK, CARD"
                                       style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                <div id="paymode-code-error" style="color: #ef4444; font-size: 11px; margin-top: 4px; display: none;"></div>
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Description*</label>
                                <textarea id="paymode-description" 
                                          placeholder="Enter paymode description..."
                                          style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; min-height: 60px; resize: vertical;"></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-top: 10px;">
                                    <input type="checkbox" id="paymode-is-bank" style="accent-color: var(--primary);">
                                    <span style="font-weight: 600; color: var(--dark); font-size: 13px;">Is Bank</span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                    <input type="checkbox" id="paymode-is-default" style="accent-color: var(--primary);">
                                    <span style="font-weight: 600; color: var(--dark); font-size: 13px;">Is Default</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Form Instructions -->
                <div style="background: #f0f9ff; padding: 15px; border-radius: 5px; margin-top: 20px; border: 1px solid #bae6fd;">
                    <div style="display: flex; align-items: flex-start; gap: 10px;">
                        <i class="fas fa-info-circle" style="color: #0ea5e9; margin-top: 2px;"></i>
                        <div>
                            <div style="font-weight: 600; color: #0369a1; font-size: 12px; margin-bottom: 5px;">Paymode Code Tips:</div>
                            <ul style="margin: 0; padding-left: 20px; color: #64748b; font-size: 12px;">
                                <li>Code must be unique across all paymodes</li>
                                <li>Suggested codes: <code>CASH</code>, <code>BANK</code>, <code>CARD</code>, <code>UPI</code>, <code>CHEQUE</code></li>
                                <li>Use uppercase for consistency</li>
                                <li>Maximum 20 characters</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'accounts-settings-account-division': {
                            heading: 'Accounts Division',
                            title: 'Accounts Division',
                            content: `
        <div class="accounts-division-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px; align-items: center;">
                    <button class="btn btn-primary account-division-create-btn " style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Create
                    </button>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                </div>
            </div>
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <!-- Active Division -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Active Division</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Divisions</option>
                            <option>Active Only</option>
                            <option>Inactive</option>
                        </select>
                    </div>       
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Find a Name</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Division Name" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>    
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-download"></i> Fetch
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>
            </div>
            <div class="table-container">
                <table class="accounts-division-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Code</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Description</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Currency</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <!-- Show entries dropdown -->
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 1 to 1 of 1 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
              <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt  Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'account-division-create': {
                            heading: 'Account Division Create',
                            title: 'Account Division Create',
                            content: `
        <div class="account-division-create">
            <!-- Action Buttons  -->
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary account-division-save-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save & Close
                    </button>
                    <button class="btn btn-outline account-division-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Main Form Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Code*</label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Name*</label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Description</label>
                                <textarea style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; min-height: 60px; resize: vertical;"></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Currency*</label>
                                <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                                    <option>SGD</option>
                                    <option>USD</option>
                                    <option>EUR</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-top: 10px;">
                                    <input type="checkbox" checked style="accent-color: var(--primary);">
                                    <span style="font-weight: 600; color: var(--dark); font-size: 13px;">Is Active</span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                    <input type="checkbox" style="accent-color: var(--primary);">
                                    <span style="font-weight: 600; color: var(--dark); font-size: 13px;">Is Default</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'accounts-settings-chart-of-accounts': {
                            heading: 'Chart Of Accounts',
                            title: 'ChartOfAccounts',
                            content: `
        <div class="chart-of-accounts-management">
            <div class="action-buttons" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px; align-items: center;">
                   <button class="btn btn-primary chart-of-accounts-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-plus"></i> Add Account
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-file-excel"></i> Import Excel
                    </button>
                </div> 
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-outline btn-refresh" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-outline btn-export" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                        <i class="fas fa-download"></i>
                    </button>
                </div>
            </div>
            
            <!-- FILTERS SECTION -->
            <div class="filters-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Find Account</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" id="search-account" placeholder="Account Name or Code" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Account Type</label>
                        <select id="filter-type" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option value="">All Types</option>
                            <option value="ASSETS">Assets</option>
                            <option value="LIABILITIES">Liabilities</option>
                            <option value="EQUITY">Equity</option>
                            <option value="REVENUE">Revenue</option>
                            <option value="EXPENSES">Expenses</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Parent Account</label>
                        <select id="filter-parent" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option value="">All</option>
                            <option value="ROOT">Root</option>
                        </select>
                    </div>
                    <button id="btn-apply-filters" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px;">
                        <i class="fas fa-filter"></i> Apply
                    </button>
                </div>
            </div>
            
            <!-- TABLE SECTION -->
            <div class="table-container">
                <table class="chart-of-accounts-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Code</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 200px;">Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Type</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 150px;">Parent</th>
                            <th style="padding: 15px; text-align: right; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Balance</th>
                            <th style="padding: 15px; text-align: center; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark); width: 120px;">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="accounts-table-body">
                        <!-- Data will be loaded here by JavaScript -->
                        <tr>
                            <td colspan="6" style="padding: 40px; text-align: center; color: #64748b;">
                                <div style="margin-bottom: 10px;">
                                    <i class="fas fa-spinner fa-spin" style="font-size: 24px; color: var(--primary);"></i>
                                </div>
                                <div style="font-size: 14px;">
                                    Loading accounts...
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- PAGINATION SECTION -->
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select id="page-limit" style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option value="10">10</option>
                            <option value="20" selected>20</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div id="pagination-info" style="color: #64748b; font-size: 14px;">
                        Loading...
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button id="btn-prev" class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button id="btn-current-page" class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button id="btn-next" class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
           
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'chart-of-accounts-create': {
                            heading: 'Chart Of Accounts',
                            title: 'Chart Of Accounts',
                            content: `
       <div class="chart-of-accounts-create">
         <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
        <button class="btn btn-primary accounts-save-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
            <i class="fas fa-save"></i> Save &Close
        </button>
        <button class="btn btn-outline accounts-back-btn" tyle="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
            <i class="fas fa-arrow-left"></i> Back
        </button>
    </div>
          </div>
     <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; margin-bottom: 20px;">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <!-- Left Column -->
            <div class="form-column">
                <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 14px; font-weight: 600;">Account Details</h4>
                   <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                <div class="form-group">
                    <label>Code*</label>
                    <input type="text" id="account-code" placeholder="e.g., 100-100" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                </div>
                
                <div class="form-group">
                     <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Name*</label>
                    <input type="text" id="account-name" placeholder="e.g., Cash" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                </div>
                
                <div class="form-group">
                   <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Description</label>
                    <textarea id="account-description"style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; min-height: 60px; resize: vertical;"></textarea>
                </div>
                
                <div class="form-group">
       <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Currency*</label>
    <select id="account-currency" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
        <!-- THIS WILL BE FILLED BY JAVASCRIPT -->
        <option value="">Loading currencies...</option>
    </select>
</div>
                
                <div class="form-group">
                    <labelstyle="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-top: 10px;">

                        <input type="checkbox" id="is-placeholder"  style="accent-color: var(--primary);">
                        <span style="font-weight: 600; color: var(--dark); font-size: 13px;">Is Placeholder</span>
                    </label>
              </div>
                        </div>
                    </div>
             <!-- Right Column -->
                    <div class="form-column">
     <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Parent Account</label>
    <select id="parent-account"style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
        <!-- THIS WILL BE FILLED BY JAVASCRIPT -->
        <option value="">Loading parent accounts...</option>
    </select>
    <br>
                                <br>
                                 <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
               <div class="form-group">
    <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Account Type*</label>
    <select id="account-type" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
       <option value="CASH">CASH</option>
        
        <!-- CASH RELATED -->
        <option value="BANK">BANK</option>
          <option value="ASSETS">ASSETS</option>
        <option value="CREDIT_CARD">CREDIT CARD</option>
        
        <!-- LIABILITIES -->
        
        <option value="LIABILITY">LIABILITY</option>
        <option value="MUTUAL_FUND">MUTUAL FUND</option>
        
        <!-- RECEIVABLES/PAYABLES -->
        <option value="AR_RECEIVABLE">A/R RECEIVABLE</option>
        <option value="AR_PAYABLE">A/R PAYABLE</option>
        
        <!-- INCOME/EXPENSES -->
        <option value="INCOME">INCOME</option>
        <option value="EQUITY">EQUITY</option>
        <option value="EXPENSES">EXPENSES</option>
        
        <!-- OTHER ASSETS -->
        <option value="REVENUE">REVENUE</option>
   
</div>

                            
                
                <div class="form-group">
                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                        <input type="checkbox" id="is-system-account"  style="accent-color: var(--primary);">
                         <span style="font-weight: 600; color: var(--dark); font-size: 13px;">Is System Account</span>
                    </label>
                </div>
                
                <div class="form-group">
                     <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                        <input type="checkbox" id="is-active" checked style="accent-color: var(--primary);">
                        <span style="font-weight: 600; color: var(--dark); font-size: 13px;">Is Active</span>
                    </label>
                </div>
                
                <div class="form-group">
                    <label>Opening Balance</label>
                    <input type="number" id="opening-balance" value="0.00" step="0.01">
                </div>
            </div>
        </div>
    </div>
</div>
    `
                        }, 'question-groups': {
                            heading: 'Question Groups',
                            title: 'Question Groups Management',
                            content: `
        <div class="question-groups-management">
            <div style="background: #fffbeb; border: 1px solid #fef3c7; border-radius: 8px; padding: 15px; margin-bottom: 20px;">
                <div style="display: flex; align-items: center; gap: 10px; color: #92400e;">
                    <i class="fas fa-info-circle" style="color: #f59e0b;"></i>
                    <span style="font-size: 14px; font-weight: 500;">
                        There are no entries for AutoCode Generation. Please create AutoCode before creating Question Group!
                    </span>
                </div>
            </div>
            <div class="action-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <!-- Create New Button -->
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-plus"></i> Create New
                    </button>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-download"></i>
                        </button>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <!-- Find a Code -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Find a Code</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Find a Code" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Active Group</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Groups</option>
                            <option>Active</option>
                            <option>Inactive</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-download"></i> Fetch
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-times"></i> Clear
                    </button>
                </div>
            </div>
            <div class="table-container">
                <table class="question-groups-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Code</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="1" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <!-- Show entries dropdown -->
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>   
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'questionnaires': {
                            heading: 'Questionnaires',
                            title: 'Questionnaires Management',
                            content: `
        <div class="questionnaires-management">
            <div style="display: flex; flex-direction: column; gap: 15px; margin-bottom: 20px;">
                <div style="background: #fffbeb; border: 1px solid #fef3c7; border-radius: 8px; padding: 15px;">
                    <div style="display: flex; align-items: center; gap: 10px; color: #92400e;">
                        <i class="fas fa-exclamation-triangle" style="color: #f59e0b;"></i>
                        <span style="font-size: 14px; font-weight: 500;">
                            There are no entries for Question Group. Please create Question Group before the Questionnaires!
                        </span>
                    </div>
                </div>
                <div style="background: #fffbeb; border: 1px solid #fef3c7; border-radius: 8px; padding: 15px;">
                    <div style="display: flex; align-items: center; gap: 10px; color: #92400e;">
                        <i class="fas fa-exclamation-triangle" style="color: #f59e0b;"></i>
                        <span style="font-size: 14px; font-weight: 500;">
                            There are no entries for Rating type. Please create Rating type before the Questionnaires!
                        </span>
                    </div>
                </div>
            </div>
            <div class="action-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <!-- Create New Button -->
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-plus"></i> Create New
                    </button>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-download"></i>
                        </button>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <!-- All Dropdown -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">All</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Questionnaires</option>
                            <option>Active</option>
                            <option>Inactive</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Active Questionnaires</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Status</option>
                            <option>Active</option>
                            <option>Draft</option>
                            <option>Archived</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-download"></i> Fetch
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-times"></i> Clear
                    </button>
                </div>
            </div>
            <div class="table-container">
                <table class="questionnaires-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Question</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Type</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Rating Type</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="4" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <!-- Show entries dropdown -->
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>    
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'rating-definitions': {
                            heading: 'Rating Definitions',
                            title: 'Rating Definitions Management',
                            content: `
        <div class="rating-definitions-management">
            <div class="action-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <!-- Create New Button -->
                    <button class="btn btn-primary rating-definition-create-btn" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-plus"></i> Create 
                    </button>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-download"></i>
                        </button>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Find a Code</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Find a Code" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Active Rating Definitions</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Definitions</option>
                            <option>Active</option>
                            <option>Inactive</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-download"></i> Fetch
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-times"></i> Clear
                    </button>
                </div>
            </div>
            <div class="table-container">
                <table class="rating-definitions-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Type</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="1" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>   
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'rating-definition-create': {
                            heading: 'Rating Definition Create',
                            title: 'Rating Definition Create',
                            content: `
        <div class="rating-definition-create">
            <div class="form-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-save"></i> Save & Close
                    </button>
                    <button class="btn btn-outline rating-definition-back-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
            </div>

            <!-- Main Form Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    
                    <!-- Left Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Type*</label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="form-column">
                        <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Value*</label>
                                <input type="text" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Is Active Checkbox -->
                <div style="margin-top: 15px;">
                    <div class="checkbox-group">
                        <input type="checkbox" id="is-active" style="margin-right: 8px;">
                        <label for="is-active" style="font-weight: 600; color: var(--dark); font-size: 12px;">Is Active</label>
                    </div>
                </div>
            </div>

            <!-- Rating Items Table Section -->
            <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <h4 style="color: var(--dark); margin-bottom: 15px; font-size: 13px; font-weight: 600;">Rating Items</h4>
                
                <table style="width: 100%; border-collapse: collapse;">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">S.No.</th>
                            <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Code*</th>
                            <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Name*</th>
                            <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Value</th>
                            <th style="padding: 12px; text-align: left; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Description</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-weight: 600; color: var(--dark); font-size: 12px;">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-size: 13px;">1</td>
                            <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">
                                <input type="text" style="width: 100%; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 12px;">
                            </td>
                            <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">
                                <input type="text" style="width: 100%; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 12px;">
                            </td>
                            <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">
                                <input type="text" style="width: 100%; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 12px;">
                            </td>
                            <td style="padding: 12px; border: 1px solid #e2e8f0; font-size: 13px;">
                                <input type="text" style="width: 100%; padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 12px;">
                            </td>
                            <td style="padding: 12px; text-align: center; border: 1px solid #e2e8f0; font-size: 13px;">
                                <button class="btn-remove" style="background: none; border: none; color: #ef4444; cursor: pointer; font-size: 16px;">
                                    <i class="fas fa-times"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <!-- Add Row Button -->
                <div style="margin-top: 15px;">
                    <button class="btn btn-outline add-rating-item-btn" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-plus"></i> Add Rating Item
                    </button>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'appraisal-templates': {
                            heading: 'Appraisal Template',
                            title: 'Appraisal Template Management',
                            content: `
        <div class="appraisal-template-management">
            <div style="display: flex; flex-direction: column; gap: 15px; margin-bottom: 20px;">
                <div style="background: #fffbeb; border: 1px solid #fef3c7; border-radius: 8px; padding: 15px;">
                    <div style="display: flex; align-items: center; gap: 10px; color: #92400e;">
                        <i class="fas fa-exclamation-triangle" style="color: #f59e0b;"></i>
                        <span style="font-size: 14px; font-weight: 500;">
                            There are no entries for Question Group. Please create Question Group before the Questionnaires!
                        </span>
                    </div>
                </div>
                <div style="background: #fffbeb; border: 1px solid #fef3c7; border-radius: 8px; padding: 15px;">
                    <div style="display: flex; align-items: center; gap: 10px; color: #92400e;">
                        <i class="fas fa-exclamation-triangle" style="color: #f59e0b;"></i>
                        <span style="font-size: 14px; font-weight: 500;">
                            <strong>There are no entries for Questionnaires.</strong> Please create Questionnaires before the Questionnaires!
                        </span>
                    </div>
                </div>
            </div>
            <div class="action-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-plus"></i> Create New
                    </button>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-download"></i>
                        </button>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Find a Name</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Find a Name" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Active Templates</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Templates</option>
                            <option>Active</option>
                            <option>Inactive</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">All</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Status</option>
                            <option>Draft</option>
                            <option>Published</option>
                            <option>Archived</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-download"></i> Fetch
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-times"></i> Clear
                    </button>
                </div>
            </div>
            <div class="table-container">
                <table class="appraisal-template-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Status</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="3" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>          
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-primary" style="padding: 6px 12px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 12px;">1</button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'appraisal': {
                            heading: 'Appraisal Index',
                            title: 'Appraisal Index Management',
                            content: `
        <div class="appraisal-index-management">
            <div style="background: #fffbeb; border: 1px solid #fef3c7; border-radius: 8px; padding: 15px; margin-bottom: 20px;">
                <div style="display: flex; align-items: center; gap: 10px; color: #92400e;">
                    <i class="fas fa-exclamation-triangle" style="color: #f59e0b;"></i>
                    <span style="font-size: 14px; font-weight: 500;">
                        There are no entries for AutoCode Generation. Please create AutoCode before creating Appraisal!
                    </span>
                </div>
            </div>
            <div class="action-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <!-- Create New Button -->
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-plus"></i> Create New
                    </button>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-download"></i>
                        </button>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Find a Code</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Find a Code" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Active Templates</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Templates</option>
                            <option>Active</option>
                            <option>Inactive</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-download"></i> Fetch
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-times"></i> Clear
                    </button>
                </div>
            </div>
            <div class="table-container">
                <table class="appraisal-index-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Code</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Name</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="3" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <!-- Show entries dropdown -->
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>       
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        }, 'appraisal-process': {
                            heading: 'Appraisal Process',
                            title: 'Appraisal Process Management',
                            content: `
        <div class="appraisal-process-management">
            <div style="display: flex; flex-direction: column; gap: 15px; margin-bottom: 20px;">
                <div style="background: #fffbeb; border: 1px solid #fef3c7; border-radius: 8px; padding: 15px;">
                    <div style="display: flex; align-items: center; gap: 10px; color: #92400e;">
                        <i class="fas fa-exclamation-triangle" style="color: #f59e0b;"></i>
                        <span style="font-size: 14px; font-weight: 500;">
                            There are no entries for Appraisal. Please create Appraisal before the Appraisal process!
                        </span>
                    </div>
                </div>
                <div style="background: #fffbeb; border: 1px solid #fef3c7; border-radius: 8px; padding: 15px;">
                    <div style="display: flex; align-items: center; gap: 10px; color: #92400e;">
                        <i class="fas fa-exclamation-triangle" style="color: #f59e0b;"></i>
                        <span style="font-size: 14px; font-weight: 500;">
                            There are no entries for Appraisal Template. Please create Appraisal Template before the Appraisal process!
                        </span>
                    </div>
                </div>
            </div>
            <div class="action-section" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e2e8f0;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <!-- Create New Button -->
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-plus"></i> Create New
                    </button>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                        <button class="btn btn-outline" style="padding: 8px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-download"></i>
                        </button>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr auto auto; gap: 15px; align-items: end;">
                    <!-- Start Date -->
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">01/11/2025</label>
                        <input type="date" value="2025-11-01" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">26/11/2025</label>
                        <input type="date" value="2025-11-26" style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Employees</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Employees</option>
                            <option>Active Employees</option>
                            <option>Inactive Employees</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Appraisal Temp...</label>
                        <select style="width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                            <option>All Templates</option>
                            <option>Active Templates</option>
                            <option>Draft Templates</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 6px; font-weight: 600; color: var(--dark); font-size: 12px;">Find a Code</label>
                        <div style="position: relative;">
                            <i class="fas fa-search" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #64748b; font-size: 13px;"></i>
                            <input type="text" placeholder="Find a Code" style="width: 100%; padding: 8px 10px 8px 30px; border: 1px solid #d1d5db; border-radius: 5px; font-size: 13px; background: white; height: 36px;">
                        </div>
                    </div>
                    <button class="btn btn-primary" style="padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-download"></i> Fetch
                    </button>
                    <button class="btn btn-outline" style="padding: 8px 16px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; height: 36px; display: flex; align-items: center; gap: 5px; font-size: 13px;">
                        <i class="fas fa-times"></i> Clear
                    </button>
                </div>
            </div>
            <div class="table-container">
                <table class="appraisal-process-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <thead>
                        <tr style="background: #f8fafc;">
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Date</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Appraisal Code</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Employee</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Template</th>
                            <th style="padding: 15px; text-align: left; border-bottom: 2px solid #e2e8f0; font-weight: 600; color: var(--dark);">Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="5" style="text-align: center; padding: 40px; color: #64748b; font-style: italic;">
                                <i class="fas fa-inbox" style="font-size: 48px; color: #d1d5db; margin-bottom: 10px; display: block;"></i>
                                No data available in table
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pagination" style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding: 15px; background: white; border: 1px solid #e2e8f0; border-radius: 8px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <!-- Show entries dropdown -->
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: #64748b; font-size: 14px;">Show</span>
                        <select style="padding: 4px 8px; border: 1px solid #d1d5db; border-radius: 4px; font-size: 13px; background: white;">
                            <option>10</option>
                            <option selected>20</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                        <span style="color: #64748b; font-size: 14px;">entries</span>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="pagination-info" style="color: #64748b; font-size: 14px;">
                        Showing 0 to 0 of 0 entries
                    </div>
                    <div class="pagination-controls" style="display: flex; gap: 5px;">
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Previous
                        </button>
                        <button class="btn btn-outline" style="padding: 6px 12px; background: white; color: var(--secondary); border: 1px solid #d1d5db; border-radius: 5px; cursor: pointer; font-size: 12px;">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px; padding: 15px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0;">
                Copyright Â© 2025-2026 UniproSG Pvt Ltd. All rights reserved.
            </div>
        </div>
    `
                        },
                    };
                    const pageData = pageContents[page] || {
                        heading: page ? page.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase()) : 'Page',
                        title: page ? page.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase()) : 'Page',
                        content: `<div class="card"><div class="card-header"><div class="card-title">${page ? page.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase()) : 'Page'}</div></div><p>This page content is under development.</p></div>`
                    };
                    heading = pageData.heading;
                    title = pageData.title;
                    content = pageData.content;
                    pageHeading.textContent = companyName;
                    contentTitle.textContent = title;
                    pageContent.innerHTML = content;
                }
                document.querySelector('.nav-item[data-page="home"]').classList.add('active');
                updatePageContent('home');
                document.addEventListener('click', function (e) {
                    if (!e.target.closest('.sidebar')) {
                        if (activeMainDropdown) {
                            activeMainDropdown.classList.remove('show');
                            document.querySelectorAll('.dropdown-toggle.active').forEach(toggle => {
                                toggle.classList.remove('active');
                            });
                            activeMainDropdown = null;
                            activeNestedDropdown = null;
                        }
                    }
                    // Format radio button functionality
                    document.addEventListener('DOMContentLoaded', function () {
                        const formatRadios = document.querySelectorAll('input[name="format"]');
                        const projectSelection = document.getElementById('projectSelection');

                        formatRadios.forEach(radio => {
                            radio.addEventListener('change', function () {
                                if (this.value === 'project') {
                                    projectSelection.style.display = 'block';
                                } else {
                                    projectSelection.style.display = 'none';
                                }
                            });
                        });
                    });


                    const tabs = document.querySelectorAll('.notification-tab');
                    const contents = document.querySelectorAll('.notification-content');

                    tabs.forEach(tab => {
                        tab.addEventListener('click', function () {
                            // Remove active class from all tabs and contents
                            tabs.forEach(t => t.style.background = '#f8fafc');
                            tabs.forEach(t => t.style.color = 'var(--dark)');
                            contents.forEach(c => c.style.display = 'none');

                            // Add active class to clicked tab
                            this.style.background = 'var(--primary)';
                            this.style.color = 'white';

                            // Show corresponding content
                            const tabType = this.textContent.trim().toLowerCase().replace(' ', '-');
                            const content = document.querySelector('.' + tabType);
                            if (content) {
                                content.style.display = 'block';
                            }
                        });
                    });


                    document.querySelectorAll('.dropdown-menu, .nested-dropdown').forEach(dropdown => {
                        dropdown.addEventListener('click', function (e) {
                            e.stopPropagation();
                        });
                    });

                    if (e.target.closest('.btn-outline') && e.target.textContent.includes('Convert')) {
                        const dropdown = e.target.closest('.btn-outline').nextElementSibling;
                        dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
                    }
                    if (e.target.closest('.tab-btn')) {
                        const tabButtons = document.querySelectorAll('.tab-btn');
                        const tabContents = document.querySelectorAll('.tab-content');

                        tabButtons.forEach(btn => btn.classList.remove('active'));
                        tabContents.forEach(content => content.style.display = 'none');

                        const clickedTab = e.target.closest('.tab-btn');
                        clickedTab.classList.add('active');
                        const tabId = clickedTab.getAttribute('data-tab');
                        document.getElementById(`${tabId}-tab`).style.display = 'block';
                    }
                    if (e.target.closest('.tab-btn')) {
                        const tabButtons = document.querySelectorAll('.tab-btn');
                        const tabContents = document.querySelectorAll('.tab-content');

                        tabButtons.forEach(btn => btn.classList.remove('active'));
                        tabContents.forEach(content => content.style.display = 'none');

                        const clickedTab = e.target.closest('.tab-btn');
                        clickedTab.classList.add('active');
                        const tabId = clickedTab.getAttribute('data-tab');
                        document.getElementById(`${tabId}-tab`).style.display = 'block';
                    }

                    // Other button actions
                    if (e.target.closest('.btn-primary')) {
                        const button = e.target.closest('button');

                        if (button.textContent.includes('Fetch')) {
                            fetchLeaveData();
                        } else if (button.textContent.includes('Create New')) {
                            createNewLeaveEntry();
                        }
                    }
                    if (e.target.closest('.customer-create-btn')) {
                        updatePageContent('customer-create');
                    }
                    if (e.target.closest('.customer-back-btn')) {
                        updatePageContent('customer');
                    }
                    if (e.target.closest('.btn-outline') && e.target.textContent.includes('Back')) {
                        updatePageContent('customer');
                    }
                    if (e.target.closest('.btn-primary') && e.target.textContent.includes('Add Customer')) {
                        updatePageContent('customer-create');
                    }
                    if (e.target.closest('.project-create-btn')) {
                        updatePageContent('project-create');
                    }
                    if (e.target.closest('.project-back-btn')) {
                        updatePageContent('project-management');
                    }
                    if (e.target.closest('.project-task-autocode-btn')) {
                        updatePageContent('project-task-autocode-create');
                    }
                    if (e.target.closest('.autocode-back-btn')) {
                        updatePageContent('project-tasks');
                    }
                    if (e.target.closest('.project-task-create-btn')) {
                        updatePageContent('project-create-auto');
                    }
                    if (e.target.closest('.project-create-back-btn')) {
                        updatePageContent('project-tasks');
                    }
                    if (e.target.closest('.employee-monthly-attendance-create-btn')) {
                        updatePageContent('employee-monthly-attendance-create');
                    }
                    if (e.target.closest('.employee-attendance-back-btn')) {
                        updatePageContent('monthly-attendance');
                    }
                    if (e.target.closest('.daily-attendance-create-btn')) {
                        updatePageContent('daily-attendance-create');
                    }
                    if (e.target.closest('.daily-attendance-back-btn')) {
                        updatePageContent('daily-attendance');
                    }
                    if (e.target.closest('.daily-clock-in-out-btn')) {
                        updatePageContent('daily-clock-in-out-create');
                    }
                    if (e.target.closest('.daily-clock-back-btn')) {
                        updatePageContent('daily-clock-in-out');
                    }
                    if (e.target.closest('.employee-leave-create-btn')) {
                        updatePageContent('employee-leave-create');
                    }
                    if (e.target.closest('.employee-leave-create-back-btn')) {
                        updatePageContent('leave-management');
                    }
                    if (e.target.closest('.leave-carry-forward-create-btn')) {
                        updatePageContent('leave-carry-forward-create');
                    }
                    if (e.target.closest('.leave-carry-forward-back-btn')) {
                        updatePageContent('leave-carry-forward'); // Back to leave management page
                    }
                    if (e.target.closest('.loan-entry-create-btn')) {
                        updatePageContent('loan-entry-create');
                    }
                    if (e.target.closest('.loan-entry-back-btn')) {
                        updatePageContent('loan-management');
                    }
                    if (e.target.closest('.earnings-deductions-create-btn')) {
                        updatePageContent('earnings-deductions-create');
                    }
                    if (e.target.closest('.earnings-deductions-back-btn')) {
                        updatePageContent('earnings-deductions');
                    }
                    if (e.target.closest('.claims-management-btn')) {
                        updatePageContent('claims-management-create');
                    }
                    if (e.target.closest('.hr-bank-file-generate-btn')) {
                        updatePageContent('hr-bank-file-generate');
                    }
                    if (e.target.closest('.bank-file-back-btn')) {
                        updatePageContent('HR-may-bank-file-generate');
                    }
                    if (e.target.closest('.claims-back-btn')) {
                        updatePageContent('claim-management');
                    }
                    if (e.target.closest('.locations-create-btn')) {
                        updatePageContent('locations-create');
                    }
                    if (e.target.closest('.department-create-btn')) {
                        updatePageContent('department-create');
                    }
                    if (e.target.closest('.department-back-btn')) {
                        updatePageContent('departments');
                    }
                    if (e.target.closest('.locations-back-btn')) {
                        updatePageContent('locations');
                    }
                    if (e.target.closest('.employee-type-create-btn')) {
                        updatePageContent('employee-type-create');
                    }
                    if (e.target.closest('.employee-type-back-btn')) {
                        updatePageContent('employee-types');
                    }
                    if (e.target.closest('.earnings-type-create-btn')) {
                        updatePageContent('earnings-type-create');
                    }
                    if (e.target.closest('.earnings-type-back-btn')) {
                        updatePageContent('earnings-types'); // Back to earnings types listing page
                    }
                    if (e.target.closest('.leave-types-create-btn')) {
                        updatePageContent('leave-types-create');
                    }
                    if (e.target.closest('.leave-types-back-btn')) {
                        updatePageContent('leave-types');
                    }
                    if (e.target.closest('.leave-planner-create-btn')) {
                        updatePageContent('leave-planner-create');
                    }
                    if (e.target.closest('.leave-planner-back-btn')) {
                        updatePageContent('leave-planner');
                    }
                    if (e.target.closest('.loan-type-create-btn')) {
                        updatePageContent('loan-create');
                    }
                    if (e.target.closest('.loan-back-btn')) {
                        updatePageContent('loan-types');
                    }
                    if (e.target.closest('.public-holiday-create-btn')) {
                        updatePageContent('public-holiday-create');
                    }
                    if (e.target.closest('.public-holiday-back-btn')) {
                        updatePageContent('public-holidays');
                    }
                    if (e.target.closest('.claim-types-create-btn')) {
                        updatePageContent('claim-types-create');
                    }
                    if (e.target.closest('.claim-types-back-btn')) {
                        updatePageContent('claims-types');
                    }
                    if (e.target.closest('.ot-types-create-btn')) {
                        updatePageContent('ot-types-create');
                    }
                    if (e.target.closest('.ot-types-back-btn')) {
                        updatePageContent('ot-types');
                    }
                    if (e.target.closest('.bank-create-btn')) {
                        updatePageContent('bank-create');
                    }
                    if (e.target.closest('.bank-back-btn')) {
                        updatePageContent('bank');
                    }
                    if (e.target.closest('.paymode-create-btn')) {
                        updatePageContent('paymode-create');
                    }
                    if (e.target.closest('.paymode-back-btn')) {
                        updatePageContent('paymode');
                    }
                    if (e.target.closest('.account-division-create-btn')) {
                        updatePageContent('account-division-create');
                    }
                    if (e.target.closest('.account-division-back-btn')) {
                        updatePageContent('accounts-settings-account-division');
                    }
                    if (e.target.closest('.chart-of-accounts-create-btn')) {
                        updatePageContent('chart-of-accounts-create');
                    }
                    if (e.target.closest('.chart-of-accounts-back-btn')) {
                        updatePageContent('charts-of-accounts');
                    }
                    if (e.target.closest('.rating-definition-create-btn')) {
                        updatePageContent('rating-definition-create');
                    }
                    if (e.target.closest('.rating-definition-back-btn')) {
                        updatePageContent('rating-definitions');
                    }
                    if (!e.target.closest('.btn-outline') && !e.target.closest('.dropdown-menu')) {
                        document.querySelectorAll('.dropdown-menu').forEach(dropdown => {

                        });
                    }
                    if (e.target.closest('.btn-primary') && e.target.textContent.includes('Save & Close')) {
                        const codeInput = document.querySelector('input[value="0121"]') || document.querySelector('input[type="text"]');
                        const nameInput = document.querySelector('input[placeholder*="Name"]') || document.querySelectorAll('input[type="text"]')[1];
                        const formData = {
                            code: codeInput?.value || '0121',
                            name: nameInput?.value || 'New Customer',
                            currency: document.querySelector('select')?.value || 'SGD',
                            contact: document.querySelector('input[placeholder*="Phone"]')?.value || '',
                            creditLimit: '0.00',
                            creditOnHold: '0.00'
                        };
                        saveCustomerData(formData);
                        showNotification('Customer saved successfully!', 'success');
                        setTimeout(() => {
                            updatePageContent('customers');
                        }, 1000);
                    }

                });

            });
            const loadPageContent = async (page) => {
                if (!pageContents[page]) {
                    const response = await fetch(`/pages/${page}.html`);
                    return await response.text();
                }
                return pageContents[page];
            };
        </script>
</body>

</html>